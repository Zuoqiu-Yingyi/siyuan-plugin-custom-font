"use strict";var vo=Object.defineProperty;var Ao=(t,e,n)=>e in t?vo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Z=(t,e,n)=>(Ao(t,typeof e!="symbol"?e+"":e,n),n);const ne=require("siyuan");var Co=Object.defineProperty,Bo=(t,e,n)=>e in t?Co(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,de=(t,e,n)=>(Bo(t,typeof e!="symbol"?e+"":e,n),n);function $n(t,e){return function(){return t.apply(e,arguments)}}const{toString:jo}=Object.prototype,{getPrototypeOf:bt}=Object,Ke=(t=>e=>{const n=jo.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ae=t=>(t=t.toLowerCase(),e=>Ke(e)===t),Je=t=>e=>typeof e===t,{isArray:Oe}=Array,Be=Je("undefined");function Do(t){return t!==null&&!Be(t)&&t.constructor!==null&&!Be(t.constructor)&&X(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Mn=ae("ArrayBuffer");function Po(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Mn(t.buffer),e}const Ro=Je("string"),X=Je("function"),Fn=Je("number"),We=t=>t!==null&&typeof t=="object",$o=t=>t===!0||t===!1,Le=t=>{if(Ke(t)!=="object")return!1;const e=bt(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Mo=ae("Date"),Fo=ae("File"),Lo=ae("Blob"),qo=ae("FileList"),Io=t=>We(t)&&X(t.pipe),Uo=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||X(t.append)&&((e=Ke(t))==="formdata"||e==="object"&&X(t.toString)&&t.toString()==="[object FormData]"))},Ho=ae("URLSearchParams"),zo=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Re(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let o,s;if(typeof t!="object"&&(t=[t]),Oe(t))for(o=0,s=t.length;o<s;o++)e.call(null,t[o],o,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),r=i.length;let l;for(o=0;o<r;o++)l=i[o],e.call(null,t[l],l,t)}}function Ln(t,e){e=e.toLowerCase();const n=Object.keys(t);let o=n.length,s;for(;o-- >0;)if(s=n[o],e===s.toLowerCase())return s;return null}const qn=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),In=t=>!Be(t)&&t!==qn;function lt(){const{caseless:t}=In(this)&&this||{},e={},n=(o,s)=>{const i=t&&Ln(e,s)||s;Le(e[i])&&Le(o)?e[i]=lt(e[i],o):Le(o)?e[i]=lt({},o):Oe(o)?e[i]=o.slice():e[i]=o};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&Re(arguments[o],n);return e}const Vo=(t,e,n,{allOwnKeys:o}={})=>(Re(e,(s,i)=>{n&&X(s)?t[i]=$n(s,n):t[i]=s},{allOwnKeys:o}),t),Go=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ko=(t,e,n,o)=>{t.prototype=Object.create(e.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Jo=(t,e,n,o)=>{let s,i,r;const l={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)r=s[i],(!o||o(r,t,e))&&!l[r]&&(e[r]=t[r],l[r]=!0);t=n!==!1&&bt(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Wo=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const o=t.indexOf(e,n);return o!==-1&&o===n},Yo=t=>{if(!t)return null;if(Oe(t))return t;let e=t.length;if(!Fn(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Qo=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&bt(Uint8Array)),Xo=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=n.next())&&!o.done;){const s=o.value;e.call(t,s[0],s[1])}},Zo=(t,e)=>{let n;const o=[];for(;(n=t.exec(e))!==null;)o.push(n);return o},xo=ae("HTMLFormElement"),es=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,n,o){return n.toUpperCase()+o}),$t=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),ts=ae("RegExp"),Un=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),o={};Re(n,(s,i)=>{e(s,i,t)!==!1&&(o[i]=s)}),Object.defineProperties(t,o)},ns=t=>{Un(t,(e,n)=>{if(X(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=t[n];if(X(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},os=(t,e)=>{const n={},o=s=>{s.forEach(i=>{n[i]=!0})};return Oe(t)?o(t):o(String(t).split(e)),n},ss=()=>{},is=(t,e)=>(t=+t,Number.isFinite(t)?t:e),tt="abcdefghijklmnopqrstuvwxyz",Mt="0123456789",Hn={DIGIT:Mt,ALPHA:tt,ALPHA_DIGIT:tt+tt.toUpperCase()+Mt},rs=(t=16,e=Hn.ALPHA_DIGIT)=>{let n="";const{length:o}=e;for(;t--;)n+=e[Math.random()*o|0];return n};function as(t){return!!(t&&X(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const ls=t=>{const e=new Array(10),n=(o,s)=>{if(We(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[s]=o;const i=Oe(o)?[]:{};return Re(o,(r,l)=>{const a=n(r,s+1);!Be(a)&&(i[l]=a)}),e[s]=void 0,i}}return o};return n(t,0)},cs=ae("AsyncFunction"),us=t=>t&&(We(t)||X(t))&&X(t.then)&&X(t.catch),g={isArray:Oe,isArrayBuffer:Mn,isBuffer:Do,isFormData:Uo,isArrayBufferView:Po,isString:Ro,isNumber:Fn,isBoolean:$o,isObject:We,isPlainObject:Le,isUndefined:Be,isDate:Mo,isFile:Fo,isBlob:Lo,isRegExp:ts,isFunction:X,isStream:Io,isURLSearchParams:Ho,isTypedArray:Qo,isFileList:qo,forEach:Re,merge:lt,extend:Vo,trim:zo,stripBOM:Go,inherits:Ko,toFlatObject:Jo,kindOf:Ke,kindOfTest:ae,endsWith:Wo,toArray:Yo,forEachEntry:Xo,matchAll:Zo,isHTMLForm:xo,hasOwnProperty:$t,hasOwnProp:$t,reduceDescriptors:Un,freezeMethods:ns,toObjectSet:os,toCamelCase:es,noop:ss,toFiniteNumber:is,findKey:Ln,global:qn,isContextDefined:In,ALPHABET:Hn,generateString:rs,isSpecCompliantForm:as,toJSONObject:ls,isAsyncFn:cs,isThenable:us};function F(t,e,n,o,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),o&&(this.request=o),s&&(this.response=s)}g.inherits(F,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:g.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const zn=F.prototype,Vn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Vn[t]={value:t}});Object.defineProperties(F,Vn);Object.defineProperty(zn,"isAxiosError",{value:!0});F.from=(t,e,n,o,s,i)=>{const r=Object.create(zn);return g.toFlatObject(t,r,function(l){return l!==Error.prototype},l=>l!=="isAxiosError"),F.call(r,t.message,e,n,o,s),r.cause=t,r.name=t.name,i&&Object.assign(r,i),r};const fs=null;function ct(t){return g.isPlainObject(t)||g.isArray(t)}function Gn(t){return g.endsWith(t,"[]")?t.slice(0,-2):t}function Ft(t,e,n){return t?t.concat(e).map(function(o,s){return o=Gn(o),!n&&s?"["+o+"]":o}).join(n?".":""):e}function hs(t){return g.isArray(t)&&!t.some(ct)}const ps=g.toFlatObject(g,{},null,function(t){return/^is[A-Z]/.test(t)});function Ye(t,e,n){if(!g.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=g.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,h){return!g.isUndefined(h[f])});const o=n.metaTokens,s=n.visitor||c,i=n.dots,r=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&g.isSpecCompliantForm(e);if(!g.isFunction(s))throw new TypeError("visitor must be a function");function a(f){if(f===null)return"";if(g.isDate(f))return f.toISOString();if(!l&&g.isBlob(f))throw new F("Blob is not supported. Use a Buffer instead.");return g.isArrayBuffer(f)||g.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function c(f,h,b){let d=f;if(f&&!b&&typeof f=="object"){if(g.endsWith(h,"{}"))h=o?h:h.slice(0,-2),f=JSON.stringify(f);else if(g.isArray(f)&&hs(f)||(g.isFileList(f)||g.endsWith(h,"[]"))&&(d=g.toArray(f)))return h=Gn(h),d.forEach(function(A,Y){!(g.isUndefined(A)||A===null)&&e.append(r===!0?Ft([h],Y,i):r===null?h:h+"[]",a(A))}),!1}return ct(f)?!0:(e.append(Ft(b,h,i),a(f)),!1)}const u=[],_=Object.assign(ps,{defaultVisitor:c,convertValue:a,isVisitable:ct});function p(f,h){if(!g.isUndefined(f)){if(u.indexOf(f)!==-1)throw Error("Circular reference detected in "+h.join("."));u.push(f),g.forEach(f,function(b,d){(!(g.isUndefined(b)||b===null)&&s.call(e,b,g.isString(d)?d.trim():d,h,_))===!0&&p(b,h?h.concat(d):[d])}),u.pop()}}if(!g.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Lt(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function yt(t,e){this._pairs=[],t&&Ye(t,this,e)}const Kn=yt.prototype;Kn.append=function(t,e){this._pairs.push([t,e])};Kn.toString=function(t){const e=t?function(n){return t.call(this,n,Lt)}:Lt;return this._pairs.map(function(n){return e(n[0])+"="+e(n[1])},"").join("&")};function ds(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Jn(t,e,n){if(!e)return t;const o=n&&n.encode||ds,s=n&&n.serialize;let i;if(s?i=s(e,n):i=g.isURLSearchParams(e)?e.toString():new yt(e,n).toString(o),i){const r=t.indexOf("#");r!==-1&&(t=t.slice(0,r)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class ms{constructor(){this.handlers=[]}use(e,n,o){return this.handlers.push({fulfilled:e,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){g.forEach(this.handlers,function(n){n!==null&&e(n)})}}const qt=ms,Wn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gs=typeof URLSearchParams<"u"?URLSearchParams:yt,_s=typeof FormData<"u"?FormData:null,bs=typeof Blob<"u"?Blob:null,ys=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),ks=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),oe={isBrowser:!0,classes:{URLSearchParams:gs,FormData:_s,Blob:bs},isStandardBrowserEnv:ys,isStandardBrowserWebWorkerEnv:ks,protocols:["http","https","file","blob","url","data"]};function Ss(t,e){return Ye(t,new oe.classes.URLSearchParams,Object.assign({visitor:function(n,o,s,i){return oe.isNode&&g.isBuffer(n)?(this.append(o,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function ws(t){return g.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Es(t){const e={},n=Object.keys(t);let o;const s=n.length;let i;for(o=0;o<s;o++)i=n[o],e[i]=t[i];return e}function Yn(t){function e(n,o,s,i){let r=n[i++];const l=Number.isFinite(+r),a=i>=n.length;return r=!r&&g.isArray(s)?s.length:r,a?(g.hasOwnProp(s,r)?s[r]=[s[r],o]:s[r]=o,!l):((!s[r]||!g.isObject(s[r]))&&(s[r]=[]),e(n,o,s[r],i)&&g.isArray(s[r])&&(s[r]=Es(s[r])),!l)}if(g.isFormData(t)&&g.isFunction(t.entries)){const n={};return g.forEachEntry(t,(o,s)=>{e(ws(o),s,n,0)}),n}return null}const Os={"Content-Type":void 0};function Ts(t,e,n){if(g.isString(t))try{return(e||JSON.parse)(t),g.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(t)}const Qe={transitional:Wn,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",o=n.indexOf("application/json")>-1,s=g.isObject(t);if(s&&g.isHTMLForm(t)&&(t=new FormData(t)),g.isFormData(t))return o&&o?JSON.stringify(Yn(t)):t;if(g.isArrayBuffer(t)||g.isBuffer(t)||g.isStream(t)||g.isFile(t)||g.isBlob(t))return t;if(g.isArrayBufferView(t))return t.buffer;if(g.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Ss(t,this.formSerializer).toString();if((i=g.isFileList(t))||n.indexOf("multipart/form-data")>-1){const r=this.env&&this.env.FormData;return Ye(i?{"files[]":t}:t,r&&new r,this.formSerializer)}}return s||o?(e.setContentType("application/json",!1),Ts(t)):t}],transformResponse:[function(t){const e=this.transitional||Qe.transitional,n=e&&e.forcedJSONParsing,o=this.responseType==="json";if(t&&g.isString(t)&&(n&&!this.responseType||o)){const s=!(e&&e.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(i){if(s)throw i.name==="SyntaxError"?F.from(i,F.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:oe.classes.FormData,Blob:oe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};g.forEach(["delete","get","head"],function(t){Qe.headers[t]={}});g.forEach(["post","put","patch"],function(t){Qe.headers[t]=g.merge(Os)});const kt=Qe,Ns=g.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vs=t=>{const e={};let n,o,s;return t&&t.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),o=i.substring(s+1).trim(),!(!n||e[n]&&Ns[n])&&(n==="set-cookie"?e[n]?e[n].push(o):e[n]=[o]:e[n]=e[n]?e[n]+", "+o:o)}),e},It=Symbol("internals");function Te(t){return t&&String(t).trim().toLowerCase()}function qe(t){return t===!1||t==null?t:g.isArray(t)?t.map(qe):String(t)}function As(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(t);)e[o[1]]=o[2];return e}const Cs=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function nt(t,e,n,o,s){if(g.isFunction(o))return o.call(this,e,n);if(s&&(e=n),!!g.isString(e)){if(g.isString(o))return e.indexOf(o)!==-1;if(g.isRegExp(o))return o.test(e)}}function Bs(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,o)=>n.toUpperCase()+o)}function js(t,e){const n=g.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+n,{value:function(s,i,r){return this[o].call(this,e,s,i,r)},configurable:!0})})}let Xe=class{constructor(t){t&&this.set(t)}set(t,e,n){const o=this;function s(r,l,a){const c=Te(l);if(!c)throw new Error("header name must be a non-empty string");const u=g.findKey(o,c);(!u||o[u]===void 0||a===!0||a===void 0&&o[u]!==!1)&&(o[u||l]=qe(r))}const i=(r,l)=>g.forEach(r,(a,c)=>s(a,c,l));return g.isPlainObject(t)||t instanceof this.constructor?i(t,e):g.isString(t)&&(t=t.trim())&&!Cs(t)?i(vs(t),e):t!=null&&s(e,t,n),this}get(t,e){if(t=Te(t),t){const n=g.findKey(this,t);if(n){const o=this[n];if(!e)return o;if(e===!0)return As(o);if(g.isFunction(e))return e.call(this,o,n);if(g.isRegExp(e))return e.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Te(t),t){const n=g.findKey(this,t);return!!(n&&this[n]!==void 0&&(!e||nt(this,this[n],n,e)))}return!1}delete(t,e){const n=this;let o=!1;function s(i){if(i=Te(i),i){const r=g.findKey(n,i);r&&(!e||nt(n,n[r],r,e))&&(delete n[r],o=!0)}}return g.isArray(t)?t.forEach(s):s(t),o}clear(t){const e=Object.keys(this);let n=e.length,o=!1;for(;n--;){const s=e[n];(!t||nt(this,this[s],s,t,!0))&&(delete this[s],o=!0)}return o}normalize(t){const e=this,n={};return g.forEach(this,(o,s)=>{const i=g.findKey(n,s);if(i){e[i]=qe(o),delete e[s];return}const r=t?Bs(s):String(s).trim();r!==s&&delete e[s],e[r]=qe(o),n[r]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return g.forEach(this,(n,o)=>{n!=null&&n!==!1&&(e[o]=t&&g.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach(o=>n.set(o)),n}static accessor(t){const e=(this[It]=this[It]={accessors:{}}).accessors,n=this.prototype;function o(s){const i=Te(s);e[i]||(js(n,s),e[i]=!0)}return g.isArray(t)?t.forEach(o):o(t),this}};Xe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);g.freezeMethods(Xe.prototype);g.freezeMethods(Xe);const le=Xe;function ot(t,e){const n=this||kt,o=e||n,s=le.from(o.headers);let i=o.data;return g.forEach(t,function(r){i=r.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Qn(t){return!!(t&&t.__CANCEL__)}function $e(t,e,n){F.call(this,t??"canceled",F.ERR_CANCELED,e,n),this.name="CanceledError"}g.inherits($e,F,{__CANCEL__:!0});function Ds(t,e,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?t(n):e(new F("Request failed with status code "+n.status,[F.ERR_BAD_REQUEST,F.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Ps=oe.isStandardBrowserEnv?function(){return{write:function(t,e,n,o,s,i){const r=[];r.push(t+"="+encodeURIComponent(e)),g.isNumber(n)&&r.push("expires="+new Date(n).toGMTString()),g.isString(o)&&r.push("path="+o),g.isString(s)&&r.push("domain="+s),i===!0&&r.push("secure"),document.cookie=r.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Rs(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function $s(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Xn(t,e){return t&&!Rs(e)?$s(t,e):e}const Ms=oe.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function o(s){let i=s;return t&&(e.setAttribute("href",i),i=e.href),e.setAttribute("href",i),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return n=o(window.location.href),function(s){const i=g.isString(s)?o(s):s;return i.protocol===n.protocol&&i.host===n.host}}():function(){return function(){return!0}}();function Fs(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Ls(t,e){t=t||10;const n=new Array(t),o=new Array(t);let s=0,i=0,r;return e=e!==void 0?e:1e3,function(l){const a=Date.now(),c=o[i];r||(r=a),n[s]=l,o[s]=a;let u=i,_=0;for(;u!==s;)_+=n[u++],u=u%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),a-r<e)return;const p=c&&a-c;return p?Math.round(_*1e3/p):void 0}}function Ut(t,e){let n=0;const o=Ls(50,250);return s=>{const i=s.loaded,r=s.lengthComputable?s.total:void 0,l=i-n,a=o(l),c=i<=r;n=i;const u={loaded:i,total:r,progress:r?i/r:void 0,bytes:l,rate:a||void 0,estimated:a&&r&&c?(r-i)/a:void 0,event:s};u[e?"download":"upload"]=!0,t(u)}}const qs=typeof XMLHttpRequest<"u",Is=qs&&function(t){return new Promise(function(e,n){let o=t.data;const s=le.from(t.headers).normalize(),i=t.responseType;let r;function l(){t.cancelToken&&t.cancelToken.unsubscribe(r),t.signal&&t.signal.removeEventListener("abort",r)}g.isFormData(o)&&(oe.isStandardBrowserEnv||oe.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let a=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",f=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(p+":"+f))}const c=Xn(t.baseURL,t.url);a.open(t.method.toUpperCase(),Jn(c,t.params,t.paramsSerializer),!0),a.timeout=t.timeout;function u(){if(!a)return;const p=le.from("getAllResponseHeaders"in a&&a.getAllResponseHeaders()),f={data:!i||i==="text"||i==="json"?a.responseText:a.response,status:a.status,statusText:a.statusText,headers:p,config:t,request:a};Ds(function(h){e(h),l()},function(h){n(h),l()},f),a=null}if("onloadend"in a?a.onloadend=u:a.onreadystatechange=function(){!a||a.readyState!==4||a.status===0&&!(a.responseURL&&a.responseURL.indexOf("file:")===0)||setTimeout(u)},a.onabort=function(){a&&(n(new F("Request aborted",F.ECONNABORTED,t,a)),a=null)},a.onerror=function(){n(new F("Network Error",F.ERR_NETWORK,t,a)),a=null},a.ontimeout=function(){let p=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const f=t.transitional||Wn;t.timeoutErrorMessage&&(p=t.timeoutErrorMessage),n(new F(p,f.clarifyTimeoutError?F.ETIMEDOUT:F.ECONNABORTED,t,a)),a=null},oe.isStandardBrowserEnv){const p=(t.withCredentials||Ms(c))&&t.xsrfCookieName&&Ps.read(t.xsrfCookieName);p&&s.set(t.xsrfHeaderName,p)}o===void 0&&s.setContentType(null),"setRequestHeader"in a&&g.forEach(s.toJSON(),function(p,f){a.setRequestHeader(f,p)}),g.isUndefined(t.withCredentials)||(a.withCredentials=!!t.withCredentials),i&&i!=="json"&&(a.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&a.addEventListener("progress",Ut(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&a.upload&&a.upload.addEventListener("progress",Ut(t.onUploadProgress)),(t.cancelToken||t.signal)&&(r=p=>{a&&(n(!p||p.type?new $e(null,t,a):p),a.abort(),a=null)},t.cancelToken&&t.cancelToken.subscribe(r),t.signal&&(t.signal.aborted?r():t.signal.addEventListener("abort",r)));const _=Fs(c);if(_&&oe.protocols.indexOf(_)===-1){n(new F("Unsupported protocol "+_+":",F.ERR_BAD_REQUEST,t));return}a.send(o||null)})},Ie={http:fs,xhr:Is};g.forEach(Ie,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Us={getAdapter:t=>{t=g.isArray(t)?t:[t];const{length:e}=t;let n,o;for(let s=0;s<e&&(n=t[s],!(o=g.isString(n)?Ie[n.toLowerCase()]:n));s++);if(!o)throw o===!1?new F(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(g.hasOwnProp(Ie,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!g.isFunction(o))throw new TypeError("adapter is not a function");return o},adapters:Ie};function st(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new $e(null,t)}function Ht(t){return st(t),t.headers=le.from(t.headers),t.data=ot.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Us.getAdapter(t.adapter||kt.adapter)(t).then(function(e){return st(t),e.data=ot.call(t,t.transformResponse,e),e.headers=le.from(e.headers),e},function(e){return Qn(e)||(st(t),e&&e.response&&(e.response.data=ot.call(t,t.transformResponse,e.response),e.response.headers=le.from(e.response.headers))),Promise.reject(e)})}const zt=t=>t instanceof le?t.toJSON():t;function we(t,e){e=e||{};const n={};function o(c,u,_){return g.isPlainObject(c)&&g.isPlainObject(u)?g.merge.call({caseless:_},c,u):g.isPlainObject(u)?g.merge({},u):g.isArray(u)?u.slice():u}function s(c,u,_){if(g.isUndefined(u)){if(!g.isUndefined(c))return o(void 0,c,_)}else return o(c,u,_)}function i(c,u){if(!g.isUndefined(u))return o(void 0,u)}function r(c,u){if(g.isUndefined(u)){if(!g.isUndefined(c))return o(void 0,c)}else return o(void 0,u)}function l(c,u,_){if(_ in e)return o(c,u);if(_ in t)return o(void 0,c)}const a={url:i,method:i,data:i,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:l,headers:(c,u)=>s(zt(c),zt(u),!0)};return g.forEach(Object.keys(Object.assign({},t,e)),function(c){const u=a[c]||s,_=u(t[c],e[c],c);g.isUndefined(_)&&u!==l||(n[c]=_)}),n}const Zn="1.4.0",St={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{St[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Vt={};St.transitional=function(t,e,n){function o(s,i){return"[Axios v"+Zn+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,r)=>{if(t===!1)throw new F(o(i," has been removed"+(e?" in "+e:"")),F.ERR_DEPRECATED);return e&&!Vt[i]&&(Vt[i]=!0,console.warn(o(i," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(s,i,r):!0}};function Hs(t,e,n){if(typeof t!="object")throw new F("options must be an object",F.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let s=o.length;for(;s-- >0;){const i=o[s],r=e[i];if(r){const l=t[i],a=l===void 0||r(l,i,t);if(a!==!0)throw new F("option "+i+" must be "+a,F.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new F("Unknown option "+i,F.ERR_BAD_OPTION)}}const ut={assertOptions:Hs,validators:St},pe=ut.validators;let ze=class{constructor(t){this.defaults=t,this.interceptors={request:new qt,response:new qt}}request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=we(this.defaults,e);const{transitional:n,paramsSerializer:o,headers:s}=e;n!==void 0&&ut.assertOptions(n,{silentJSONParsing:pe.transitional(pe.boolean),forcedJSONParsing:pe.transitional(pe.boolean),clarifyTimeoutError:pe.transitional(pe.boolean)},!1),o!=null&&(g.isFunction(o)?e.paramsSerializer={serialize:o}:ut.assertOptions(o,{encode:pe.function,serialize:pe.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let i;i=s&&g.merge(s.common,s[e.method]),i&&g.forEach(["delete","get","head","post","put","patch","common"],f=>{delete s[f]}),e.headers=le.concat(i,s);const r=[];let l=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(e)===!1||(l=l&&f.synchronous,r.unshift(f.fulfilled,f.rejected))});const a=[];this.interceptors.response.forEach(function(f){a.push(f.fulfilled,f.rejected)});let c,u=0,_;if(!l){const f=[Ht.bind(this),void 0];for(f.unshift.apply(f,r),f.push.apply(f,a),_=f.length,c=Promise.resolve(e);u<_;)c=c.then(f[u++],f[u++]);return c}_=r.length;let p=e;for(u=0;u<_;){const f=r[u++],h=r[u++];try{p=f(p)}catch(b){h.call(this,b);break}}try{c=Ht.call(this,p)}catch(f){return Promise.reject(f)}for(u=0,_=a.length;u<_;)c=c.then(a[u++],a[u++]);return c}getUri(t){t=we(this.defaults,t);const e=Xn(t.baseURL,t.url);return Jn(e,t.params,t.paramsSerializer)}};g.forEach(["delete","get","head","options"],function(t){ze.prototype[t]=function(e,n){return this.request(we(n||{},{method:t,url:e,data:(n||{}).data}))}});g.forEach(["post","put","patch"],function(t){function e(n){return function(o,s,i){return this.request(we(i||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}ze.prototype[t]=e(),ze.prototype[t+"Form"]=e(!0)});const Ue=ze;let zs=class xn{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const o=this;this.promise.then(s=>{if(!o._listeners)return;let i=o._listeners.length;for(;i-- >0;)o._listeners[i](s);o._listeners=null}),this.promise.then=s=>{let i;const r=new Promise(l=>{o.subscribe(l),i=l}).then(s);return r.cancel=function(){o.unsubscribe(i)},r},e(function(s,i,r){o.reason||(o.reason=new $e(s,i,r),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new xn(function(n){e=n}),cancel:e}}};const Vs=zs;function Gs(t){return function(e){return t.apply(null,e)}}function Ks(t){return g.isObject(t)&&t.isAxiosError===!0}const ft={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ft).forEach(([t,e])=>{ft[e]=t});const Js=ft;function eo(t){const e=new Ue(t),n=$n(Ue.prototype.request,e);return g.extend(n,Ue.prototype,e,{allOwnKeys:!0}),g.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return eo(we(t,o))},n}const G=eo(kt);G.Axios=Ue;G.CanceledError=$e;G.CancelToken=Vs;G.isCancel=Qn;G.VERSION=Zn;G.toFormData=Ye;G.AxiosError=F;G.Cancel=G.CanceledError;G.all=function(t){return Promise.all(t)};G.spread=Gs;G.isAxiosError=Ks;G.mergeConfig=we;G.AxiosHeaders=le;G.formToJSON=t=>Yn(g.isHTMLForm(t)?new FormData(t):t);G.HttpStatusCode=Js;G.default=G;const to=G,{Axios:hl,AxiosError:pl,CanceledError:dl,isCancel:ml,CancelToken:gl,VERSION:_l,all:bl,Cancel:yl,isAxiosError:kl,spread:Sl,toFormData:wl,AxiosHeaders:El,HttpStatusCode:Ws,formToJSON:Ol,mergeConfig:Tl}=to,Ys=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Qs=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Xs=/^\s*["[{]|^\s*-?\d[\d.]{0,14}\s*$/;function Zs(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){xs(t);return}return e}function xs(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function ei(t,e={}){if(typeof t!="string")return t;const n=t.trim();if(t[0]==='"'&&t[t.length-1]==='"')return n.slice(1,-1);const o=n.toLowerCase();if(o==="true")return!0;if(o==="false")return!1;if(o!=="undefined"){if(o==="null")return null;if(o==="nan")return Number.NaN;if(o==="infinity")return Number.POSITIVE_INFINITY;if(o==="-infinity")return Number.NEGATIVE_INFINITY;if(!Xs.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Ys.test(t)||Qs.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Zs)}return JSON.parse(t)}catch(s){if(e.strict)throw s;return t}}}const ti=/#/g,ni=/&/g,oi=/=/g,wt=/\+/g,si=/%5e/gi,ii=/%60/gi,ri=/%7c/gi,ai=/%20/gi;function li(t){return encodeURI(""+t).replace(ri,"|")}function ht(t){return li(typeof t=="string"?t:JSON.stringify(t)).replace(wt,"%2B").replace(ai,"+").replace(ti,"%23").replace(ni,"%26").replace(ii,"`").replace(si,"^")}function it(t){return ht(t).replace(oi,"%3D")}function no(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function ci(t){return no(t.replace(wt," "))}function ui(t){return no(t.replace(wt," "))}function fi(t=""){const e={};t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const o=n.match(/([^=]+)=?(.*)/)||[];if(o.length<2)continue;const s=ci(o[1]);if(s==="__proto__"||s==="constructor")continue;const i=ui(o[2]||"");e[s]===void 0?e[s]=i:Array.isArray(e[s])?e[s].push(i):e[s]=[e[s],i]}return e}function hi(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${it(t)}=${ht(n)}`).join("&"):`${it(t)}=${ht(e)}`:it(t)}function pi(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>hi(e,t[e])).filter(Boolean).join("&")}const di=/^\w{2,}:([/\\]{1,2})/,mi=/^\w{2,}:([/\\]{2})?/,gi=/^([/\\]\s*){2,}[^/\\]/;function oo(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?di.test(t):mi.test(t)||(e.acceptRelative?gi.test(t):!1)}const _i=/\/$|\/\?/;function pt(t="",e=!1){return e?_i.test(t):t.endsWith("/")}function bi(t="",e=!1){if(!e)return(pt(t)?t.slice(0,-1):t)||"/";if(!pt(t,!0))return t||"/";const[n,...o]=t.split("?");return(n.slice(0,-1)||"/")+(o.length>0?`?${o.join("?")}`:"")}function yi(t="",e=!1){if(!e)return t.endsWith("/")?t:t+"/";if(pt(t,!0))return t||"/";const[n,...o]=t.split("?");return n+"/"+(o.length>0?`?${o.join("?")}`:"")}function ki(t,e){if(wi(e)||oo(t))return t;const n=bi(e);return t.startsWith(n)?t:Ti(n,t)}function Si(t,e){const n=so(t),o={...fi(n.search),...e};return n.search=pi(o),Ni(n)}function wi(t){return!t||t==="/"}function Ei(t){return t&&t!=="/"}const Oi=/^\.?\//;function Ti(t,...e){let n=t||"";for(const o of e.filter(s=>Ei(s)))if(n){const s=o.replace(Oi,"");n=yi(n)+s}else n=o;return n}function so(t="",e){if(!oo(t,{acceptRelative:!0}))return e?so(e+t):Gt(t);const[n="",o,s=""]=(t.replace(/\\/g,"/").match(/([^/:]+:)?\/\/([^/@]+@)?(.*)/)||[]).splice(1),[i="",r=""]=(s.match(/([^#/?]*)(.*)?/)||[]).splice(1),{pathname:l,search:a,hash:c}=Gt(r.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:n,auth:o?o.slice(0,Math.max(0,o.length-1)):"",host:i,pathname:l,search:a,hash:c}}function Gt(t=""){const[e="",n="",o=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:o}}function Ni(t){const e=t.pathname+(t.search?(t.search.startsWith("?")?"":"?")+t.search:"")+t.hash;return t.protocol?t.protocol+"//"+(t.auth?t.auth+"@":"")+t.host+e:e}class vi extends Error{constructor(){super(...arguments),this.name="FetchError"}}function Ai(t,e,n){let o="";e&&(o=e.message),t&&n?o=`${o} (${n.status} ${n.statusText} (${t.toString()}))`:t&&(o=`${o} (${t.toString()})`);const s=new vi(o);return Object.defineProperty(s,"request",{get(){return t}}),Object.defineProperty(s,"response",{get(){return n}}),Object.defineProperty(s,"data",{get(){return n&&n._data}}),Object.defineProperty(s,"status",{get(){return n&&n.status}}),Object.defineProperty(s,"statusText",{get(){return n&&n.statusText}}),Object.defineProperty(s,"statusCode",{get(){return n&&n.status}}),Object.defineProperty(s,"statusMessage",{get(){return n&&n.statusText}}),s}const Ci=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function Kt(t="GET"){return Ci.has(t.toUpperCase())}function Bi(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const ji=new Set(["image/svg","application/xml","application/xhtml","application/html"]),Di=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Pi(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return Di.test(e)?"json":ji.has(e)||e.startsWith("text/")?"text":"blob"}function Ri(t,e,n=globalThis.Headers){const o={...e,...t};if(e!=null&&e.params&&t!=null&&t.params&&(o.params={...e==null?void 0:e.params,...t==null?void 0:t.params}),e!=null&&e.query&&t!=null&&t.query&&(o.query={...e==null?void 0:e.query,...t==null?void 0:t.query}),e!=null&&e.headers&&t!=null&&t.headers){o.headers=new n((e==null?void 0:e.headers)||{});for(const[s,i]of new n((t==null?void 0:t.headers)||{}))o.headers.set(s,i)}return o}const $i=new Set([408,409,425,429,500,502,503,504]);function io(t){const{fetch:e,Headers:n}=t;function o(r){const l=r.error&&r.error.name==="AbortError"||!1;if(r.options.retry!==!1&&!l){let c;typeof r.options.retry=="number"?c=r.options.retry:c=Kt(r.options.method)?0:1;const u=r.response&&r.response.status||500;if(c>0&&$i.has(u))return s(r.request,{...r.options,retry:c-1})}const a=Ai(r.request,r.error,r.response);throw Error.captureStackTrace&&Error.captureStackTrace(a,s),a}const s=async function(r,l={}){const a={request:r,options:Ri(l,t.defaults,n),response:void 0,error:void 0};a.options.onRequest&&await a.options.onRequest(a),typeof a.request=="string"&&(a.options.baseURL&&(a.request=ki(a.request,a.options.baseURL)),(a.options.query||a.options.params)&&(a.request=Si(a.request,{...a.options.params,...a.options.query})),a.options.body&&Kt(a.options.method)&&Bi(a.options.body)&&(a.options.body=typeof a.options.body=="string"?a.options.body:JSON.stringify(a.options.body),a.options.headers=new n(a.options.headers||{}),a.options.headers.has("content-type")||a.options.headers.set("content-type","application/json"),a.options.headers.has("accept")||a.options.headers.set("accept","application/json")));try{a.response=await e(a.request,a.options)}catch(u){return a.error=u,a.options.onRequestError&&await a.options.onRequestError(a),await o(a)}const c=(a.options.parseResponse?"json":a.options.responseType)||Pi(a.response.headers.get("content-type")||"");if(c==="json"){const u=await a.response.text(),_=a.options.parseResponse||ei;a.response._data=_(u)}else c==="stream"?a.response._data=a.response.body:a.response._data=await a.response[c]();return a.options.onResponse&&await a.options.onResponse(a),!a.options.ignoreResponseError&&a.response.status>=400&&a.response.status<600?(a.options.onResponseError&&await a.options.onResponseError(a),await o(a)):a.response},i=async function(r,l){return(await s(r,l))._data};return i.raw=s,i.native=e,i.create=(r={})=>io({...t,defaults:{...t.defaults,...r}}),i}const ro=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),Mi=ro.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),Fi=ro.Headers,Li=io({fetch:Mi,Headers:Fi}),rt={SCHEMA_DIR_RELATIVE_PATH:"./../schemas/",SCHEMA_FILENAME_PAYLOAD:"payload.schema.json",SCHEMA_FILENAME_RESPONSE:"response.schema.json",SIYUAN_DEFAULT_BASE_URL:"http://localhost:6806/",SIYUAN_DEFAULT_TOKEN:"",REQUEST_TIMEOUT:6e4};class qi extends Error{constructor(e){super(e.statusText),de(this,"status"),this.response=e,this.status=e.status}}class Jt extends Error{constructor(e,n){super(e.msg),de(this,"code"),this.body=e,this.response=n,this.code=e.code}}var Wt,Yt,Qt,Xt,Zt;const ao=class m{constructor(e={},n="xhr"){de(this,"_type","xhr"),de(this,"_baseURL",((Yt=(Wt=globalThis.top)==null?void 0:Wt.document)==null?void 0:Yt.baseURI)??((Xt=(Qt=globalThis.parent)==null?void 0:Qt.document)==null?void 0:Xt.baseURI)??((Zt=globalThis.location)==null?void 0:Zt.origin)??rt.SIYUAN_DEFAULT_BASE_URL),de(this,"_token",rt.SIYUAN_DEFAULT_TOKEN),de(this,"_axios",to.create({baseURL:this._baseURL,timeout:rt.REQUEST_TIMEOUT,headers:{Authorization:`Token ${this._token}`}})),de(this,"_fetch",Li.create({baseURL:this._baseURL,headers:{Authorization:`Token ${this._token}`}})),this._setClientType(n),this._updateOptions(e,n)}_setClientType(e){this._type=e}_updateOptions(e,n=this._type){switch(this._token=e.token??this._token,n){case"fetch":const o=e;if(o.token){const s="Authorization",i=`Token ${e.token}`;Array.isArray(o.headers)?o.headers.push([s,i]):o.headers instanceof Headers?o.headers.set(s,i):typeof o.headers=="object"?o.headers[s]=i:o.headers={[s]:i},delete e.token}this._fetch=this._fetch.create(o);break;case"xhr":default:for(const[s,i]of Object.entries(e))switch(s){case"token":this._axios.defaults.headers.Authorization=`Token ${e.token}`;break;default:this._axios.defaults[s]=i;break}break}this._baseURL=e.baseURL??this._baseURL}async fullTextSearchBlock(e,n){return await this._request(m.api.search.fullTextSearchBlock.pathname,m.api.search.fullTextSearchBlock.method,e,n)}async getConf(e){return await this._request(m.api.system.getConf.pathname,m.api.system.getConf.method,void 0,e)}async upload(e,n){const o=new FormData;return o.append("assetsDirPath",e.assetsDirPath??"/assets/"),e.files.forEach(s=>o.append("file[]",s)),await this._request(m.api.asset.upload.pathname,m.api.asset.upload.method,o,n)}async getBlockAttrs(e,n){return await this._request(m.api.attr.getBlockAttrs.pathname,m.api.attr.getBlockAttrs.method,e,n)}async getBookmarkLabels(e){return await this._request(m.api.attr.getBookmarkLabels.pathname,m.api.attr.getBookmarkLabels.method,void 0,e)}async setBlockAttrs(e,n){return await this._request(m.api.attr.setBlockAttrs.pathname,m.api.attr.setBlockAttrs.method,e,n)}async appendBlock(e,n){return await this._request(m.api.block.appendBlock.pathname,m.api.block.appendBlock.method,e,n)}async deleteBlock(e,n){return await this._request(m.api.block.deleteBlock.pathname,m.api.block.deleteBlock.method,e,n)}async getBlockBreadcrumb(e,n){return await this._request(m.api.block.getBlockBreadcrumb.pathname,m.api.block.getBlockBreadcrumb.method,e,n)}async getBlockDOM(e,n){return await this._request(m.api.block.getBlockDOM.pathname,m.api.block.getBlockDOM.method,e,n)}async getBlockInfo(e,n){return await this._request(m.api.block.getBlockInfo.pathname,m.api.block.getBlockInfo.method,e,n)}async getBlockKramdown(e,n){return await this._request(m.api.block.getBlockKramdown.pathname,m.api.block.getBlockKramdown.method,e,n)}async getChildBlocks(e,n){return await this._request(m.api.block.getChildBlocks.pathname,m.api.block.getChildBlocks.method,e,n)}async getDocInfo(e,n){return await this._request(m.api.block.getDocInfo.pathname,m.api.block.getDocInfo.method,e,n)}async insertBlock(e,n){return await this._request(m.api.block.insertBlock.pathname,m.api.block.insertBlock.method,e,n)}async moveBlock(e,n){return await this._request(m.api.block.moveBlock.pathname,m.api.block.moveBlock.method,e,n)}async prependBlock(e,n){return await this._request(m.api.block.prependBlock.pathname,m.api.block.prependBlock.method,e,n)}async transferBlockRef(e,n){return await this._request(m.api.block.transferBlockRef.pathname,m.api.block.transferBlockRef.method,e,n)}async updateBlock(e,n){return await this._request(m.api.block.updateBlock.pathname,m.api.block.updateBlock.method,e,n)}async pandoc(e,n){return await this._request(m.api.convert.pandoc.pathname,m.api.convert.pandoc.method,e,n)}async exportResources(e,n){return await this._request(m.api.export.exportResources.pathname,m.api.export.exportResources.method,e,n)}async exportMdContent(e,n){return await this._request(m.api.export.exportMdContent.pathname,m.api.export.exportMdContent.method,e,n)}async getFile(e,n="text",o){return await this._request(m.api.file.getFile.pathname,m.api.file.getFile.method,e,o,!1,n)}async putFile(e,n){e.file!==void 0&&!(e.file instanceof File)&&(e.file=new File([e.file],e.path.split("/").pop()));const o=new FormData;for(const[s,i]of Object.entries(e))e.hasOwnProperty(s)&&(i instanceof Blob?o.append(s,i):o.append(s,String(i)));return await this._request(m.api.file.putFile.pathname,m.api.file.putFile.method,o,n)}async readDir(e,n){return await this._request(m.api.file.readDir.pathname,m.api.file.readDir.method,e,n)}async removeFile(e,n){return await this._request(m.api.file.removeFile.pathname,m.api.file.removeFile.method,e,n)}async renameFile(e,n){return await this._request(m.api.file.renameFile.pathname,m.api.file.renameFile.method,e,n)}async createDocWithMd(e,n){return await this._request(m.api.filetree.createDocWithMd.pathname,m.api.filetree.createDocWithMd.method,e,n)}async getDoc(e,n){return await this._request(m.api.filetree.getDoc.pathname,m.api.filetree.getDoc.method,e,n)}async getHPathByID(e,n){return await this._request(m.api.filetree.getHPathByID.pathname,m.api.filetree.getHPathByID.method,e,n)}async getHPathByPath(e,n){return await this._request(m.api.filetree.getHPathByPath.pathname,m.api.filetree.getHPathByPath.method,e,n)}async listDocsByPath(e,n){return await this._request(m.api.filetree.listDocsByPath.pathname,m.api.filetree.listDocsByPath.method,e,n)}async moveDocs(e,n){return await this._request(m.api.filetree.moveDocs.pathname,m.api.filetree.moveDocs.method,e,n)}async removeDoc(e,n){return await this._request(m.api.filetree.removeDoc.pathname,m.api.filetree.removeDoc.method,e,n)}async renameDoc(e,n){return await this._request(m.api.filetree.renameDoc.pathname,m.api.filetree.renameDoc.method,e,n)}async searchDocs(e,n){return await this._request(m.api.filetree.searchDocs.pathname,m.api.filetree.searchDocs.method,e,n)}async getDocHistoryContent(e,n){return await this._request(m.api.history.getDocHistoryContent.pathname,m.api.history.getDocHistoryContent.method,e,n)}async getHistoryItems(e,n){return await this._request(m.api.history.getHistoryItems.pathname,m.api.history.getHistoryItems.method,e,n)}async getShorthand(e,n){return await this._request(m.api.inbox.getShorthand.pathname,m.api.inbox.getShorthand.method,e,n)}async forwardProxy(e,n){return await this._request(m.api.network.forwardProxy.pathname,m.api.network.forwardProxy.method,e,n)}async closeNotebook(e,n){return await this._request(m.api.notebook.closeNotebook.pathname,m.api.notebook.closeNotebook.method,e,n)}async createNotebook(e,n){return await this._request(m.api.notebook.createNotebook.pathname,m.api.notebook.createNotebook.method,e,n)}async getNotebookConf(e,n){return await this._request(m.api.notebook.getNotebookConf.pathname,m.api.notebook.getNotebookConf.method,e,n)}async lsNotebooks(e){return await this._request(m.api.notebook.lsNotebooks.pathname,m.api.notebook.lsNotebooks.method,void 0,e)}async openNotebook(e,n){return await this._request(m.api.notebook.openNotebook.pathname,m.api.notebook.openNotebook.method,e,n)}async removeNotebook(e,n){return await this._request(m.api.notebook.removeNotebook.pathname,m.api.notebook.removeNotebook.method,e,n)}async renameNotebook(e,n){return await this._request(m.api.notebook.renameNotebook.pathname,m.api.notebook.renameNotebook.method,e,n)}async setNotebookConf(e,n){return await this._request(m.api.notebook.setNotebookConf.pathname,m.api.notebook.setNotebookConf.method,e,n)}async pushErrMsg(e,n){return await this._request(m.api.notification.pushErrMsg.pathname,m.api.notification.pushErrMsg.method,e,n)}async pushMsg(e,n){return await this._request(m.api.notification.pushMsg.pathname,m.api.notification.pushMsg.method,e,n)}async sql(e,n){return await this._request(m.api.query.sql.pathname,m.api.query.sql.method,e,n)}async openRepoSnapshotDoc(e,n){return await this._request(m.api.repo.openRepoSnapshotDoc.pathname,m.api.repo.openRepoSnapshotDoc.method,e,n)}async getSnippet(e,n){return await this._request(m.api.snippet.getSnippet.pathname,m.api.snippet.getSnippet.method,e,n)}async setSnippet(e,n){return await this._request(m.api.snippet.setSnippet.pathname,m.api.snippet.setSnippet.method,e,n)}async getRecentDocs(e){return await this._request(m.api.storage.getRecentDocs.pathname,m.api.storage.getRecentDocs.method,void 0,e)}async bootProgress(e){return await this._request(m.api.system.bootProgress.pathname,m.api.system.bootProgress.method,void 0,e)}async currentTime(e){return await this._request(m.api.system.currentTime.pathname,m.api.system.currentTime.method,void 0,e)}async version(e){return await this._request(m.api.system.version.pathname,m.api.system.version.method,void 0,e)}async render(e,n){return await this._request(m.api.template.render.pathname,m.api.template.render.method,e,n)}async renderSprig(e,n){return await this._request(m.api.template.renderSprig.pathname,m.api.template.renderSprig.method,e,n)}async _request(e,n,o,s,i=!0,r="json"){try{switch((s==null?void 0:s.type)??this._type){case"fetch":{const l=s==null?void 0:s.options;r=(()=>{switch(r){case"arraybuffer":return"arrayBuffer";case"document":return"text";default:return r}})();const a=await this._fetch(e,{method:n,body:o,responseType:r,...l});return i&&r==="json"&&typeof a=="object"?this._parseFetchResponse(a):a}case"xhr":default:{const l=s==null?void 0:s.options;r=(()=>{switch(r){case"arrayBuffer":return"arraybuffer";default:return r}})();const a=await this._axios.request({url:e,method:n,data:o,responseType:r,...l});if(a.status===Ws.Ok)return i&&r==="json"&&typeof a.data=="object"?this._parseAxiosResponse(a):a.data;throw new qi(a)}}}catch(l){throw l}}_parseFetchResponse(e){if(e.code===0)return e;throw new Jt(e)}_parseAxiosResponse(e){if(e.data.code===0)return e.data;throw new Jt(e.data,e)}};de(ao,"api",{search:{fullTextSearchBlock:{pathname:"/api/search/fullTextSearchBlock",method:"POST"}},asset:{upload:{pathname:"/api/asset/upload",method:"POST"}},attr:{getBlockAttrs:{pathname:"/api/attr/getBlockAttrs",method:"POST"},setBlockAttrs:{pathname:"/api/attr/setBlockAttrs",method:"POST"},getBookmarkLabels:{pathname:"/api/attr/getBookmarkLabels",method:"POST"}},block:{appendBlock:{pathname:"/api/block/appendBlock",method:"POST"},deleteBlock:{pathname:"/api/block/deleteBlock",method:"POST"},getBlockBreadcrumb:{pathname:"/api/block/getBlockBreadcrumb",method:"POST"},getBlockDOM:{pathname:"/api/block/getBlockDOM",method:"POST"},getBlockInfo:{pathname:"/api/block/getBlockInfo",method:"POST"},getBlockKramdown:{pathname:"/api/block/getBlockKramdown",method:"POST"},getChildBlocks:{pathname:"/api/block/getChildBlocks",method:"POST"},getDocInfo:{pathname:"/api/block/getDocInfo",method:"POST"},insertBlock:{pathname:"/api/block/insertBlock",method:"POST"},moveBlock:{pathname:"/api/block/moveBlock",method:"POST"},prependBlock:{pathname:"/api/block/prependBlock",method:"POST"},transferBlockRef:{pathname:"/api/block/transferBlockRef",method:"POST"},updateBlock:{pathname:"/api/block/updateBlock",method:"POST"}},convert:{pandoc:{pathname:"/api/convert/pandoc",method:"POST"}},export:{exportMdContent:{pathname:"/api/export/exportMdContent",method:"POST"},exportResources:{pathname:"/api/export/exportResources",method:"POST"}},file:{getFile:{pathname:"/api/file/getFile",method:"POST"},putFile:{pathname:"/api/file/putFile",method:"POST"},readDir:{pathname:"/api/file/readDir",method:"POST"},removeFile:{pathname:"/api/file/removeFile",method:"POST"},renameFile:{pathname:"/api/file/renameFile",method:"POST"}},filetree:{createDocWithMd:{pathname:"/api/filetree/createDocWithMd",method:"POST"},getDoc:{pathname:"/api/filetree/getDoc",method:"POST"},getHPathByID:{pathname:"/api/filetree/getHPathByID",method:"POST"},getHPathByPath:{pathname:"/api/filetree/getHPathByPath",method:"POST"},listDocsByPath:{pathname:"/api/filetree/listDocsByPath",method:"POST"},moveDocs:{pathname:"/api/filetree/moveDocs",method:"POST"},removeDoc:{pathname:"/api/filetree/removeDoc",method:"POST"},renameDoc:{pathname:"/api/filetree/renameDoc",method:"POST"},searchDocs:{pathname:"/api/filetree/searchDocs",method:"POST"}},history:{getDocHistoryContent:{pathname:"/api/history/getDocHistoryContent",method:"POST"},getHistoryItems:{pathname:"/api/history/getHistoryItems",method:"POST"}},inbox:{getShorthand:{pathname:"/api/inbox/getShorthand",method:"POST"}},network:{forwardProxy:{pathname:"/api/network/forwardProxy",method:"POST"}},notebook:{closeNotebook:{pathname:"/api/notebook/closeNotebook",method:"POST"},createNotebook:{pathname:"/api/notebook/createNotebook",method:"POST"},lsNotebooks:{pathname:"/api/notebook/lsNotebooks",method:"POST"},getNotebookConf:{pathname:"/api/notebook/getNotebookConf",method:"POST"},openNotebook:{pathname:"/api/notebook/openNotebook",method:"POST"},removeNotebook:{pathname:"/api/notebook/removeNotebook",method:"POST"},renameNotebook:{pathname:"/api/notebook/renameNotebook",method:"POST"},setNotebookConf:{pathname:"/api/notebook/setNotebookConf",method:"POST"}},notification:{pushErrMsg:{pathname:"/api/notification/pushErrMsg",method:"POST"},pushMsg:{pathname:"/api/notification/pushMsg",method:"POST"}},query:{sql:{pathname:"/api/query/sql",method:"POST"}},repo:{openRepoSnapshotDoc:{pathname:"/api/repo/openRepoSnapshotDoc",method:"POST"}},snippet:{getSnippet:{pathname:"/api/snippet/getSnippet",method:"POST"},setSnippet:{pathname:"/api/snippet/setSnippet",method:"POST"}},storage:{getRecentDocs:{pathname:"/api/storage/getRecentDocs",method:"POST"}},system:{bootProgress:{pathname:"/api/system/bootProgress",method:"POST"},currentTime:{pathname:"/api/system/currentTime",method:"POST"},version:{pathname:"/api/system/version",method:"POST"},getConf:{pathname:"/api/system/getConf",method:"POST"}},template:{render:{pathname:"/api/template/render",method:"POST"},renderSprig:{pathname:"/api/template/renderSprig",method:"POST"}}});let Ii=ao;var lo=(t=>(t.NodeNotebook="NodeNotebook",t.NodeFolder="NodeFolder",t.NodeDocument="NodeDocument",t.NodeSuperBlock="NodeSuperBlock",t.NodeBlockquote="NodeBlockquote",t.NodeList="NodeList",t.NodeListItem="NodeListItem",t.NodeHeading="NodeHeading",t.NodeParagraph="NodeParagraph",t.NodeMathBlock="NodeMathBlock",t.NodeTable="NodeTable",t.NodeCodeBlock="NodeCodeBlock",t.NodeHTMLBlock="NodeHTMLBlock",t.NodeThematicBreak="NodeThematicBreak",t.NodeAudio="NodeAudio",t.NodeVideo="NodeVideo",t.NodeIFrame="NodeIFrame",t.NodeWidget="NodeWidget",t.NodeBlockQueryEmbed="NodeBlockQueryEmbed",t))(lo||{}),co=(t=>(t.d="d",t.s="s",t.b="b",t.l="l",t.i="i",t.h="h",t.p="p",t.m="m",t.t="t",t.c="c",t.html="html",t.query_embed="query_embed",t.tb="tb",t.audio="audio",t.video="video",t.iframe="iframe",t.widget="widget",t))(co||{}),uo=(t=>(t.d="d",t.s="s",t.b="b",t.l="l",t.i="i",t))(uo||{}),fo=(t=>(t.h="h",t.p="p",t.m="m",t.t="t",t.c="c",t.html="html",t.query_embed="query_embed",t.tb="tb",t.audio="audio",t.video="video",t.iframe="iframe",t.widget="widget",t))(fo||{}),ho=(t=>(t.h1="h1",t.h2="h2",t.h3="h3",t.h4="h4",t.h5="h5",t.h6="h6",t.u="u",t.o="o",t.t="t",t.none="",t))(ho||{}),po=(t=>(t.u="u",t.o="o",t.t="t",t))(po||{}),mo=(t=>(t.h1="h1",t.h2="h2",t.h3="h3",t.h4="h4",t.h5="h5",t.h6="h6",t))(mo||{}),go=(t=>(t[t.keyword=0]="keyword",t[t.querySyntax=1]="querySyntax",t[t.sql=2]="sql",t[t.regex=3]="regex",t))(go||{}),_o=(t=>(t[t.noGroupBy=0]="noGroupBy",t[t.group=1]="group",t))(_o||{}),bo=(t=>(t[t.type=0]="type",t[t.createdASC=1]="createdASC",t[t.createdDESC=2]="createdDESC",t[t.modifiedASC=3]="modifiedASC",t[t.modifiedDESC=4]="modifiedDESC",t[t.sortByContent=5]="sortByContent",t[t.sortByRankAsc=6]="sortByRankAsc",t[t.sortByRankDesc=7]="sortByRankDesc",t))(bo||{}),yo=(t=>(t[t.SortModeNameASC=0]="SortModeNameASC",t[t.SortModeNameDESC=1]="SortModeNameDESC",t[t.SortModeUpdatedASC=2]="SortModeUpdatedASC",t[t.SortModeUpdatedDESC=3]="SortModeUpdatedDESC",t[t.SortModeAlphanumASC=4]="SortModeAlphanumASC",t[t.SortModeAlphanumDESC=5]="SortModeAlphanumDESC",t[t.SortModeCustom=6]="SortModeCustom",t[t.SortModeRefCountASC=7]="SortModeRefCountASC",t[t.SortModeRefCountDESC=8]="SortModeRefCountDESC",t[t.SortModeCreatedASC=9]="SortModeCreatedASC",t[t.SortModeCreatedDESC=10]="SortModeCreatedDESC",t[t.SortModeSizeASC=11]="SortModeSizeASC",t[t.SortModeSizeDESC=12]="SortModeSizeDESC",t[t.SortModeSubDocCountASC=13]="SortModeSubDocCountASC",t[t.SortModeSubDocCountDESC=14]="SortModeSubDocCountDESC",t))(yo||{});const Ui=Object.freeze(Object.defineProperty({__proto__:null,BlockSubType:ho,BlockType:co,Container:uo,GroupBy:_o,Leaf:fo,Method:go,NodeHeadingSubType:mo,NodeListSubType:po,NodeType:lo,OrderBy:bo,SortMode:yo},Symbol.toStringTag,{value:"Module"}));Hi();Vi();const xt=zi();function Hi(){switch(ne.getFrontend()){case"desktop":case"desktop-window":case"browser-desktop":return!0;case"mobile":case"browser-mobile":return!1;default:return!1}}function zi(){switch(ne.getFrontend()){case"mobile":case"browser-mobile":return!0;case"desktop":case"desktop-window":case"browser-desktop":return!1;default:return!1}}function Vi(){switch(ne.getFrontend()){case"browser-desktop":case"browser-mobile":return!0;case"desktop":case"desktop-window":case"mobile":return!1;default:return!1}}class Gi{constructor(e,n=!0){this.label=e,this.collapsed=n}stdout(e,n,...o){const s=`[\x1B[4m${this.label}\x1B[0m] - <\x1B[1m${e.name.toUpperCase()}\x1B[0m>`;if(this.collapsed?globalThis.console.groupCollapsed(s):globalThis.console.group(s),n)for(const i of o)Array.isArray(i)?e(...i):e(i);else e(...o);globalThis.console.trace(),globalThis.console.groupEnd()}dir(...e){this.stdout(globalThis.console.dir,!1,...e)}dirs(...e){this.stdout(globalThis.console.dir,!0,...e)}table(...e){this.stdout(globalThis.console.table,!1,...e)}tables(...e){this.stdout(globalThis.console.table,!0,...e)}debug(...e){this.stdout(globalThis.console.debug,!1,...e)}debugs(...e){this.stdout(globalThis.console.debug,!0,...e)}info(...e){this.stdout(globalThis.console.info,!1,...e)}infos(...e){this.stdout(globalThis.console.info,!0,...e)}log(...e){this.stdout(globalThis.console.log,!1,...e)}logs(...e){this.stdout(globalThis.console.log,!0,...e)}warn(...e){this.stdout(globalThis.console.warn,!1,...e)}warns(...e){this.stdout(globalThis.console.warn,!0,...e)}error(...e){this.stdout(globalThis.console.error,!1,...e)}errors(...e){this.stdout(globalThis.console.error,!0,...e)}}function ko(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ki=function(e){return Ji(e)&&!Wi(e)};function Ji(t){return!!t&&typeof t=="object"}function Wi(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Xi(t)}var Yi=typeof Symbol=="function"&&Symbol.for,Qi=Yi?Symbol.for("react.element"):60103;function Xi(t){return t.$$typeof===Qi}function Zi(t){return Array.isArray(t)?[]:{}}function je(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Ee(Zi(t),t,e):t}function xi(t,e,n){return t.concat(e).map(function(o){return je(o,n)})}function er(t,e){if(!e.customMerge)return Ee;var n=e.customMerge(t);return typeof n=="function"?n:Ee}function tr(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function en(t){return Object.keys(t).concat(tr(t))}function So(t,e){try{return e in t}catch{return!1}}function nr(t,e){return So(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function or(t,e,n){var o={};return n.isMergeableObject(t)&&en(t).forEach(function(s){o[s]=je(t[s],n)}),en(e).forEach(function(s){nr(t,s)||(So(t,s)&&n.isMergeableObject(e[s])?o[s]=er(s,n)(t[s],e[s],n):o[s]=je(e[s],n))}),o}function Ee(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||xi,n.isMergeableObject=n.isMergeableObject||Ki,n.cloneUnlessOtherwiseSpecified=je;var o=Array.isArray(e),s=Array.isArray(t),i=o===s;return i?o?n.arrayMerge(t,e,n):or(t,e,n):je(e,n)}Ee.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(o,s){return Ee(o,s,n)},{})};var sr=Ee,ir=sr;const rr=ko(ir);function tn(...t){return rr.all(t,{arrayMerge:(e,n,o)=>n})}function ar(t){const e={families:[],map:new Map};return t.forEach(n=>{const o=e.map.get(n.family);o?o.push(n):(e.families.push(n.family),e.map.set(n.family,[n]))}),e}function K(){}function wo(t,e){for(const n in e)t[n]=e[n];return t}function Eo(t){return t()}function nn(){return Object.create(null)}function Q(t){t.forEach(Eo)}function Oo(t){return typeof t=="function"}function x(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Me;function on(t,e){return Me||(Me=document.createElement("a")),Me.href=e,t===Me.href}function lr(t){return Object.keys(t).length===0}function ce(t,e,n,o){if(t){const s=To(t,e,n,o);return t[0](s)}}function To(t,e,n,o){return t[1]&&o?wo(n.ctx.slice(),t[1](o(e))):n.ctx}function ue(t,e,n,o){if(t[2]&&o){const s=t[2](o(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],r=Math.max(e.dirty.length,s.length);for(let l=0;l<r;l+=1)i[l]=e.dirty[l]|s[l];return i}return e.dirty|s}return e.dirty}function fe(t,e,n,o,s,i){if(s){const r=To(e,n,o,i);t.p(r,s)}}function he(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function cr(t){const e={};for(const n in t)e[n]=!0;return e}function R(t,e){t.appendChild(e)}function v(t,e,n){t.insertBefore(e,n||null)}function N(t){t.parentNode&&t.parentNode.removeChild(t)}function P(t){return document.createElement(t)}function De(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function me(t){return document.createTextNode(t)}function M(){return me(" ")}function be(){return me("")}function V(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function y(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ve(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function dt(t){return t===""?null:+t}function ur(t){return Array.from(t.childNodes)}function Et(t,e){e=""+e,t.data!==e&&(t.data=e)}function se(t,e){t.value=e??""}function ge(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function sn(t,e,n){for(let o=0;o<t.options.length;o+=1){const s=t.options[o];if(s.__value===e){s.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function fr(t){const e=t.querySelector(":checked");return e&&e.__value}function w(t,e,n){t.classList[n?"add":"remove"](e)}function hr(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,o,e),s}class Ze{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=De(n.nodeName):this.e=P(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)v(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(N)}}let Pe;function Ae(t){Pe=t}function pr(){if(!Pe)throw new Error("Function called outside component initialization");return Pe}function Ot(){const t=pr();return(e,n,{cancelable:o=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=hr(e,n,{cancelable:o});return s.slice().forEach(r=>{r.call(t,i)}),!i.defaultPrevented}return!0}}const ke=[],rn=[];let Se=[];const an=[],dr=Promise.resolve();let mt=!1;function mr(){mt||(mt=!0,dr.then(No))}function Ge(t){Se.push(t)}const at=new Set;let ye=0;function No(){if(ye!==0)return;const t=Pe;do{try{for(;ye<ke.length;){const e=ke[ye];ye++,Ae(e),gr(e.$$)}}catch(e){throw ke.length=0,ye=0,e}for(Ae(null),ke.length=0,ye=0;rn.length;)rn.pop()();for(let e=0;e<Se.length;e+=1){const n=Se[e];at.has(n)||(at.add(n),n())}Se.length=0}while(ke.length);for(;an.length;)an.pop()();mt=!1,at.clear(),Ae(t)}function gr(t){if(t.fragment!==null){t.update(),Q(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ge)}}function _r(t){const e=[],n=[];Se.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),Se=e}const He=new Set;let _e;function ie(){_e={r:0,c:[],p:_e}}function re(){_e.r||Q(_e.c),_e=_e.p}function k(t,e){t&&t.i&&(He.delete(t),t.i(e))}function S(t,e,n,o){if(t&&t.o){if(He.has(t))return;He.add(t),_e.c.push(()=>{He.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}function br(t,e){t.d(1),e.delete(t.key)}function Tt(t,e){S(t,1,1,()=>{e.delete(t.key)})}function xe(t,e,n,o,s,i,r,l,a,c,u,_){let p=t.length,f=i.length,h=p;const b={};for(;h--;)b[t[h].key]=h;const d=[],A=new Map,Y=new Map,L=[];for(h=f;h--;){const I=_(s,i,h),U=n(I);let z=r.get(U);z?o&&L.push(()=>z.p(I,e)):(z=c(U,I),z.c()),A.set(U,d[h]=z),U in b&&Y.set(U,Math.abs(h-b[U]))}const q=new Set,C=new Set;function T(I){k(I,1),I.m(l,u),r.set(I.key,I),u=I.first,f--}for(;p&&f;){const I=d[f-1],U=t[p-1],z=I.key,E=U.key;I===U?(u=I.first,p--,f--):A.has(E)?!r.has(z)||q.has(z)?T(I):C.has(E)?p--:Y.get(z)>Y.get(E)?(C.add(z),T(I)):(q.add(E),p--):(a(U,r),p--)}for(;p--;){const I=t[p];A.has(I.key)||a(I,r)}for(;f;)T(d[f-1]);return Q(L),d}function yr(t,e){const n={},o={},s={$$scope:1};let i=t.length;for(;i--;){const r=t[i],l=e[i];if(l){for(const a in r)a in l||(o[a]=1);for(const a in l)s[a]||(n[a]=l[a],s[a]=1);t[i]=l}else for(const a in r)s[a]=1}for(const r in o)r in n||(n[r]=void 0);return n}function kr(t){return typeof t=="object"&&t!==null?t:{}}function D(t){t&&t.c()}function B(t,e,n,o){const{fragment:s,after_update:i}=t.$$;s&&s.m(e,n),o||Ge(()=>{const r=t.$$.on_mount.map(Eo).filter(Oo);t.$$.on_destroy?t.$$.on_destroy.push(...r):Q(r),t.$$.on_mount=[]}),i.forEach(Ge)}function j(t,e){const n=t.$$;n.fragment!==null&&(_r(n.after_update),Q(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Sr(t,e){t.$$.dirty[0]===-1&&(ke.push(t),mr(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ee(t,e,n,o,s,i,r,l=[-1]){const a=Pe;Ae(t);const c=t.$$={fragment:null,ctx:[],props:i,update:K,not_equal:s,bound:nn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:nn(),dirty:l,skip_bound:!1,root:e.target||a.$$.root};r&&r(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},(_,p,...f)=>{const h=f.length?f[0]:p;return c.ctx&&s(c.ctx[_],c.ctx[_]=h)&&(!c.skip_bound&&c.bound[_]&&c.bound[_](h),u&&Sr(t,_)),p}):[],c.update(),u=!0,Q(c.before_update),c.fragment=o?o(c.ctx):!1,e.target){if(e.hydrate){const _=ur(e.target);c.fragment&&c.fragment.l(_),_.forEach(N)}else c.fragment&&c.fragment.c();e.intro&&k(t.$$.fragment),B(t,e.target,e.anchor,e.customElement),No()}Ae(a)}class te{$destroy(){j(this,1),this.$destroy=K}$on(e,n){if(!Oo(n))return K;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const s=o.indexOf(n);s!==-1&&o.splice(s,1)}}$set(e){this.$$set&&!lr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ln={id:/^\d{14}-[0-9a-z]{7}$/,url:/^siyuan:\/\/blocks\/(\d{14}-[0-9a-z]{7})/,snippet:/^\d{14}-[0-9a-z]{7}$/,created:/^\d{10}$/,history:/[\/\\]history[\/\\]\d{4}-\d{2}-\d{2}-\d{6}-(clean|update|delete|format|sync|replace)([\/\\]\d{14}-[0-9a-z]{7})+\.sy$/,snapshot:/^[0-9a-f]{40}$/,shorthand:/^\d{13}$/};function wr(t){let e,n;return{c(){e=De("svg"),n=De("use"),Ve(n,"xlink:href",t[0]),y(e,"style",t[3]),y(e,"data-id",t[1]),y(e,"class",t[2]),w(e,"popover__block",ln.id.test(t[1]))},m(o,s){v(o,e,s),R(e,n)},p(o,[s]){s&1&&Ve(n,"xlink:href",o[0]),s&8&&y(e,"style",o[3]),s&2&&y(e,"data-id",o[1]),s&4&&y(e,"class",o[2]),s&6&&w(e,"popover__block",ln.id.test(o[1]))},i:K,o:K,d(o){o&&N(e)}}}function Er(t,e,n){let{icon:o}=e,{id:s=""}=e,{className:i=""}=e,{style:r=""}=e;return t.$$set=l=>{"icon"in l&&n(0,o=l.icon),"id"in l&&n(1,s=l.id),"className"in l&&n(2,i=l.className),"style"in l&&n(3,r=l.style)},[o,s,i,r]}class et extends te{constructor(e){super(),ee(this,e,Er,wr,x,{icon:0,id:1,className:2,style:3})}}function Or(t){let e,n;return{c(){e=De("svg"),n=De("use"),Ve(n,"xlink:href",t[1]),y(e,"style",t[3]),y(e,"class",t[2]),w(e,"b3-list-item__arrow--open",t[0])},m(o,s){v(o,e,s),R(e,n)},p(o,[s]){s&2&&Ve(n,"xlink:href",o[1]),s&8&&y(e,"style",o[3]),s&4&&y(e,"class",o[2]),s&5&&w(e,"b3-list-item__arrow--open",o[0])},i:K,o:K,d(o){o&&N(e)}}}function Tr(t,e,n){let{open:o=!1}=e,{icon:s="#iconRight"}=e,{className:i="b3-list-item__arrow"}=e,{style:r=void 0}=e;return t.$$set=l=>{"open"in l&&n(0,o=l.open),"icon"in l&&n(1,s=l.icon),"className"in l&&n(2,i=l.className),"style"in l&&n(3,r=l.style)},[o,s,i,r]}class Nr extends te{constructor(e){super(),ee(this,e,Tr,Or,x,{open:0,icon:1,className:2,style:3})}}function vr(t){let e,n;return{c(){e=P("img"),y(e,"class","b3-list-item__graphic"),y(e,"alt","icon"),on(e.src,n=t[3])||y(e,"src",n)},m(o,s){v(o,e,s)},p(o,s){s&8&&!on(e.src,n=o[3])&&y(e,"src",n)},i:K,o:K,d(o){o&&N(e)}}}function Ar(t){let e,n;return{c(){e=P("span"),n=me(t[2]),y(e,"class","b3-list-item__graphic")},m(o,s){v(o,e,s),R(e,n)},p(o,s){s&4&&Et(n,o[2])},i:K,o:K,d(o){o&&N(e)}}}function Cr(t){let e,n;return e=new et({props:{className:"b3-list-item__graphic",icon:t[2]}}),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&4&&(i.icon=o[2]),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function cn(t){let e;return{c(){e=P("span"),y(e,"class","b3-list-item__meta")},m(n,o){v(n,e,o),e.innerHTML=t[4]},p(n,o){o&16&&(e.innerHTML=n[4])},d(n){n&&N(e)}}}function un(t){let e,n;return e=new gt({props:{items:t[8],border:t[7],fn__none:t[0],flex_1:!1,indent:t[9]}}),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&256&&(i.items=o[8]),s&128&&(i.border=o[7]),s&1&&(i.fn__none=o[0]),s&512&&(i.indent=o[9]),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function Br(t){let e,n,o,s,i,r,l,a,c,u,_,p,f,h,b;o=new Nr({props:{open:!t[0]}});const d=[Cr,Ar,vr],A=[];function Y(C,T){return T&4&&(i=null),i==null&&(i=!!C[2].startsWith("#")),i?0:C[2]?1:C[3]?2:-1}~(r=Y(t,-1))&&(l=A[r]=d[r](t));let L=t[4]&&cn(t),q=t[8].length>0&&un(t);return{c(){e=P("li"),n=P("span"),D(o.$$.fragment),s=M(),l&&l.c(),a=M(),c=P("span"),u=M(),L&&L.c(),_=M(),q&&q.c(),p=be(),y(n,"class","b3-list-item__toggle svelte-cyyh2i"),w(n,"hidden",t[8].length===0),y(c,"class","b3-list-item__text"),y(c,"style",t[5]),y(e,"class","b3-list-item svelte-cyyh2i"),w(e,"toggle",t[8].length>0),w(e,"b3-list-item--narrow",t[6])},m(C,T){v(C,e,T),R(e,n),B(o,n,null),R(e,s),~r&&A[r].m(e,null),R(e,a),R(e,c),c.innerHTML=t[1],R(e,u),L&&L.m(e,null),v(C,_,T),q&&q.m(C,T),v(C,p,T),f=!0,h||(b=V(e,"click",t[10]),h=!0)},p(C,[T]){const I={};T&1&&(I.open=!C[0]),o.$set(I),(!f||T&256)&&w(n,"hidden",C[8].length===0);let U=r;r=Y(C,T),r===U?~r&&A[r].p(C,T):(l&&(ie(),S(A[U],1,1,()=>{A[U]=null}),re()),~r?(l=A[r],l?l.p(C,T):(l=A[r]=d[r](C),l.c()),k(l,1),l.m(e,a)):l=null),(!f||T&2)&&(c.innerHTML=C[1]),(!f||T&32)&&y(c,"style",C[5]),C[4]?L?L.p(C,T):(L=cn(C),L.c(),L.m(e,null)):L&&(L.d(1),L=null),(!f||T&256)&&w(e,"toggle",C[8].length>0),(!f||T&64)&&w(e,"b3-list-item--narrow",C[6]),C[8].length>0?q?(q.p(C,T),T&256&&k(q,1)):(q=un(C),q.c(),k(q,1),q.m(p.parentNode,p)):q&&(ie(),S(q,1,1,()=>{q=null}),re())},i(C){f||(k(o.$$.fragment,C),k(l),k(q),f=!0)},o(C){S(o.$$.fragment,C),S(l),S(q),f=!1},d(C){C&&N(e),j(o),~r&&A[r].d(),L&&L.d(),C&&N(_),q&&q.d(C),C&&N(p),h=!1,b()}}}function jr(t,e,n){let{text:o}=e,{icon:s=""}=e,{src:i=""}=e,{meta:r=""}=e,{style:l=""}=e,{narrow:a=!1}=e,{border:c=!1}=e,{fold:u=!0}=e,{children:_=[]}=e,{indent:p=""}=e;function f(){n(0,u=!u)}return t.$$set=h=>{"text"in h&&n(1,o=h.text),"icon"in h&&n(2,s=h.icon),"src"in h&&n(3,i=h.src),"meta"in h&&n(4,r=h.meta),"style"in h&&n(5,l=h.style),"narrow"in h&&n(6,a=h.narrow),"border"in h&&n(7,c=h.border),"fold"in h&&n(0,u=h.fold),"children"in h&&n(8,_=h.children),"indent"in h&&n(9,p=h.indent)},[u,o,s,i,r,l,a,c,_,p,f]}class Dr extends te{constructor(e){super(),ee(this,e,jr,Br,x,{text:1,icon:2,src:3,meta:4,style:5,narrow:6,border:7,fold:0,children:8,indent:9})}}function fn(t,e,n){const o=t.slice();return o[7]=e[n],o[9]=n,o}function hn(t,e){let n,o,s;const i=[e[7]];let r={};for(let l=0;l<i.length;l+=1)r=wo(r,i[l]);return o=new Dr({props:r}),{key:t,first:null,c(){n=be(),D(o.$$.fragment),this.first=n},m(l,a){v(l,n,a),B(o,l,a),s=!0},p(l,a){e=l;const c=a&1?yr(i,[kr(e[7])]):{};o.$set(c)},i(l){s||(k(o.$$.fragment,l),s=!0)},o(l){S(o.$$.fragment,l),s=!1},d(l){l&&N(n),j(o,l)}}}function Pr(t){let e,n=[],o=new Map,s,i=t[0];const r=l=>l[9];for(let l=0;l<i.length;l+=1){let a=fn(t,i,l),c=r(a);o.set(c,n[l]=hn(c,a))}return{c(){e=P("ul");for(let l=0;l<n.length;l+=1)n[l].c();y(e,"class",t[1]),w(e,"b3-list--border",t[2]),w(e,"fn__none",t[3]),w(e,"fn__flex-1",t[4]),ge(e,"margin-left",t[6]),ge(e,"width",t[5]>0?`${t[5]}px`:void 0)},m(l,a){v(l,e,a);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);s=!0},p(l,[a]){a&1&&(i=l[0],ie(),n=xe(n,a,r,1,l,i,o,e,Tt,hn,null,fn),re()),(!s||a&2)&&y(e,"class",l[1]),(!s||a&6)&&w(e,"b3-list--border",l[2]),(!s||a&10)&&w(e,"fn__none",l[3]),(!s||a&18)&&w(e,"fn__flex-1",l[4]),a&64&&ge(e,"margin-left",l[6]),a&32&&ge(e,"width",l[5]>0?`${l[5]}px`:void 0)},i(l){if(!s){for(let a=0;a<i.length;a+=1)k(n[a]);s=!0}},o(l){for(let a=0;a<n.length;a+=1)S(n[a]);s=!1},d(l){l&&N(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Rr(t,e,n){let{items:o=[]}=e,{className:s="b3-list b3-list--background"}=e,{border:i=!1}=e,{fn__none:r=!1}=e,{flex_1:l=!0}=e,{width:a=0}=e,{indent:c=""}=e;return t.$$set=u=>{"items"in u&&n(0,o=u.items),"className"in u&&n(1,s=u.className),"border"in u&&n(2,i=u.border),"fn__none"in u&&n(3,r=u.fn__none),"flex_1"in u&&n(4,l=u.flex_1),"width"in u&&n(5,a=u.width),"indent"in u&&n(6,c=u.indent)},[o,s,i,r,l,a,c]}class gt extends te{constructor(e){super(),ee(this,e,Rr,Pr,x,{items:0,className:1,border:2,fn__none:3,flex_1:4,width:5,indent:6})}}var pn={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},Ne=" ",dn=/(italic|oblique)$/i,mn={},$r=function(t,e,n){var o=mn[t];if(!o){Array.isArray(t)||(t=[t]);for(var s=400,i="normal",r=[],l,a,c=0,u=t.length;c<u;++c){var _=t[c],p=_.split(" "),f=p[p.length-1].toLowerCase();f=="normal"||f=="italic"||f=="oblique"?(i=a?i:f,p.pop(),f=p[p.length-1].toLowerCase()):dn.test(f)&&(f=f.replace(dn,""),i=a?i:p[p.length-1].replace(f,""));for(var h in pn){var b=p.length>1?p[p.length-2].toLowerCase():"";if(f==h||f==h.replace("-","")||b+"-"+f==h){s=l?s:pn[h],p.pop(),b&&h.startsWith(b)&&p.pop();break}}!l&&typeof f=="number"&&(s=f);var d=p.join(Ne).replace("Klokantech Noto Sans","Noto Sans");d.indexOf(Ne)!==-1&&(d='"'+d+'"'),r.push(d)}o=mn[t]=[i,s,r]}return o[0]+Ne+o[1]+Ne+e+"px"+(n?"/"+n:"")+Ne+o[2]};const Mr=ko($r);function Fr(t,e=16){return Mr(`${t.family} ${t.style}`,e)}function Lr(t){const{protyle:e,data:n,blockElements:o}=t;if(n){const s={element:e.wysiwyg.element,id:n.id,type:Ui.NodeType.NodeDocument};return{...s,isDocumentBlock:!0,isMultiBlock:!1,blocks:[s]}}else if(o&&o.length>0){const s=[];return o.forEach(i=>{s.push({element:i,id:i.dataset.nodeId,type:i.dataset.type,subtype:i.dataset.subtype})}),{...s[0],isDocumentBlock:!1,isMultiBlock:s.length>1,blocks:s}}return null}const qr=t=>({focus:t&1}),gn=t=>({focus:t[0]});function _n(t,e,n){const o=t.slice();return o[13]=e[n],o}function bn(t){let e,n,o,s,i,r,l;return n=new et({props:{icon:"#iconSearch",className:"b3-form__icon-icon"}}),{c(){e=P("div"),D(n.$$.fragment),o=M(),s=P("input"),y(s,"placeholder",t[4]),y(s,"class","b3-text-field fn__block b3-form__icon-input"),y(e,"class","b3-form__icon")},m(a,c){v(a,e,c),B(n,e,null),R(e,o),R(e,s),se(s,t[1]),i=!0,r||(l=[V(s,"input",t[9]),V(s,"change",t[5])],r=!0)},p(a,c){(!i||c&16)&&y(s,"placeholder",a[4]),c&2&&s.value!==a[1]&&se(s,a[1])},i(a){i||(k(n.$$.fragment,a),i=!0)},o(a){S(n.$$.fragment,a),i=!1},d(a){a&&N(e),j(n),r=!1,Q(l)}}}function yn(t,e){let n,o,s,i,r=e[13].text+"",l,a,c,u,_;o=new et({props:{icon:e[13].icon,className:"b3-list-item__graphic"}});function p(){return e[10](e[13])}function f(){return e[11](e[13])}return{key:t,first:null,c(){n=P("li"),D(o.$$.fragment),s=M(),i=P("span"),l=M(),y(i,"class","b3-list-item__text svelte-15drd7h"),y(n,"role","button"),y(n,"data-name",a=e[13].name),y(n,"class","b3-list-item"),w(n,"b3-list-item--focus",e[13].key===e[0]),this.first=n},m(h,b){v(h,n,b),B(o,n,null),R(n,s),R(n,i),i.innerHTML=r,R(n,l),c=!0,u||(_=[V(n,"click",p),V(n,"keyup",f)],u=!0)},p(h,b){e=h;const d={};b&4&&(d.icon=e[13].icon),o.$set(d),(!c||b&4)&&r!==(r=e[13].text+"")&&(i.innerHTML=r),(!c||b&4&&a!==(a=e[13].name))&&y(n,"data-name",a),(!c||b&5)&&w(n,"b3-list-item--focus",e[13].key===e[0])},i(h){c||(k(o.$$.fragment,h),c=!0)},o(h){S(o.$$.fragment,h),c=!1},d(h){h&&N(n),j(o),u=!1,Q(_)}}}function Ir(t){let e;return{c(){e=me("Container")},m(n,o){v(n,e,o)},d(n){n&&N(e)}}}function Ur(t){let e,n,o,s=[],i=new Map,r,l,a,c=t[3]&&bn(t),u=t[2];const _=b=>b[13].key;for(let b=0;b<u.length;b+=1){let d=_n(t,u,b),A=_(d);i.set(A,s[b]=yn(A,d))}const p=t[8].default,f=ce(p,t,t[7],gn),h=f||Ir();return{c(){e=P("div"),n=P("ul"),c&&c.c(),o=M();for(let b=0;b<s.length;b+=1)s[b].c();r=M(),l=P("div"),h&&h.c(),y(n,"class","b3-tab-bar b3-list b3-list--background"),y(l,"class","config__tab-wrap"),y(e,"class","fn__flex-1 fn__flex config__panel")},m(b,d){v(b,e,d),R(e,n),c&&c.m(n,null),R(n,o);for(let A=0;A<s.length;A+=1)s[A]&&s[A].m(n,null);R(e,r),R(e,l),h&&h.m(l,null),a=!0},p(b,[d]){b[3]?c?(c.p(b,d),d&8&&k(c,1)):(c=bn(b),c.c(),k(c,1),c.m(n,o)):c&&(ie(),S(c,1,1,()=>{c=null}),re()),d&69&&(u=b[2],ie(),s=xe(s,d,_,1,b,u,i,n,Tt,yn,null,_n),re()),f&&f.p&&(!a||d&129)&&fe(f,p,b,b[7],a?ue(p,b[7],d,qr):he(b[7]),gn)},i(b){if(!a){k(c);for(let d=0;d<u.length;d+=1)k(s[d]);k(h,b),a=!0}},o(b){S(c);for(let d=0;d<s.length;d+=1)S(s[d]);S(h,b),a=!1},d(b){b&&N(e),c&&c.d();for(let d=0;d<s.length;d+=1)s[d].d();h&&h.d(b)}}}function Hr(t,e,n){let{$$slots:o={},$$scope:s}=e,{panels:i}=e,{focus:r}=e,{searchEnable:l=!1}=e,{searchPlaceholder:a=""}=e,{searchValue:c=""}=e;const u=Ot();function _(){u("search-changed",{value:c})}function p(d){u("changed",{key:d}),n(0,r=d)}function f(){c=this.value,n(1,c)}const h=d=>p(d.key),b=d=>p(d.key);return t.$$set=d=>{"panels"in d&&n(2,i=d.panels),"focus"in d&&n(0,r=d.focus),"searchEnable"in d&&n(3,l=d.searchEnable),"searchPlaceholder"in d&&n(4,a=d.searchPlaceholder),"searchValue"in d&&n(1,c=d.searchValue),"$$scope"in d&&n(7,s=d.$$scope)},[r,c,i,l,a,_,p,s,o,f,h,b]}class zr extends te{constructor(e){super(),ee(this,e,Hr,Ur,x,{panels:2,focus:0,searchEnable:3,searchPlaceholder:4,searchValue:1})}}function Vr(t){let e,n;const o=t[4].default,s=ce(o,t,t[3],null);return{c(){e=P("div"),s&&s.c(),y(e,"data-name",t[2]),y(e,"class","config__tab-container"),w(e,"fn__none",!t[0]),w(e,"config__tab-container--top",t[1])},m(i,r){v(i,e,r),s&&s.m(e,null),n=!0},p(i,[r]){s&&s.p&&(!n||r&8)&&fe(s,o,i,i[3],n?ue(o,i[3],r,null):he(i[3]),null),(!n||r&4)&&y(e,"data-name",i[2]),(!n||r&1)&&w(e,"fn__none",!i[0]),(!n||r&2)&&w(e,"config__tab-container--top",i[1])},i(i){n||(k(s,i),n=!0)},o(i){S(s,i),n=!1},d(i){i&&N(e),s&&s.d(i)}}}function Gr(t,e,n){let{$$slots:o={},$$scope:s}=e,{display:i=!0}=e,{top:r=!0}=e,{name:l=""}=e;return t.$$set=a=>{"display"in a&&n(0,i=a.display),"top"in a&&n(1,r=a.top),"name"in a&&n(2,l=a.name),"$$scope"in a&&n(3,s=a.$$scope)},[i,r,l,s,o]}class Fe extends te{constructor(e){super(),ee(this,e,Gr,Vr,x,{display:0,top:1,name:2})}}const Kr=t=>({}),kn=t=>({}),Jr=t=>({}),Sn=t=>({});function wn(t){let e,n;const o=t[7].icon,s=ce(o,t,t[6],Sn);return{c(){e=P("span"),s&&s.c(),y(e,"class","item__icon")},m(i,r){v(i,e,r),s&&s.m(e,null),n=!0},p(i,r){s&&s.p&&(!n||r&64)&&fe(s,o,i,i[6],n?ue(o,i[6],r,Jr):he(i[6]),Sn)},i(i){n||(k(s,i),n=!0)},o(i){S(s,i),n=!1},d(i){i&&N(e),s&&s.d(i)}}}function Wr(t){let e;return{c(){e=me("text")},m(n,o){v(n,e,o)},d(n){n&&N(e)}}}function Yr(t){let e,n,o,s,i,r,l,a,c,u,_=t[0]&&t[4].icon&&wn(t);const p=t[7].text,f=ce(p,t,t[6],kn),h=f||Wr();return{c(){e=P("div"),n=P("span"),o=M(),_&&_.c(),s=M(),i=P("span"),h&&h.c(),r=M(),l=P("span"),y(n,"class","fn__flex-1"),y(i,"class","item__text"),y(l,"class","fn__flex-1"),y(e,"role","button"),y(e,"data-type",t[1]),y(e,"class","item item--full"),w(e,"item--focus",t[2])},m(b,d){v(b,e,d),R(e,n),R(e,o),_&&_.m(e,null),R(e,s),R(e,i),h&&h.m(i,null),R(e,r),R(e,l),a=!0,c||(u=V(e,"click",t[3]),c=!0)},p(b,[d]){b[0]&&b[4].icon?_?(_.p(b,d),d&17&&k(_,1)):(_=wn(b),_.c(),k(_,1),_.m(e,s)):_&&(ie(),S(_,1,1,()=>{_=null}),re()),f&&f.p&&(!a||d&64)&&fe(f,p,b,b[6],a?ue(p,b[6],d,Kr):he(b[6]),kn),(!a||d&2)&&y(e,"data-type",b[1]),(!a||d&4)&&w(e,"item--focus",b[2])},i(b){a||(k(_),k(h,b),a=!0)},o(b){S(_),S(h,b),a=!1},d(b){b&&N(e),_&&_.d(),h&&h.d(b),c=!1,u()}}}function Qr(t,e,n){let{$$slots:o={},$$scope:s}=e;const i=cr(o);let{key:r}=e,{icon:l}=e,{name:a=""}=e,{focus:c=!1}=e;const u=Ot();function _(){c||u("changed",{key:r})}return t.$$set=p=>{"key"in p&&n(5,r=p.key),"icon"in p&&n(0,l=p.icon),"name"in p&&n(1,a=p.name),"focus"in p&&n(2,c=p.focus),"$$scope"in p&&n(6,s=p.$$scope)},[l,a,c,_,i,r,s,o]}class Xr extends te{constructor(e){super(),ee(this,e,Qr,Yr,x,{key:5,icon:0,name:1,focus:2})}}const Zr=t=>({focus:t&1}),En=t=>({focus:t[0]});function On(t,e,n){const o=t.slice();return o[5]=e[n],o}function xr(t){let e,n=t[5].icon+"",o;return{c(){e=new Ze(!1),o=be(),e.a=o},m(s,i){e.m(n,s,i),v(s,o,i)},p(s,i){i&2&&n!==(n=s[5].icon+"")&&e.p(n)},i:K,o:K,d(s){s&&N(o),s&&e.d()}}}function ea(t){let e,n;return e=new et({props:{icon:t[5].icon}}),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&2&&(i.icon=o[5].icon),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function ta(t){let e,n,o,s,i,r;const l=[ea,xr],a=[];function c(u,_){var p;return _&2&&(n=null),n==null&&(n=!!((p=u[5].icon)!=null&&p.startsWith("#"))),n?0:u[5].icon?1:-1}return~(o=c(t,-1))&&(s=a[o]=l[o](t)),{c(){e=P("span"),s&&s.c(),i=M(),y(e,"slot","icon")},m(u,_){v(u,e,_),~o&&a[o].m(e,null),R(e,i),r=!0},p(u,_){let p=o;o=c(u,_),o===p?~o&&a[o].p(u,_):(s&&(ie(),S(a[p],1,1,()=>{a[p]=null}),re()),~o?(s=a[o],s?s.p(u,_):(s=a[o]=l[o](u),s.c()),k(s,1),s.m(e,i)):s=null)},i(u){r||(k(s),r=!0)},o(u){S(s),r=!1},d(u){u&&N(e),~o&&a[o].d()}}}function na(t){let e,n,o=t[5].text+"",s;return{c(){e=P("span"),n=new Ze(!1),s=M(),n.a=s,y(e,"slot","text")},m(i,r){v(i,e,r),n.m(o,e),R(e,s)},p(i,r){r&2&&o!==(o=i[5].text+"")&&n.p(o)},d(i){i&&N(e)}}}function Tn(t,e){let n,o,s;return o=new Xr({props:{key:e[5].key,icon:!!e[5].icon,name:e[5].name,focus:e[5].key===e[0],$$slots:{text:[na],icon:[ta]},$$scope:{ctx:e}}}),o.$on("changed",e[2]),{key:t,first:null,c(){n=be(),D(o.$$.fragment),this.first=n},m(i,r){v(i,n,r),B(o,i,r),s=!0},p(i,r){e=i;const l={};r&2&&(l.key=e[5].key),r&2&&(l.icon=!!e[5].icon),r&2&&(l.name=e[5].name),r&3&&(l.focus=e[5].key===e[0]),r&18&&(l.$$scope={dirty:r,ctx:e}),o.$set(l)},i(i){s||(k(o.$$.fragment,i),s=!0)},o(i){S(o.$$.fragment,i),s=!1},d(i){i&&N(n),j(o,i)}}}function oa(t){let e;return{c(){e=me("Container")},m(n,o){v(n,e,o)},d(n){n&&N(e)}}}function sa(t){let e,n,o=[],s=new Map,i,r,l,a=t[1];const c=f=>f[5].key;for(let f=0;f<a.length;f+=1){let h=On(t,a,f),b=c(h);s.set(b,o[f]=Tn(b,h))}const u=t[3].default,_=ce(u,t,t[4],En),p=_||oa();return{c(){e=P("div"),n=P("div");for(let f=0;f<o.length;f+=1)o[f].c();i=M(),r=P("div"),p&&p.c(),y(n,"class","layout-tab-bar fn__flex"),y(r,"class","fn__flex-1"),y(e,"class","fn__flex-column"),ge(e,"height","100%")},m(f,h){v(f,e,h),R(e,n);for(let b=0;b<o.length;b+=1)o[b]&&o[b].m(n,null);R(e,i),R(e,r),p&&p.m(r,null),l=!0},p(f,[h]){h&7&&(a=f[1],ie(),o=xe(o,h,c,1,f,a,s,n,Tt,Tn,null,On),re()),_&&_.p&&(!l||h&17)&&fe(_,u,f,f[4],l?ue(u,f[4],h,Zr):he(f[4]),En)},i(f){if(!l){for(let h=0;h<a.length;h+=1)k(o[h]);k(p,f),l=!0}},o(f){for(let h=0;h<o.length;h+=1)S(o[h]);S(p,f),l=!1},d(f){f&&N(e);for(let h=0;h<o.length;h+=1)o[h].d();p&&p.d(f)}}}function ia(t,e,n){let{$$slots:o={},$$scope:s}=e,{tabs:i}=e,{focus:r}=e;function l(a){n(0,r=a.detail.key)}return t.$$set=a=>{"tabs"in a&&n(1,i=a.tabs),"focus"in a&&n(0,r=a.focus),"$$scope"in a&&n(4,s=a.$$scope)},[r,i,l,o,s]}class ra extends te{constructor(e){super(),ee(this,e,ia,sa,x,{tabs:1,focus:0})}}const aa=t=>({}),Nn=t=>({}),la=t=>({}),vn=t=>({}),ca=t=>({}),An=t=>({}),ua=t=>({}),Cn=t=>({});function fa(t){let e,n;return{c(){e=new Ze(!1),n=be(),e.a=n},m(o,s){e.m(t[0],o,s),v(o,n,s)},p(o,s){s&1&&e.p(o[0])},d(o){o&&N(n),o&&e.d()}}}function ha(t){let e,n;return{c(){e=new Ze(!1),n=be(),e.a=n},m(o,s){e.m(t[1],o,s),v(o,n,s)},p(o,s){s&2&&e.p(o[1])},d(o){o&&N(n),o&&e.d()}}}function Bn(t){let e,n,o;const s=t[4].input,i=ce(s,t,t[3],vn);return{c(){e=P("div"),n=M(),i&&i.c(),y(e,"class","fn__hr")},m(r,l){v(r,e,l),v(r,n,l),i&&i.m(r,l),o=!0},p(r,l){i&&i.p&&(!o||l&8)&&fe(i,s,r,r[3],o?ue(s,r[3],l,la):he(r[3]),vn)},i(r){o||(k(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&N(e),r&&N(n),i&&i.d(r)}}}function jn(t){let e,n,o;const s=t[4].input,i=ce(s,t,t[3],Nn);return{c(){e=P("span"),n=M(),i&&i.c(),y(e,"class","fn__space")},m(r,l){v(r,e,l),v(r,n,l),i&&i.m(r,l),o=!0},p(r,l){i&&i.p&&(!o||l&8)&&fe(i,s,r,r[3],o?ue(s,r[3],l,aa):he(r[3]),Nn)},i(r){o||(k(i,r),o=!0)},o(r){S(i,r),o=!1},d(r){r&&N(e),r&&N(n),i&&i.d(r)}}}function pa(t){let e,n,o,s,i,r,l;const a=t[4].title,c=ce(a,t,t[3],Cn),u=c||fa(t),_=t[4].text,p=ce(_,t,t[3],An),f=p||ha(t);let h=t[2]&&Bn(t),b=!t[2]&&jn(t);return{c(){e=P("label"),n=P("div"),u&&u.c(),o=M(),s=P("div"),f&&f.c(),i=M(),h&&h.c(),r=M(),b&&b.c(),y(s,"class","b3-label__text"),y(n,"class","fn__flex-1 svelte-2m76cy"),w(n,"visible",t[2]),y(e,"class","fn__flex b3-label")},m(d,A){v(d,e,A),R(e,n),u&&u.m(n,null),R(n,o),R(n,s),f&&f.m(s,null),R(n,i),h&&h.m(n,null),R(e,r),b&&b.m(e,null),l=!0},p(d,[A]){c?c.p&&(!l||A&8)&&fe(c,a,d,d[3],l?ue(a,d[3],A,ua):he(d[3]),Cn):u&&u.p&&(!l||A&1)&&u.p(d,l?A:-1),p?p.p&&(!l||A&8)&&fe(p,_,d,d[3],l?ue(_,d[3],A,ca):he(d[3]),An):f&&f.p&&(!l||A&2)&&f.p(d,l?A:-1),d[2]?h?(h.p(d,A),A&4&&k(h,1)):(h=Bn(d),h.c(),k(h,1),h.m(n,null)):h&&(ie(),S(h,1,1,()=>{h=null}),re()),(!l||A&4)&&w(n,"visible",d[2]),d[2]?b&&(ie(),S(b,1,1,()=>{b=null}),re()):b?(b.p(d,A),A&4&&k(b,1)):(b=jn(d),b.c(),k(b,1),b.m(e,null))},i(d){l||(k(u,d),k(f,d),k(h),k(b),l=!0)},o(d){S(u,d),S(f,d),S(h),S(b),l=!1},d(d){d&&N(e),u&&u.d(d),f&&f.d(d),h&&h.d(),b&&b.d()}}}function da(t,e,n){let{$$slots:o={},$$scope:s}=e,{title:i=""}=e,{text:r=""}=e,{block:l=!1}=e;return t.$$set=a=>{"title"in a&&n(0,i=a.title),"text"in a&&n(1,r=a.text),"block"in a&&n(2,l=a.block),"$$scope"in a&&n(3,s=a.$$scope)},[i,r,l,s,o]}class J extends te{constructor(e){super(),ee(this,e,da,pa,x,{title:0,text:1,block:2})}}var H=(t=>(t[t.checkbox=0]="checkbox",t[t.text=1]="text",t[t.number=2]="number",t[t.slider=3]="slider",t[t.button=4]="button",t[t.select=5]="select",t[t.textarea=6]="textarea",t))(H||{});function Dn(t,e,n){const o=t.slice();return o[19]=e[n],o}function ma(t){let e,n,o;return{c(){e=P("textarea"),e.disabled=t[2],y(e,"class","b3-text-field"),y(e,"placeholder",t[5]),w(e,"fn__block",t[3]),w(e,"fn__size200",!t[3]&&t[4]),ge(e,"height",t[8]>0?`${t[8]}px`:void 0)},m(s,i){v(s,e,i),se(e,t[0]),n||(o=[V(e,"input",t[17]),V(e,"change",t[10])],n=!0)},p(s,i){i&4&&(e.disabled=s[2]),i&32&&y(e,"placeholder",s[5]),i&65&&se(e,s[0]),i&8&&w(e,"fn__block",s[3]),i&24&&w(e,"fn__size200",!s[3]&&s[4]),i&256&&ge(e,"height",s[8]>0?`${s[8]}px`:void 0)},d(s){s&&N(e),n=!1,Q(o)}}}function ga(t){let e,n=[],o=new Map,s,i,r=t[6];const l=a=>a[19].key;for(let a=0;a<r.length;a+=1){let c=Dn(t,r,a),u=l(c);o.set(u,n[a]=Pn(u,c))}return{c(){e=P("select");for(let a=0;a<n.length;a+=1)n[a].c();e.disabled=t[2],y(e,"class","b3-select"),t[0]===void 0&&Ge(()=>t[16].call(e)),w(e,"fn__block",t[3]),w(e,"fn__size200",!t[3]&&t[4]),w(e,"fn__flex-center",!t[3])},m(a,c){v(a,e,c);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);sn(e,t[0],!0),s||(i=[V(e,"change",t[16]),V(e,"change",t[10])],s=!0)},p(a,c){c&64&&(r=a[6],n=xe(n,c,l,1,a,r,o,e,br,Pn,null,Dn)),c&4&&(e.disabled=a[2]),c&65&&sn(e,a[0]),c&8&&w(e,"fn__block",a[3]),c&24&&w(e,"fn__size200",!a[3]&&a[4]),c&8&&w(e,"fn__flex-center",!a[3])},d(a){a&&N(e);for(let c=0;c<n.length;c+=1)n[c].d();s=!1,Q(i)}}}function _a(t){let e,n,o,s;return{c(){e=P("button"),n=me(t[0]),e.disabled=t[2],y(e,"class","b3-button b3-button--outline"),w(e,"fn__block",t[3]),w(e,"fn__size200",!t[3]&&t[4]),w(e,"fn__flex-center",!t[3])},m(i,r){v(i,e,r),R(e,n),o||(s=V(e,"click",t[9]),o=!0)},p(i,r){r&1&&Et(n,i[0]),r&4&&(e.disabled=i[2]),r&8&&w(e,"fn__block",i[3]),r&24&&w(e,"fn__size200",!i[3]&&i[4]),r&8&&w(e,"fn__flex-center",!i[3])},d(i){i&&N(e),o=!1,s()}}}function ba(t){let e,n,o,s,i,r;return{c(){e=P("input"),e.disabled=t[2],y(e,"class","b3-slider svelte-edt8og"),y(e,"type","range"),y(e,"min",n=t[7].min),y(e,"max",o=t[7].max),y(e,"step",s=t[7].step),w(e,"fn__block",t[3]),w(e,"fn__size200",!t[3]&&t[4])},m(l,a){v(l,e,a),se(e,t[0]),i||(r=[V(e,"change",t[15]),V(e,"input",t[15]),V(e,"change",t[10])],i=!0)},p(l,a){a&4&&(e.disabled=l[2]),a&128&&n!==(n=l[7].min)&&y(e,"min",n),a&128&&o!==(o=l[7].max)&&y(e,"max",o),a&128&&s!==(s=l[7].step)&&y(e,"step",s),a&65&&se(e,l[0]),a&8&&w(e,"fn__block",l[3]),a&24&&w(e,"fn__size200",!l[3]&&l[4])},d(l){l&&N(e),i=!1,Q(r)}}}function ya(t){let e,n,o,s,i,r;return{c(){e=P("input"),e.disabled=t[2],y(e,"class","b3-text-field"),y(e,"type","number"),y(e,"placeholder",t[5]),y(e,"min",n=t[7].min),y(e,"max",o=t[7].max),y(e,"step",s=t[7].step),w(e,"fn__block",t[3]),w(e,"fn__size200",!t[3]&&t[4]),w(e,"fn__flex-center",!t[3])},m(l,a){v(l,e,a),se(e,t[0]),i||(r=[V(e,"input",t[14]),V(e,"change",t[10])],i=!0)},p(l,a){a&4&&(e.disabled=l[2]),a&32&&y(e,"placeholder",l[5]),a&128&&n!==(n=l[7].min)&&y(e,"min",n),a&128&&o!==(o=l[7].max)&&y(e,"max",o),a&128&&s!==(s=l[7].step)&&y(e,"step",s),a&65&&dt(e.value)!==l[0]&&se(e,l[0]),a&8&&w(e,"fn__block",l[3]),a&24&&w(e,"fn__size200",!l[3]&&l[4]),a&8&&w(e,"fn__flex-center",!l[3])},d(l){l&&N(e),i=!1,Q(r)}}}function ka(t){let e,n,o;return{c(){e=P("input"),e.disabled=t[2],y(e,"class","b3-text-field"),y(e,"placeholder",t[5]),w(e,"fn__block",t[3]),w(e,"fn__size200",!t[3]&&t[4]),w(e,"fn__flex-center",!t[3])},m(s,i){v(s,e,i),se(e,t[0]),n||(o=[V(e,"input",t[13]),V(e,"change",t[10])],n=!0)},p(s,i){i&4&&(e.disabled=s[2]),i&32&&y(e,"placeholder",s[5]),i&65&&e.value!==s[0]&&se(e,s[0]),i&8&&w(e,"fn__block",s[3]),i&24&&w(e,"fn__size200",!s[3]&&s[4]),i&8&&w(e,"fn__flex-center",!s[3])},d(s){s&&N(e),n=!1,Q(o)}}}function Sa(t){let e,n,o;return{c(){e=P("input"),e.disabled=t[2],y(e,"class","b3-switch svelte-edt8og"),y(e,"type","checkbox"),w(e,"fn__block",t[3]),w(e,"fn__flex-center",!t[3])},m(s,i){v(s,e,i),e.checked=t[0],n||(o=[V(e,"change",t[12]),V(e,"change",t[10])],n=!0)},p(s,i){i&4&&(e.disabled=s[2]),i&65&&(e.checked=s[0]),i&8&&w(e,"fn__block",s[3]),i&8&&w(e,"fn__flex-center",!s[3])},d(s){s&&N(e),n=!1,Q(o)}}}function Pn(t,e){let n,o=e[19].text+"",s,i;return{key:t,first:null,c(){n=P("option"),s=me(o),n.__value=i=e[19].key,n.value=n.__value,this.first=n},m(r,l){v(r,n,l),R(n,s)},p(r,l){e=r,l&64&&o!==(o=e[19].text+"")&&Et(s,o),l&64&&i!==(i=e[19].key)&&(n.__value=i,n.value=n.__value)},d(r){r&&N(n)}}}function wa(t){let e;function n(i,r){if(i[1]===H.checkbox)return Sa;if(i[1]===H.text)return ka;if(i[1]===H.number)return ya;if(i[1]===H.slider)return ba;if(i[1]===H.button)return _a;if(i[1]===H.select)return ga;if(i[1]===H.textarea)return ma}let o=n(t),s=o&&o(t);return{c(){s&&s.c(),e=be()},m(i,r){s&&s.m(i,r),v(i,e,r)},p(i,[r]){o===(o=n(i))&&s?s.p(i,r):(s&&s.d(1),s=o&&o(i),s&&(s.c(),s.m(e.parentNode,e)))},i:K,o:K,d(i){s&&s.d(i),i&&N(e)}}}function Ea(t,e,n){let{type:o}=e,{settingKey:s}=e,{settingValue:i}=e,{disabled:r=!1}=e,{block:l=!1}=e,{normal:a=!0}=e,{placeholder:c=""}=e,{options:u=[]}=e,{limits:_={min:0,max:100,step:1}}=e,{height:p=0}=e;const f=Ot();function h(T){f("clicked",{event:T})}function b(T){f("changed",{key:s,value:i,event:T})}function d(){i=this.checked,n(0,i),n(6,u)}function A(){i=this.value,n(0,i),n(6,u)}function Y(){i=dt(this.value),n(0,i),n(6,u)}function L(){i=dt(this.value),n(0,i),n(6,u)}function q(){i=fr(this),n(0,i),n(6,u)}function C(){i=this.value,n(0,i),n(6,u)}return t.$$set=T=>{"type"in T&&n(1,o=T.type),"settingKey"in T&&n(11,s=T.settingKey),"settingValue"in T&&n(0,i=T.settingValue),"disabled"in T&&n(2,r=T.disabled),"block"in T&&n(3,l=T.block),"normal"in T&&n(4,a=T.normal),"placeholder"in T&&n(5,c=T.placeholder),"options"in T&&n(6,u=T.options),"limits"in T&&n(7,_=T.limits),"height"in T&&n(8,p=T.height)},[i,o,r,l,a,c,u,_,p,h,b,s,d,A,Y,L,q,C]}class W extends te{constructor(e){super(),ee(this,e,Ea,wa,x,{type:1,settingKey:11,settingValue:0,disabled:2,block:3,normal:4,placeholder:5,options:6,limits:7,height:8})}}function Oa(t){let e,n;return e=new W({props:{slot:"input",type:H.button,settingKey:"Reset",settingValue:t[3].settings.generalSettings.reset.text}}),e.$on("clicked",t[5]),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p:K,i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function Ta(t){let e,n;return e=new W({props:{slot:"input",type:H.button,settingKey:"showSystemFonts",settingValue:t[3].settings.generalSettings.showSystemFonts.text}}),e.$on("clicked",t[8]),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p:K,i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function Na(t){let e,n;return e=new W({props:{slot:"input",type:H.button,settingKey:"showSystemFonts",settingValue:t[3].settings.generalSettings.showUsableFonts.text}}),e.$on("clicked",t[9]),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p:K,i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function va(t){let e,n,o,s,i,r;return e=new J({props:{title:t[3].settings.generalSettings.reset.title,text:t[3].settings.generalSettings.reset.description,$$slots:{input:[Oa]},$$scope:{ctx:t}}}),o=new J({props:{title:t[3].settings.generalSettings.showSystemFonts.title,text:t[3].settings.generalSettings.showSystemFonts.description,$$slots:{input:[Ta]},$$scope:{ctx:t}}}),i=new J({props:{title:t[3].settings.generalSettings.showUsableFonts.title,text:t[3].settings.generalSettings.showUsableFonts.description,$$slots:{input:[Na]},$$scope:{ctx:t}}}),{c(){D(e.$$.fragment),n=M(),D(o.$$.fragment),s=M(),D(i.$$.fragment)},m(l,a){B(e,l,a),v(l,n,a),B(o,l,a),v(l,s,a),B(i,l,a),r=!0},p(l,a){const c={};a&134217728&&(c.$$scope={dirty:a,ctx:l}),e.$set(c);const u={};a&134217730&&(u.$$scope={dirty:a,ctx:l}),o.$set(u);const _={};a&134217730&&(_.$$scope={dirty:a,ctx:l}),i.$set(_)},i(l){r||(k(e.$$.fragment,l),k(o.$$.fragment,l),k(i.$$.fragment,l),r=!0)},o(l){S(e.$$.fragment,l),S(o.$$.fragment,l),S(i.$$.fragment,l),r=!1},d(l){j(e,l),l&&N(n),j(o,l),l&&N(s),j(i,l)}}}function Aa(t){let e,n;return e=new W({props:{slot:"input",type:H.checkbox,settingKey:"enable",settingValue:t[0].css.enable}}),e.$on("changed",t[10]),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&1&&(i.settingValue=o[0].css.enable),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function Ca(t){let e,n;return e=new W({props:{slot:"input",block:!0,type:H.textarea,height:t[2],settingKey:"code",settingValue:t[0].css.code,placeholder:t[3].settings.cssSettings.snippet.placeholder}}),e.$on("changed",t[11]),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&4&&(i.height=o[2]),s&1&&(i.settingValue=o[0].css.code),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function Ba(t){let e,n,o,s;return e=new J({props:{title:t[3].settings.cssSettings.enable.title,text:t[3].settings.cssSettings.enable.description,$$slots:{input:[Aa]},$$scope:{ctx:t}}}),o=new J({props:{block:!0,title:t[3].settings.cssSettings.snippet.title,text:t[3].settings.cssSettings.snippet.description,$$slots:{input:[Ca]},$$scope:{ctx:t}}}),{c(){D(e.$$.fragment),n=M(),D(o.$$.fragment)},m(i,r){B(e,i,r),v(i,n,r),B(o,i,r),s=!0},p(i,r){const l={};r&134217729&&(l.$$scope={dirty:r,ctx:i}),e.$set(l);const a={};r&134217733&&(a.$$scope={dirty:r,ctx:i}),o.$set(a)},i(i){s||(k(e.$$.fragment,i),k(o.$$.fragment,i),s=!0)},o(i){S(e.$$.fragment,i),S(o.$$.fragment,i),s=!1},d(i){j(e,i),i&&N(n),j(o,i)}}}function ja(t){let e,n;return e=new W({props:{slot:"input",type:H.checkbox,settingKey:"enable",settingValue:t[0].fonts.base.enable}}),e.$on("changed",t[12]),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&1&&(i.settingValue=o[0].fonts.base.enable),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function Da(t){let e,n;return e=new W({props:{slot:"input",block:!0,type:H.textarea,height:t[2],settingKey:"list",settingValue:t[0].fonts.base.list.join(`
`),placeholder:t[3].settings.fontsSettings.base.fontsList.placeholder}}),e.$on("changed",t[13]),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&4&&(i.height=o[2]),s&1&&(i.settingValue=o[0].fonts.base.list.join(`
`)),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function Pa(t){let e,n;return e=new W({props:{slot:"input",type:H.checkbox,settingKey:"enable",settingValue:t[0].fonts.code.enable}}),e.$on("changed",t[14]),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&1&&(i.settingValue=o[0].fonts.code.enable),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function Ra(t){let e,n;return e=new W({props:{slot:"input",block:!0,type:H.textarea,height:t[2],settingKey:"list",settingValue:t[0].fonts.code.list.join(`
`),placeholder:t[3].settings.fontsSettings.code.fontsList.placeholder}}),e.$on("changed",t[15]),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&4&&(i.height=o[2]),s&1&&(i.settingValue=o[0].fonts.code.list.join(`
`)),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function $a(t){let e,n;return e=new W({props:{slot:"input",type:H.checkbox,settingKey:"enable",settingValue:t[0].fonts.graph.enable}}),e.$on("changed",t[16]),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&1&&(i.settingValue=o[0].fonts.graph.enable),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function Ma(t){let e,n;return e=new W({props:{slot:"input",block:!0,type:H.textarea,height:t[2],settingKey:"list",settingValue:t[0].fonts.graph.list.join(`
`),placeholder:t[3].settings.fontsSettings.graph.fontsList.placeholder}}),e.$on("changed",t[17]),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&4&&(i.height=o[2]),s&1&&(i.settingValue=o[0].fonts.graph.list.join(`
`)),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function Fa(t){let e,n;return e=new W({props:{slot:"input",type:H.checkbox,settingKey:"enable",settingValue:t[0].fonts.math.enable}}),e.$on("changed",t[18]),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&1&&(i.settingValue=o[0].fonts.math.enable),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function La(t){let e,n;return e=new W({props:{slot:"input",block:!0,type:H.textarea,height:t[2],settingKey:"list",settingValue:t[0].fonts.math.list.join(`
`),placeholder:t[3].settings.fontsSettings.math.fontsList.placeholder}}),e.$on("changed",t[19]),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&4&&(i.height=o[2]),s&1&&(i.settingValue=o[0].fonts.math.list.join(`
`)),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function qa(t){let e,n;return e=new W({props:{slot:"input",type:H.checkbox,settingKey:"enable",settingValue:t[0].fonts.emoji.enable}}),e.$on("changed",t[20]),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&1&&(i.settingValue=o[0].fonts.emoji.enable),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function Ia(t){let e,n;return e=new W({props:{slot:"input",block:!0,type:H.textarea,height:t[2],settingKey:"list",settingValue:t[0].fonts.emoji.list.join(`
`),placeholder:t[3].settings.fontsSettings.emoji.fontsList.placeholder}}),e.$on("changed",t[21]),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&4&&(i.height=o[2]),s&1&&(i.settingValue=o[0].fonts.emoji.list.join(`
`)),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function Ua(t){let e,n,o,s,i,r,l,a,c,u,_,p,f,h,b,d,A,Y,L,q,C,T,I,U,z;return n=new J({props:{title:t[3].settings.fontsSettings.base.enable.title,text:t[3].settings.fontsSettings.base.enable.description,$$slots:{input:[ja]},$$scope:{ctx:t}}}),s=new J({props:{block:!0,title:t[3].settings.fontsSettings.base.fontsList.title,text:t[3].settings.fontsSettings.base.fontsList.description,$$slots:{input:[Da]},$$scope:{ctx:t}}}),l=new J({props:{title:t[3].settings.fontsSettings.code.enable.title,text:t[3].settings.fontsSettings.code.enable.description,$$slots:{input:[Pa]},$$scope:{ctx:t}}}),c=new J({props:{block:!0,title:t[3].settings.fontsSettings.code.fontsList.title,text:t[3].settings.fontsSettings.code.fontsList.description,$$slots:{input:[Ra]},$$scope:{ctx:t}}}),p=new J({props:{title:t[3].settings.fontsSettings.graph.enable.title,text:t[3].settings.fontsSettings.graph.enable.description,$$slots:{input:[$a]},$$scope:{ctx:t}}}),h=new J({props:{block:!0,title:t[3].settings.fontsSettings.graph.fontsList.title,text:t[3].settings.fontsSettings.graph.fontsList.description,$$slots:{input:[Ma]},$$scope:{ctx:t}}}),A=new J({props:{title:t[3].settings.fontsSettings.math.enable.title,text:t[3].settings.fontsSettings.math.enable.description,$$slots:{input:[Fa]},$$scope:{ctx:t}}}),L=new J({props:{block:!0,title:t[3].settings.fontsSettings.math.fontsList.title,text:t[3].settings.fontsSettings.math.fontsList.description,$$slots:{input:[La]},$$scope:{ctx:t}}}),T=new J({props:{title:t[3].settings.fontsSettings.emoji.enable.title,text:t[3].settings.fontsSettings.emoji.enable.description,$$slots:{input:[qa]},$$scope:{ctx:t}}}),U=new J({props:{block:!0,title:t[3].settings.fontsSettings.emoji.fontsList.title,text:t[3].settings.fontsSettings.emoji.fontsList.description,$$slots:{input:[Ia]},$$scope:{ctx:t}}}),{c(){e=P("div"),D(n.$$.fragment),o=M(),D(s.$$.fragment),i=M(),r=P("div"),D(l.$$.fragment),a=M(),D(c.$$.fragment),u=M(),_=P("div"),D(p.$$.fragment),f=M(),D(h.$$.fragment),b=M(),d=P("div"),D(A.$$.fragment),Y=M(),D(L.$$.fragment),q=M(),C=P("div"),D(T.$$.fragment),I=M(),D(U.$$.fragment),y(e,"data-type",t[7].fonts[0].name),w(e,"fn__none",t[7].fonts[0].key!==t[26]),y(r,"data-type",t[7].fonts[1].name),w(r,"fn__none",t[7].fonts[1].key!==t[26]),y(_,"data-type",t[7].fonts[2].name),w(_,"fn__none",t[7].fonts[2].key!==t[26]),y(d,"data-type",t[7].fonts[3].name),w(d,"fn__none",t[7].fonts[3].key!==t[26]),y(C,"data-type",t[7].fonts[4].name),w(C,"fn__none",t[7].fonts[4].key!==t[26])},m(E,$){v(E,e,$),B(n,e,null),R(e,o),B(s,e,null),v(E,i,$),v(E,r,$),B(l,r,null),R(r,a),B(c,r,null),v(E,u,$),v(E,_,$),B(p,_,null),R(_,f),B(h,_,null),v(E,b,$),v(E,d,$),B(A,d,null),R(d,Y),B(L,d,null),v(E,q,$),v(E,C,$),B(T,C,null),R(C,I),B(U,C,null),z=!0},p(E,$){const O={};$&134217729&&(O.$$scope={dirty:$,ctx:E}),n.$set(O);const Nt={};$&134217733&&(Nt.$$scope={dirty:$,ctx:E}),s.$set(Nt),(!z||$&67108992)&&w(e,"fn__none",E[7].fonts[0].key!==E[26]);const vt={};$&134217729&&(vt.$$scope={dirty:$,ctx:E}),l.$set(vt);const At={};$&134217733&&(At.$$scope={dirty:$,ctx:E}),c.$set(At),(!z||$&67108992)&&w(r,"fn__none",E[7].fonts[1].key!==E[26]);const Ct={};$&134217729&&(Ct.$$scope={dirty:$,ctx:E}),p.$set(Ct);const Bt={};$&134217733&&(Bt.$$scope={dirty:$,ctx:E}),h.$set(Bt),(!z||$&67108992)&&w(_,"fn__none",E[7].fonts[2].key!==E[26]);const jt={};$&134217729&&(jt.$$scope={dirty:$,ctx:E}),A.$set(jt);const Dt={};$&134217733&&(Dt.$$scope={dirty:$,ctx:E}),L.$set(Dt),(!z||$&67108992)&&w(d,"fn__none",E[7].fonts[3].key!==E[26]);const Pt={};$&134217729&&(Pt.$$scope={dirty:$,ctx:E}),T.$set(Pt);const Rt={};$&134217733&&(Rt.$$scope={dirty:$,ctx:E}),U.$set(Rt),(!z||$&67108992)&&w(C,"fn__none",E[7].fonts[4].key!==E[26])},i(E){z||(k(n.$$.fragment,E),k(s.$$.fragment,E),k(l.$$.fragment,E),k(c.$$.fragment,E),k(p.$$.fragment,E),k(h.$$.fragment,E),k(A.$$.fragment,E),k(L.$$.fragment,E),k(T.$$.fragment,E),k(U.$$.fragment,E),z=!0)},o(E){S(n.$$.fragment,E),S(s.$$.fragment,E),S(l.$$.fragment,E),S(c.$$.fragment,E),S(p.$$.fragment,E),S(h.$$.fragment,E),S(A.$$.fragment,E),S(L.$$.fragment,E),S(T.$$.fragment,E),S(U.$$.fragment,E),z=!1},d(E){E&&N(e),j(n),j(s),E&&N(i),E&&N(r),j(l),j(c),E&&N(u),E&&N(_),j(p),j(h),E&&N(b),E&&N(d),j(A),j(L),E&&N(q),E&&N(C),j(T),j(U)}}}function Ha(t){let e,n;return e=new ra({props:{focus:Wa,tabs:t[7].fonts,$$slots:{default:[Ua,({focus:o})=>({26:o}),({focus:o})=>o?67108864:0]},$$scope:{ctx:t}}}),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&201326597&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function za(t){let e,n;return e=new W({props:{slot:"input",block:!0,type:H.textarea,height:t[2],settingKey:"list",settingValue:t[0].menu.block.list.join(`
`),placeholder:t[3].settings.menuSettings.blockFontList.placeholder}}),e.$on("changed",t[22]),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&4&&(i.height=o[2]),s&1&&(i.settingValue=o[0].menu.block.list.join(`
`)),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function Va(t){let e,n;return e=new J({props:{block:!0,title:t[3].settings.menuSettings.blockFontList.title,text:t[3].settings.menuSettings.blockFontList.description,$$slots:{input:[za]},$$scope:{ctx:t}}}),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,s){const i={};s&134217733&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}function Ga(t){let e,n,o,s,i,r,l,a;return e=new Fe({props:{display:t[6][0].key===t[25],$$slots:{default:[va]},$$scope:{ctx:t}}}),o=new Fe({props:{display:t[6][1].key===t[25],$$slots:{default:[Ba]},$$scope:{ctx:t}}}),i=new Fe({props:{display:t[6][2].key===t[25],$$slots:{default:[Ha]},$$scope:{ctx:t}}}),l=new Fe({props:{display:t[6][3].key===t[25],$$slots:{default:[Va]},$$scope:{ctx:t}}}),{c(){D(e.$$.fragment),n=M(),D(o.$$.fragment),s=M(),D(i.$$.fragment),r=M(),D(l.$$.fragment)},m(c,u){B(e,c,u),v(c,n,u),B(o,c,u),v(c,s,u),B(i,c,u),v(c,r,u),B(l,c,u),a=!0},p(c,u){const _={};u&33554432&&(_.display=c[6][0].key===c[25]),u&134217730&&(_.$$scope={dirty:u,ctx:c}),e.$set(_);const p={};u&33554432&&(p.display=c[6][1].key===c[25]),u&134217733&&(p.$$scope={dirty:u,ctx:c}),o.$set(p);const f={};u&33554432&&(f.display=c[6][2].key===c[25]),u&134217733&&(f.$$scope={dirty:u,ctx:c}),i.$set(f);const h={};u&33554432&&(h.display=c[6][3].key===c[25]),u&134217733&&(h.$$scope={dirty:u,ctx:c}),l.$set(h)},i(c){a||(k(e.$$.fragment,c),k(o.$$.fragment,c),k(i.$$.fragment,c),k(l.$$.fragment,c),a=!0)},o(c){S(e.$$.fragment,c),S(o.$$.fragment,c),S(i.$$.fragment,c),S(l.$$.fragment,c),a=!1},d(c){j(e,c),c&&N(n),j(o,c),c&&N(s),j(i,c),c&&N(r),j(l,c)}}}function Ka(t){let e,n;return e=new zr({props:{panels:t[6],focus:Ja,$$slots:{default:[Ga,({focus:o})=>({25:o}),({focus:o})=>o?33554432:0]},$$scope:{ctx:t}}}),{c(){D(e.$$.fragment)},m(o,s){B(e,o,s),n=!0},p(o,[s]){const i={};s&167772167&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){n||(k(e.$$.fragment,o),n=!0)},o(o){S(e.$$.fragment,o),n=!1},d(o){j(e,o)}}}let Ja=0,Wa=0;function Ya(t,e,n){let{config:o}=e,{plugin:s}=e,{textareaHeight:i=0}=e;const r=s.i18n;function l(){s.updateConfig(o)}function a(){s.siyuan.confirm(r.settings.generalSettings.reset.title,r.settings.generalSettings.reset.description,async()=>{await s.resetConfig(),globalThis.location.reload()})}var c=(O=>(O[O.general=0]="general",O[O.snippet=1]="snippet",O[O.fonts=2]="fonts",O[O.menu=3]="menu",O))(c||{}),u=(O=>(O[O.base=0]="base",O[O.code=1]="code",O[O.graph=2]="graph",O[O.math=3]="math",O[O.emoji=4]="emoji",O))(u||{});const _=[{key:0,text:r.settings.generalSettings.title,name:r.settings.generalSettings.title,icon:"#iconSettings"},{key:1,text:r.settings.cssSettings.title,name:r.settings.cssSettings.title,icon:"#iconCode"},{key:2,text:r.settings.fontsSettings.title,name:r.settings.fontsSettings.title,icon:"#iconFont"},{key:3,text:r.settings.menuSettings.title,name:r.settings.menuSettings.title,icon:"#iconMenu"}],p={fonts:[{key:0,text:r.settings.fontsSettings.base.title,name:r.settings.fontsSettings.base.title,icon:"🗛"},{key:1,text:r.settings.fontsSettings.code.title,name:r.settings.fontsSettings.code.title,icon:"💻"},{key:2,text:r.settings.fontsSettings.graph.title,name:r.settings.fontsSettings.graph.title,icon:"📊"},{key:3,text:r.settings.fontsSettings.math.title,name:r.settings.fontsSettings.math.title,icon:"🔢"},{key:4,text:r.settings.fontsSettings.emoji.title,name:r.settings.fontsSettings.emoji.title,icon:"🙂"}]},f=()=>s.showSystemFonts(),h=()=>s.showUsableFonts(),b=O=>{n(0,o.css.enable=O.detail.value,o),l()},d=O=>{n(0,o.css.code=O.detail.value,o),l()},A=O=>{n(0,o.fonts.base.enable=O.detail.value,o),l()},Y=O=>{O.detail.value===""?n(0,o.fonts.base.list=[],o):n(0,o.fonts.base.list=O.detail.value.split(`
`),o),l()},L=O=>{n(0,o.fonts.code.enable=O.detail.value,o),l()},q=O=>{O.detail.value===""?n(0,o.fonts.code.list=[],o):n(0,o.fonts.code.list=O.detail.value.split(`
`),o),l()},C=O=>{n(0,o.fonts.graph.enable=O.detail.value,o),l()},T=O=>{O.detail.value===""?n(0,o.fonts.graph.list=[],o):n(0,o.fonts.graph.list=O.detail.value.split(`
`),o),l()},I=O=>{n(0,o.fonts.math.enable=O.detail.value,o),l()},U=O=>{O.detail.value===""?n(0,o.fonts.math.list=[],o):n(0,o.fonts.math.list=O.detail.value.split(`
`),o),l()},z=O=>{n(0,o.fonts.emoji.enable=O.detail.value,o),l()},E=O=>{O.detail.value===""?n(0,o.fonts.emoji.list=[],o):n(0,o.fonts.emoji.list=O.detail.value.split(`
`),o),l()},$=O=>{O.detail.value===""?n(0,o.menu.block.list=[],o):n(0,o.menu.block.list=O.detail.value.split(`
`),o),l()};return t.$$set=O=>{"config"in O&&n(0,o=O.config),"plugin"in O&&n(1,s=O.plugin),"textareaHeight"in O&&n(2,i=O.textareaHeight)},[o,s,i,r,l,a,_,p,f,h,b,d,A,Y,L,q,C,T,I,U,z,E,$]}class Qa extends te{constructor(e){super(),ee(this,e,Ya,Ka,x,{config:0,plugin:1,textareaHeight:2})}}function Xa(t){switch(t=t.trim(),!0){case(t.startsWith('"')&&t.endsWith('"')):case(t.startsWith("'")&&t.endsWith("'")):return t;default:return`"${t}"`}}function ve(t){return t.filter(e=>!/^\s*$/.test(e)).map(Xa)}function Za(t){var n,o,s,i,r;const e=[];if(e.push(":root {"),((n=t.base)==null?void 0:n.length)>0){const l=ve(t.base);e.push(`    --b3-font-family: ${l.join(", ")};`)}if(((o=t.code)==null?void 0:o.length)>0){const l=ve(t.code);e.push(`    --b3-font-family-code: ${l.join(", ")};`)}if(((s=t.graph)==null?void 0:s.length)>0){const l=ve(t.graph);e.push(`    --b3-font-family-graph: ${l.join(", ")};`)}if(((i=t.math)==null?void 0:i.length)>0){const l=ve(t.math);e.push(`    --b3-font-family-math: ${l.join(", ")};`)}if(((r=t.emoji)==null?void 0:r.length)>0){const l=ve(t.emoji);e.push(`    --b3-font-family-emoji: ${l.join(", ")};`)}return e.push("}"),e.join(`
`)}const xa="custom-fonts",el="Zuoqiu Yingyi",tl="https://github.com/Zuoqiu-Yingyi/siyuan-plugin-custom-fonts",nl="1.1.1",ol="2.9.8",sl=["all"],il=["all"],rl={default:"Custom Fonts",zh_CN:"自定义字体",zh_CHT:"自定義字型"},al={default:"Customize the fonts of various elements in the SiYuan interface.",zh_CN:"自定义思源界面中各种元素的字体。",zh_CHT:"自定義思源介面中各種元素的字型。"},ll={default:"README.md",zh_CN:"README_zh_CN.md",zh_CHT:"README_zh_CN.md"},cl={openCollective:"",patreon:"",github:"",custom:["https://afdian.net/a/zuoqiu","https://ko-fi.com/zuoqiu"]},ul={name:xa,author:el,url:tl,version:nl,minAppVersion:ol,backends:sl,frontends:il,displayName:rl,description:al,readme:ll,funding:cl},Rn={css:{enable:!0,code:`/* Twemoji Mozilla: https://github.com/mozilla/twemoji-colr */
@font-face {
    font-family: "Twemoji Mozilla";
    font-style: normal;
    src: url("plugins/${ul.name}/static/fonts/Twemoji.Mozilla/Twemoji.Mozilla-0.7.0.ttf");
}
`},fonts:{base:{enable:!1,list:["Helvetica Neue","Luxi Sans","DejaVu Sans","Hiragino Sans GB","Microsoft Yahei","sans-serif","Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji","Segoe UI Symbol","Android Emoji","EmojiSymbols"]},code:{enable:!1,list:["JetBrainsMono-Regular","mononoki","Consolas","Liberation Mono","Menlo","Courier","monospace","Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji","Segoe UI Symbol","Android Emoji","EmojiSymbols"]},graph:{enable:!1,list:["mononoki"]},math:{enable:!1,list:["KaTeX_Math","KaTeX_Main"]},emoji:{enable:!0,list:["Twemoji Mozilla","Segoe UI Emoji","Segoe UI Symbol","Segoe UI","Apple Color Emoji","Noto Color Emoji","Android Emoji"]}},menu:{block:{enable:!0,list:["等线","方正舒体","方正姚体","仿宋","黑体","华文彩云","华文仿宋","华文琥珀","华文楷体","华文隶书","华文宋体","华文细黑","华文新魏","华文行楷","华文中宋","楷体","隶书","宋体","微软雅黑","新宋体","幼圆"]}}},Ce=class Ce extends ne.Plugin{constructor(n){super(n);Z(this,"siyuan",ne);Z(this,"logger");Z(this,"client");Z(this,"STYLE_SNIPPET_NAME");Z(this,"SETTINGS_DIALOG_ID");Z(this,"SYSTEM_FONTS_DIALOG_ID");Z(this,"USABLE_FONTS_DIALOG_ID");Z(this,"config");Z(this,"blockMenuEventListener",n=>{const o=n.detail,s=Lr(n.detail);if(s){const i=[];i.push({icon:"iconClear",label:this.i18n.menu.clearFontStyle.label,click:()=>{s.blocks.forEach(async r=>{r.element.style.fontFamily=null;const l=r.element.getAttribute("style");this.client.setBlockAttrs({id:r.id,attrs:{style:l}})})}}),i.push({type:"separator"}),this.config.menu.block.list.forEach(r=>{/^\s*$/.test(r)||(r=r.trim(),i.push({icon:"iconFont",label:r,accelerator:`font-family: ${r}`,click:()=>{s.blocks.forEach(async l=>{l.element.style.fontFamily=r;const a=l.element.getAttribute("style");this.client.setBlockAttrs({id:l.id,attrs:{style:a}})})},bind:l=>{const a=l.querySelector(".b3-menu__label");a&&(a.style.fontFamily=r)}}))}),o.menu.addItem({icon:"iconFont",label:this.i18n.menu.customBlockFont.label,submenu:i})}});this.logger=new Gi(this.name),this.client=new Ii,this.STYLE_SNIPPET_NAME=`plugin-${this.name}-style`,this.SETTINGS_DIALOG_ID=`plugin-${this.name}-settings-dialog`,this.SYSTEM_FONTS_DIALOG_ID=`plugin-${this.name}-system-fonts-dialog`,this.USABLE_FONTS_DIALOG_ID=`plugin-${this.name}-usable-fonts-dialog`}onload(){this.loadData(Ce.GLOBAL_CONFIG_NAME).then(n=>{this.config=tn(Rn,n||{})}).catch(n=>this.logger.error(n)).finally(async()=>{await this.updateStyle(),this.eventBus.on("click-blockicon",this.blockMenuEventListener),this.addCommand({langKey:"show-system-fonts",langText:this.i18n.settings.generalSettings.showSystemFonts.title,hotkey:"",callback:()=>this.showSystemFonts()}),this.addCommand({langKey:"show-usable-fonts",langText:this.i18n.settings.generalSettings.showUsableFonts.title,hotkey:"",callback:()=>this.showUsableFonts()})})}onLayoutReady(){}onunload(){this.eventBus.off("click-blockicon",this.blockMenuEventListener),this.client.getSnippet({type:"all",enabled:2}).then(n=>{const o=n.data.snippets,s=o.find(i=>i.name===this.STYLE_SNIPPET_NAME&&i.type==="css");s&&(s.enabled=!1,this.client.setSnippet({snippets:o}))})}openSetting(){const n=this,o=new ne.Dialog({title:`${this.i18n.displayName} <code class="fn__code">${this.name}</code>`,content:`<div id="${n.SETTINGS_DIALOG_ID}" class="fn__flex-column" />`,width:xt?"92vw":"768px",height:xt?void 0:"640px"});new Qa({target:o.element.querySelector(`#${n.SETTINGS_DIALOG_ID}`),props:{config:this.config,plugin:this,textareaHeight:320}})}async updateStyle(){const o=(await this.client.getSnippet({type:"all",enabled:2})).data.snippets,s=o.find(r=>r.name===this.STYLE_SNIPPET_NAME&&r.type==="css"),i=[this.config.css.enable?this.config.css.code:void 0,Za({base:this.config.fonts.base.enable?this.config.fonts.base.list:void 0,code:this.config.fonts.code.enable?this.config.fonts.code.list:void 0,graph:this.config.fonts.graph.enable?this.config.fonts.graph.list:void 0,math:this.config.fonts.math.enable?this.config.fonts.math.list:void 0,emoji:this.config.fonts.emoji.enable?this.config.fonts.emoji.list:void 0})].join(`

`);s?(s.enabled=!0,s.content=i):o.push({id:globalThis.Lute.NewNodeID(),type:"css",name:this.STYLE_SNIPPET_NAME,memo:"",content:i,enabled:!0}),await this.client.setSnippet({snippets:o})}async resetConfig(){return this.updateConfig(tn(Rn))}async updateConfig(n){return n&&n!==this.config&&(this.config=n),this.updateStyle(),this.saveData(Ce.GLOBAL_CONFIG_NAME,this.config)}async showSystemFonts(){const n=new ne.Dialog({title:this.i18n.settings.generalSettings.showSystemFonts.title,content:`<div id="${this.SYSTEM_FONTS_DIALOG_ID}" class="fn__flex-column">${this.i18n.message.loading}</div>`,height:"92vh"});ne.fetchPost("/api/system/getSysFonts",void 0,o=>{const s=n.element.querySelector(`#${this.SYSTEM_FONTS_DIALOG_ID}`);if(o.code===0){const i=o.data.map(r=>({icon:"#iconFont",text:r,meta:r,style:`font-family: "${r}"`}));s.innerHTML="",new gt({target:s,props:{items:i}})}else s.textContent=o.msg})}async showUsableFonts(){if(globalThis.queryLocalFonts){const n=await globalThis.queryLocalFonts(),o=[],s=ar(n);s.families.forEach(r=>{const l=s.map.get(r),a=l.find(c=>c.style==="Regular")??l[0];o.push({icon:"#iconFont",text:a.fullName,meta:a.family,style:`font-family: "${a.family}"`,fold:!0,indent:"18px",children:l.map(c=>({icon:"#iconFont",text:c.fullName,meta:c.style,style:`font: ${Fr(c,14)};`}))})});const i=new ne.Dialog({title:this.i18n.settings.generalSettings.showUsableFonts.title,content:`<div id="${this.USABLE_FONTS_DIALOG_ID}" class="fn__flex-column" />`,height:"92vh"});new gt({target:i.element.querySelector(`#${this.USABLE_FONTS_DIALOG_ID}`),props:{items:o}})}else ne.showMessage(`${this.i18n.message.notSupportQueryLocalFonts}<br />[${this.i18n.displayName} <code class="fn__code">${this.name}</code>]`,void 0,"error")}};Z(Ce,"GLOBAL_CONFIG_NAME","global-config");let _t=Ce;module.exports=_t;
