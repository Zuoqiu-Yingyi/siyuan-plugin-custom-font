"use strict";var rs=Object.defineProperty;var as=(t,e,n)=>e in t?rs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var x=(t,e,n)=>(as(t,typeof e!="symbol"?e+"":e,n),n);const ie=require("siyuan");var ls=Object.defineProperty,cs=(t,e,n)=>e in t?ls(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ge=(t,e,n)=>(cs(t,typeof e!="symbol"?e+"":e,n),n);const us=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,fs=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,ps=/^\s*["[{]|^\s*-?\d[\d.]{0,14}\s*$/;function hs(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){ms(t);return}return e}function ms(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function ds(t,e={}){if(typeof t!="string")return t;const n=t.trim();if(t[0]==='"'&&t[t.length-1]==='"')return n.slice(1,-1);if(n.length<=9){const o=n.toLowerCase();if(o==="true")return!0;if(o==="false")return!1;if(o==="undefined")return;if(o==="null")return null;if(o==="nan")return Number.NaN;if(o==="infinity")return Number.POSITIVE_INFINITY;if(o==="-infinity")return Number.NEGATIVE_INFINITY}if(!ps.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(us.test(t)||fs.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,hs)}return JSON.parse(t)}catch(o){if(e.strict)throw o;return t}}const gs=/#/g,_s=/&/g,bs=/=/g,Lt=/\+/g,ys=/%5e/gi,ks=/%60/gi,ws=/%7c/gi,Ss=/%20/gi;function vs(t){return encodeURI(""+t).replace(ws,"|")}function $t(t){return vs(typeof t=="string"?t:JSON.stringify(t)).replace(Lt,"%2B").replace(Ss,"+").replace(gs,"%23").replace(_s,"%26").replace(ks,"`").replace(ys,"^")}function bt(t){return $t(t).replace(bs,"%3D")}function go(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function Es(t){return go(t.replace(Lt," "))}function $s(t){return go(t.replace(Lt," "))}function Ts(t=""){const e={};t[0]==="?"&&(t=t.slice(1));for(const n of t.split("&")){const o=n.match(/([^=]+)=?(.*)/)||[];if(o.length<2)continue;const s=Es(o[1]);if(s==="__proto__"||s==="constructor")continue;const i=$s(o[2]||"");e[s]===void 0?e[s]=i:Array.isArray(e[s])?e[s].push(i):e[s]=[e[s],i]}return e}function Os(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(n=>`${bt(t)}=${$t(n)}`).join("&"):`${bt(t)}=${$t(e)}`:bt(t)}function As(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>Os(e,t[e])).filter(Boolean).join("&")}const Ns=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,Cs=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,js=/^([/\\]\s*){2,}[^/\\]/;function _o(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?Ns.test(t):Cs.test(t)||(e.acceptRelative?js.test(t):!1)}const Bs=/\/$|\/\?/;function Tt(t="",e=!1){return e?Bs.test(t):t.endsWith("/")}function Ds(t="",e=!1){if(!e)return(Tt(t)?t.slice(0,-1):t)||"/";if(!Tt(t,!0))return t||"/";const[n,...o]=t.split("?");return(n.slice(0,-1)||"/")+(o.length>0?`?${o.join("?")}`:"")}function Rs(t="",e=!1){if(!e)return t.endsWith("/")?t:t+"/";if(Tt(t,!0))return t||"/";const[n,...o]=t.split("?");return n+"/"+(o.length>0?`?${o.join("?")}`:"")}function Ps(t,e){if(Ls(e)||_o(t))return t;const n=Ds(e);return t.startsWith(n)?t:Is(n,t)}function Fs(t,e){const n=bo(t),o={...Ts(n.search),...e};return n.search=As(o),Us(n)}function Ls(t){return!t||t==="/"}function Ms(t){return t&&t!=="/"}const qs=/^\.?\//;function Is(t,...e){let n=t||"";for(const o of e.filter(s=>Ms(s)))if(n){const s=o.replace(qs,"");n=Rs(n)+s}else n=o;return n}function bo(t="",e){const n=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/);if(n){const[,m,g=""]=n;return{protocol:m,pathname:g,href:m+g,auth:"",host:"",search:"",hash:""}}if(!_o(t,{acceptRelative:!0}))return e?bo(e+t):mn(t);const[,o="",s,i=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[],[,r="",a=""]=i.match(/([^#/?]*)(.*)?/)||[],{pathname:l,search:c,hash:u}=mn(a.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:o,auth:s?s.slice(0,Math.max(0,s.length-1)):"",host:r,pathname:l,search:c,hash:u}}function mn(t=""){const[e="",n="",o=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:n,hash:o}}function Us(t){const e=t.pathname||"",n=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",o=t.hash||"",s=t.auth?t.auth+"@":"",i=t.host||"";return(t.protocol?t.protocol+"//":"")+s+i+e+n+o}class Hs extends Error{constructor(e,n){super(e,n),this.name="FetchError",n!=null&&n.cause&&!this.cause&&(this.cause=n.cause)}}function Vs(t){var e,n,o,s,i;const r=((e=t.error)==null?void 0:e.message)||((n=t.error)==null?void 0:n.toString())||"",a=((o=t.request)==null?void 0:o.method)||((s=t.options)==null?void 0:s.method)||"GET",l=((i=t.request)==null?void 0:i.url)||String(t.request)||"/",c=`[${a}] ${JSON.stringify(l)}`,u=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",m=`${c}: ${u}${r?` ${r}`:""}`,g=new Hs(m,t.error?{cause:t.error}:void 0);for(const f of["request","options","response"])Object.defineProperty(g,f,{get(){return t[f]}});for(const[f,p]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(g,f,{get(){return t.response&&t.response[p]}});return g}const zs=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function dn(t="GET"){return zs.has(t.toUpperCase())}function Gs(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const Ks=new Set(["image/svg","application/xml","application/xhtml","application/html"]),Ws=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Js(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return Ws.test(e)?"json":Ks.has(e)||e.startsWith("text/")?"text":"blob"}function Ys(t,e,n=globalThis.Headers){const o={...e,...t};if(e!=null&&e.params&&t!=null&&t.params&&(o.params={...e==null?void 0:e.params,...t==null?void 0:t.params}),e!=null&&e.query&&t!=null&&t.query&&(o.query={...e==null?void 0:e.query,...t==null?void 0:t.query}),e!=null&&e.headers&&t!=null&&t.headers){o.headers=new n((e==null?void 0:e.headers)||{});for(const[s,i]of new n((t==null?void 0:t.headers)||{}))o.headers.set(s,i)}return o}const Qs=new Set([408,409,425,429,500,502,503,504]),Xs=new Set([101,204,205,304]);function yo(t={}){const{fetch:e=globalThis.fetch,Headers:n=globalThis.Headers,AbortController:o=globalThis.AbortController}=t;async function s(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let u;typeof a.options.retry=="number"?u=a.options.retry:u=dn(a.options.method)?0:1;const m=a.response&&a.response.status||500;if(u>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(m):Qs.has(m))){const g=a.options.retryDelay||0;return g>0&&await new Promise(f=>setTimeout(f,g)),i(a.request,{...a.options,retry:u-1,timeout:a.options.timeout})}}const c=Vs(a);throw Error.captureStackTrace&&Error.captureStackTrace(c,i),c}const i=async function(a,l={}){var c;const u={request:a,options:Ys(l,t.defaults,n),response:void 0,error:void 0};if(u.options.method=(c=u.options.method)==null?void 0:c.toUpperCase(),u.options.onRequest&&await u.options.onRequest(u),typeof u.request=="string"&&(u.options.baseURL&&(u.request=Ps(u.request,u.options.baseURL)),(u.options.query||u.options.params)&&(u.request=Fs(u.request,{...u.options.params,...u.options.query}))),u.options.body&&dn(u.options.method)&&(Gs(u.options.body)?(u.options.body=typeof u.options.body=="string"?u.options.body:JSON.stringify(u.options.body),u.options.headers=new n(u.options.headers||{}),u.options.headers.has("content-type")||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")):("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half"))),!u.options.signal&&u.options.timeout){const m=new o;setTimeout(()=>m.abort(),u.options.timeout),u.options.signal=m.signal}try{u.response=await e(u.request,u.options)}catch(m){return u.error=m,u.options.onRequestError&&await u.options.onRequestError(u),await s(u)}if(u.response.body&&!Xs.has(u.response.status)&&u.options.method!=="HEAD"){const m=(u.options.parseResponse?"json":u.options.responseType)||Js(u.response.headers.get("content-type")||"");switch(m){case"json":{const g=await u.response.text(),f=u.options.parseResponse||ds;u.response._data=f(g);break}case"stream":{u.response._data=u.response.body;break}default:u.response._data=await u.response[m]()}}return u.options.onResponse&&await u.options.onResponse(u),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await u.options.onResponseError(u),await s(u)):u.response},r=async function(a,l){return(await i(a,l))._data};return r.raw=i,r.native=(...a)=>e(...a),r.create=(a={})=>yo({...t,defaults:{...t.defaults,...a}}),r}const Mt=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),Zs=Mt.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),xs=Mt.Headers,ei=Mt.AbortController,ti=yo({fetch:Zs,Headers:xs,AbortController:ei});class ni extends Error{constructor(e){super(e.statusText),ge(this,"status"),this.response=e,this.status=e.status}}class gn extends Error{constructor(e,n){super(e.msg),ge(this,"code"),this.body=e,this.response=n,this.code=e.code}}function se(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function _n(t,e){for(var n="",o=0,s=-1,i=0,r,a=0;a<=t.length;++a){if(a<t.length)r=t.charCodeAt(a);else{if(r===47)break;r=47}if(r===47){if(!(s===a-1||i===1))if(s!==a-1&&i===2){if(n.length<2||o!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var l=n.lastIndexOf("/");if(l!==n.length-1){l===-1?(n="",o=0):(n=n.slice(0,l),o=n.length-1-n.lastIndexOf("/")),s=a,i=0;continue}}else if(n.length===2||n.length===1){n="",o=0,s=a,i=0;continue}}e&&(n.length>0?n+="/..":n="..",o=2)}else n.length>0?n+="/"+t.slice(s+1,a):n=t.slice(s+1,a),o=a-s-1;s=a,i=0}else r===46&&i!==-1?++i:i=-1}return n}function oi(t,e){var n=e.dir||e.root,o=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+o:n+t+o:o}var Ve={resolve:function(){for(var t="",e=!1,n,o=arguments.length-1;o>=-1&&!e;o--){var s;o>=0?s=arguments[o]:(n===void 0&&(n=process.cwd()),s=n),se(s),s.length!==0&&(t=s+"/"+t,e=s.charCodeAt(0)===47)}return t=_n(t,!e),e?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(t){if(se(t),t.length===0)return".";var e=t.charCodeAt(0)===47,n=t.charCodeAt(t.length-1)===47;return t=_n(t,!e),t.length===0&&!e&&(t="."),t.length>0&&n&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return se(t),t.length>0&&t.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var t,e=0;e<arguments.length;++e){var n=arguments[e];se(n),n.length>0&&(t===void 0?t=n:t+="/"+n)}return t===void 0?".":Ve.normalize(t)},relative:function(t,e){if(se(t),se(e),t===e||(t=Ve.resolve(t),e=Ve.resolve(e),t===e))return"";for(var n=1;n<t.length&&t.charCodeAt(n)===47;++n);for(var o=t.length,s=o-n,i=1;i<e.length&&e.charCodeAt(i)===47;++i);for(var r=e.length,a=r-i,l=s<a?s:a,c=-1,u=0;u<=l;++u){if(u===l){if(a>l){if(e.charCodeAt(i+u)===47)return e.slice(i+u+1);if(u===0)return e.slice(i+u)}else s>l&&(t.charCodeAt(n+u)===47?c=u:u===0&&(c=0));break}var m=t.charCodeAt(n+u),g=e.charCodeAt(i+u);if(m!==g)break;m===47&&(c=u)}var f="";for(u=n+c+1;u<=o;++u)(u===o||t.charCodeAt(u)===47)&&(f.length===0?f+="..":f+="/..");return f.length>0?f+e.slice(i+c):(i+=c,e.charCodeAt(i)===47&&++i,e.slice(i))},_makeLong:function(t){return t},dirname:function(t){if(se(t),t.length===0)return".";for(var e=t.charCodeAt(0),n=e===47,o=-1,s=!0,i=t.length-1;i>=1;--i)if(e=t.charCodeAt(i),e===47){if(!s){o=i;break}}else s=!1;return o===-1?n?"/":".":n&&o===1?"//":t.slice(0,o)},basename:function(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');se(t);var n=0,o=-1,s=!0,i;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var r=e.length-1,a=-1;for(i=t.length-1;i>=0;--i){var l=t.charCodeAt(i);if(l===47){if(!s){n=i+1;break}}else a===-1&&(s=!1,a=i+1),r>=0&&(l===e.charCodeAt(r)?--r===-1&&(o=i):(r=-1,o=a))}return n===o?o=a:o===-1&&(o=t.length),t.slice(n,o)}else{for(i=t.length-1;i>=0;--i)if(t.charCodeAt(i)===47){if(!s){n=i+1;break}}else o===-1&&(s=!1,o=i+1);return o===-1?"":t.slice(n,o)}},extname:function(t){se(t);for(var e=-1,n=0,o=-1,s=!0,i=0,r=t.length-1;r>=0;--r){var a=t.charCodeAt(r);if(a===47){if(!s){n=r+1;break}continue}o===-1&&(s=!1,o=r+1),a===46?e===-1?e=r:i!==1&&(i=1):e!==-1&&(i=-1)}return e===-1||o===-1||i===0||i===1&&e===o-1&&e===n+1?"":t.slice(e,o)},format:function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return oi("/",t)},parse:function(t){se(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;var n=t.charCodeAt(0),o=n===47,s;o?(e.root="/",s=1):s=0;for(var i=-1,r=0,a=-1,l=!0,c=t.length-1,u=0;c>=s;--c){if(n=t.charCodeAt(c),n===47){if(!l){r=c+1;break}continue}a===-1&&(l=!1,a=c+1),n===46?i===-1?i=c:u!==1&&(u=1):i!==-1&&(u=-1)}return i===-1||a===-1||u===0||u===1&&i===a-1&&i===r+1?a!==-1&&(r===0&&o?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(r,a)):(r===0&&o?(e.name=t.slice(1,i),e.base=t.slice(1,a)):(e.name=t.slice(r,i),e.base=t.slice(r,a)),e.ext=t.slice(i,a)),r>0?e.dir=t.slice(0,r-1):o&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};Ve.posix=Ve;function ko(t,e){return function(){return t.apply(e,arguments)}}const{toString:si}=Object.prototype,{getPrototypeOf:qt}=Object,ut=(t=>e=>{const n=si.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ue=t=>(t=t.toLowerCase(),e=>ut(e)===t),ft=t=>e=>typeof e===t,{isArray:Me}=Array,Ke=ft("undefined");function ii(t){return t!==null&&!Ke(t)&&t.constructor!==null&&!Ke(t.constructor)&&Z(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const wo=ue("ArrayBuffer");function ri(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&wo(t.buffer),e}const ai=ft("string"),Z=ft("function"),So=ft("number"),pt=t=>t!==null&&typeof t=="object",li=t=>t===!0||t===!1,ot=t=>{if(ut(t)!=="object")return!1;const e=qt(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ci=ue("Date"),ui=ue("File"),fi=ue("Blob"),pi=ue("FileList"),hi=t=>pt(t)&&Z(t.pipe),mi=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Z(t.append)&&((e=ut(t))==="formdata"||e==="object"&&Z(t.toString)&&t.toString()==="[object FormData]"))},di=ue("URLSearchParams"),gi=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qe(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let o,s;if(typeof t!="object"&&(t=[t]),Me(t))for(o=0,s=t.length;o<s;o++)e.call(null,t[o],o,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),r=i.length;let a;for(o=0;o<r;o++)a=i[o],e.call(null,t[a],a,t)}}function vo(t,e){e=e.toLowerCase();const n=Object.keys(t);let o=n.length,s;for(;o-- >0;)if(s=n[o],e===s.toLowerCase())return s;return null}const Eo=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),$o=t=>!Ke(t)&&t!==Eo;function Ot(){const{caseless:t}=$o(this)&&this||{},e={},n=(o,s)=>{const i=t&&vo(e,s)||s;ot(e[i])&&ot(o)?e[i]=Ot(e[i],o):ot(o)?e[i]=Ot({},o):Me(o)?e[i]=o.slice():e[i]=o};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&Qe(arguments[o],n);return e}const _i=(t,e,n,{allOwnKeys:o}={})=>(Qe(e,(s,i)=>{n&&Z(s)?t[i]=ko(s,n):t[i]=s},{allOwnKeys:o}),t),bi=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),yi=(t,e,n,o)=>{t.prototype=Object.create(e.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},ki=(t,e,n,o)=>{let s,i,r;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)r=s[i],(!o||o(r,t,e))&&!a[r]&&(e[r]=t[r],a[r]=!0);t=n!==!1&&qt(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},wi=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const o=t.indexOf(e,n);return o!==-1&&o===n},Si=t=>{if(!t)return null;if(Me(t))return t;let e=t.length;if(!So(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},vi=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&qt(Uint8Array)),Ei=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=n.next())&&!o.done;){const s=o.value;e.call(t,s[0],s[1])}},$i=(t,e)=>{let n;const o=[];for(;(n=t.exec(e))!==null;)o.push(n);return o},Ti=ue("HTMLFormElement"),Oi=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,n,o){return n.toUpperCase()+o}),bn=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Ai=ue("RegExp"),To=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),o={};Qe(n,(s,i)=>{let r;(r=e(s,i,t))!==!1&&(o[i]=r||s)}),Object.defineProperties(t,o)},Ni=t=>{To(t,(e,n)=>{if(Z(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=t[n];if(Z(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Ci=(t,e)=>{const n={},o=s=>{s.forEach(i=>{n[i]=!0})};return Me(t)?o(t):o(String(t).split(e)),n},ji=()=>{},Bi=(t,e)=>(t=+t,Number.isFinite(t)?t:e),yt="abcdefghijklmnopqrstuvwxyz",yn="0123456789",Oo={DIGIT:yn,ALPHA:yt,ALPHA_DIGIT:yt+yt.toUpperCase()+yn},Di=(t=16,e=Oo.ALPHA_DIGIT)=>{let n="";const{length:o}=e;for(;t--;)n+=e[Math.random()*o|0];return n};function Ri(t){return!!(t&&Z(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Pi=t=>{const e=new Array(10),n=(o,s)=>{if(pt(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[s]=o;const i=Me(o)?[]:{};return Qe(o,(r,a)=>{const l=n(r,s+1);!Ke(l)&&(i[a]=l)}),e[s]=void 0,i}}return o};return n(t,0)},Fi=ue("AsyncFunction"),Li=t=>t&&(pt(t)||Z(t))&&Z(t.then)&&Z(t.catch),b={isArray:Me,isArrayBuffer:wo,isBuffer:ii,isFormData:mi,isArrayBufferView:ri,isString:ai,isNumber:So,isBoolean:li,isObject:pt,isPlainObject:ot,isUndefined:Ke,isDate:ci,isFile:ui,isBlob:fi,isRegExp:Ai,isFunction:Z,isStream:hi,isURLSearchParams:di,isTypedArray:vi,isFileList:pi,forEach:Qe,merge:Ot,extend:_i,trim:gi,stripBOM:bi,inherits:yi,toFlatObject:ki,kindOf:ut,kindOfTest:ue,endsWith:wi,toArray:Si,forEachEntry:Ei,matchAll:$i,isHTMLForm:Ti,hasOwnProperty:bn,hasOwnProp:bn,reduceDescriptors:To,freezeMethods:Ni,toObjectSet:Ci,toCamelCase:Oi,noop:ji,toFiniteNumber:Bi,findKey:vo,global:Eo,isContextDefined:$o,ALPHABET:Oo,generateString:Di,isSpecCompliantForm:Ri,toJSONObject:Pi,isAsyncFn:Fi,isThenable:Li};function M(t,e,n,o,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),o&&(this.request=o),s&&(this.response=s)}b.inherits(M,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:b.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Ao=M.prototype,No={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{No[t]={value:t}});Object.defineProperties(M,No);Object.defineProperty(Ao,"isAxiosError",{value:!0});M.from=(t,e,n,o,s,i)=>{const r=Object.create(Ao);return b.toFlatObject(t,r,function(a){return a!==Error.prototype},a=>a!=="isAxiosError"),M.call(r,t.message,e,n,o,s),r.cause=t,r.name=t.name,i&&Object.assign(r,i),r};const Mi=null;function At(t){return b.isPlainObject(t)||b.isArray(t)}function Co(t){return b.endsWith(t,"[]")?t.slice(0,-2):t}function kn(t,e,n){return t?t.concat(e).map(function(o,s){return o=Co(o),!n&&s?"["+o+"]":o}).join(n?".":""):e}function qi(t){return b.isArray(t)&&!t.some(At)}const Ii=b.toFlatObject(b,{},null,function(t){return/^is[A-Z]/.test(t)});function ht(t,e,n){if(!b.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=b.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,p){return!b.isUndefined(p[f])});const o=n.metaTokens,s=n.visitor||c,i=n.dots,r=n.indexes,a=(n.Blob||typeof Blob<"u"&&Blob)&&b.isSpecCompliantForm(e);if(!b.isFunction(s))throw new TypeError("visitor must be a function");function l(f){if(f===null)return"";if(b.isDate(f))return f.toISOString();if(!a&&b.isBlob(f))throw new M("Blob is not supported. Use a Buffer instead.");return b.isArrayBuffer(f)||b.isTypedArray(f)?a&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function c(f,p,d){let _=f;if(f&&!d&&typeof f=="object"){if(b.endsWith(p,"{}"))p=o?p:p.slice(0,-2),f=JSON.stringify(f);else if(b.isArray(f)&&qi(f)||(b.isFileList(f)||b.endsWith(p,"[]"))&&(_=b.toArray(f)))return p=Co(p),_.forEach(function(B,z){!(b.isUndefined(B)||B===null)&&e.append(r===!0?kn([p],z,i):r===null?p:p+"[]",l(B))}),!1}return At(f)?!0:(e.append(kn(d,p,i),l(f)),!1)}const u=[],m=Object.assign(Ii,{defaultVisitor:c,convertValue:l,isVisitable:At});function g(f,p){if(!b.isUndefined(f)){if(u.indexOf(f)!==-1)throw Error("Circular reference detected in "+p.join("."));u.push(f),b.forEach(f,function(d,_){(!(b.isUndefined(d)||d===null)&&s.call(e,d,b.isString(_)?_.trim():_,p,m))===!0&&g(d,p?p.concat(_):[_])}),u.pop()}}if(!b.isObject(t))throw new TypeError("data must be an object");return g(t),e}function wn(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function It(t,e){this._pairs=[],t&&ht(t,this,e)}const jo=It.prototype;jo.append=function(t,e){this._pairs.push([t,e])};jo.toString=function(t){const e=t?function(n){return t.call(this,n,wn)}:wn;return this._pairs.map(function(n){return e(n[0])+"="+e(n[1])},"").join("&")};function Ui(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Bo(t,e,n){if(!e)return t;const o=n&&n.encode||Ui,s=n&&n.serialize;let i;if(s?i=s(e,n):i=b.isURLSearchParams(e)?e.toString():new It(e,n).toString(o),i){const r=t.indexOf("#");r!==-1&&(t=t.slice(0,r)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Hi{constructor(){this.handlers=[]}use(e,n,o){return this.handlers.push({fulfilled:e,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){b.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Sn=Hi,Do={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vi=typeof URLSearchParams<"u"?URLSearchParams:It,zi=typeof FormData<"u"?FormData:null,Gi=typeof Blob<"u"?Blob:null,Ki=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Wi=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),re={isBrowser:!0,classes:{URLSearchParams:Vi,FormData:zi,Blob:Gi},isStandardBrowserEnv:Ki,isStandardBrowserWebWorkerEnv:Wi,protocols:["http","https","file","blob","url","data"]};function Ji(t,e){return ht(t,new re.classes.URLSearchParams,Object.assign({visitor:function(n,o,s,i){return re.isNode&&b.isBuffer(n)?(this.append(o,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Yi(t){return b.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Qi(t){const e={},n=Object.keys(t);let o;const s=n.length;let i;for(o=0;o<s;o++)i=n[o],e[i]=t[i];return e}function Ro(t){function e(n,o,s,i){let r=n[i++];const a=Number.isFinite(+r),l=i>=n.length;return r=!r&&b.isArray(s)?s.length:r,l?(b.hasOwnProp(s,r)?s[r]=[s[r],o]:s[r]=o,!a):((!s[r]||!b.isObject(s[r]))&&(s[r]=[]),e(n,o,s[r],i)&&b.isArray(s[r])&&(s[r]=Qi(s[r])),!a)}if(b.isFormData(t)&&b.isFunction(t.entries)){const n={};return b.forEachEntry(t,(o,s)=>{e(Yi(o),s,n,0)}),n}return null}function Xi(t,e,n){if(b.isString(t))try{return(e||JSON.parse)(t),b.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(t)}const Ut={transitional:Do,adapter:["xhr","http"],transformRequest:[function(t,e){const n=e.getContentType()||"",o=n.indexOf("application/json")>-1,s=b.isObject(t);if(s&&b.isHTMLForm(t)&&(t=new FormData(t)),b.isFormData(t))return o&&o?JSON.stringify(Ro(t)):t;if(b.isArrayBuffer(t)||b.isBuffer(t)||b.isStream(t)||b.isFile(t)||b.isBlob(t))return t;if(b.isArrayBufferView(t))return t.buffer;if(b.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Ji(t,this.formSerializer).toString();if((i=b.isFileList(t))||n.indexOf("multipart/form-data")>-1){const r=this.env&&this.env.FormData;return ht(i?{"files[]":t}:t,r&&new r,this.formSerializer)}}return s||o?(e.setContentType("application/json",!1),Xi(t)):t}],transformResponse:[function(t){const e=this.transitional||Ut.transitional,n=e&&e.forcedJSONParsing,o=this.responseType==="json";if(t&&b.isString(t)&&(n&&!this.responseType||o)){const s=!(e&&e.silentJSONParsing)&&o;try{return JSON.parse(t)}catch(i){if(s)throw i.name==="SyntaxError"?M.from(i,M.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:re.classes.FormData,Blob:re.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};b.forEach(["delete","get","head","post","put","patch"],t=>{Ut.headers[t]={}});const Ht=Ut,Zi=b.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xi=t=>{const e={};let n,o,s;return t&&t.split(`
`).forEach(function(i){s=i.indexOf(":"),n=i.substring(0,s).trim().toLowerCase(),o=i.substring(s+1).trim(),!(!n||e[n]&&Zi[n])&&(n==="set-cookie"?e[n]?e[n].push(o):e[n]=[o]:e[n]=e[n]?e[n]+", "+o:o)}),e},vn=Symbol("internals");function Ue(t){return t&&String(t).trim().toLowerCase()}function st(t){return t===!1||t==null?t:b.isArray(t)?t.map(st):String(t)}function er(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(t);)e[o[1]]=o[2];return e}const tr=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function kt(t,e,n,o,s){if(b.isFunction(o))return o.call(this,e,n);if(s&&(e=n),!!b.isString(e)){if(b.isString(o))return e.indexOf(o)!==-1;if(b.isRegExp(o))return o.test(e)}}function nr(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,o)=>n.toUpperCase()+o)}function or(t,e){const n=b.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+n,{value:function(s,i,r){return this[o].call(this,e,s,i,r)},configurable:!0})})}let mt=class{constructor(t){t&&this.set(t)}set(t,e,n){const o=this;function s(r,a,l){const c=Ue(a);if(!c)throw new Error("header name must be a non-empty string");const u=b.findKey(o,c);(!u||o[u]===void 0||l===!0||l===void 0&&o[u]!==!1)&&(o[u||a]=st(r))}const i=(r,a)=>b.forEach(r,(l,c)=>s(l,c,a));return b.isPlainObject(t)||t instanceof this.constructor?i(t,e):b.isString(t)&&(t=t.trim())&&!tr(t)?i(xi(t),e):t!=null&&s(e,t,n),this}get(t,e){if(t=Ue(t),t){const n=b.findKey(this,t);if(n){const o=this[n];if(!e)return o;if(e===!0)return er(o);if(b.isFunction(e))return e.call(this,o,n);if(b.isRegExp(e))return e.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Ue(t),t){const n=b.findKey(this,t);return!!(n&&this[n]!==void 0&&(!e||kt(this,this[n],n,e)))}return!1}delete(t,e){const n=this;let o=!1;function s(i){if(i=Ue(i),i){const r=b.findKey(n,i);r&&(!e||kt(n,n[r],r,e))&&(delete n[r],o=!0)}}return b.isArray(t)?t.forEach(s):s(t),o}clear(t){const e=Object.keys(this);let n=e.length,o=!1;for(;n--;){const s=e[n];(!t||kt(this,this[s],s,t,!0))&&(delete this[s],o=!0)}return o}normalize(t){const e=this,n={};return b.forEach(this,(o,s)=>{const i=b.findKey(n,s);if(i){e[i]=st(o),delete e[s];return}const r=t?nr(s):String(s).trim();r!==s&&delete e[s],e[r]=st(o),n[r]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return b.forEach(this,(n,o)=>{n!=null&&n!==!1&&(e[o]=t&&b.isArray(n)?n.join(", "):n)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach(o=>n.set(o)),n}static accessor(t){const e=(this[vn]=this[vn]={accessors:{}}).accessors,n=this.prototype;function o(s){const i=Ue(s);e[i]||(or(n,s),e[i]=!0)}return b.isArray(t)?t.forEach(o):o(t),this}};mt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);b.reduceDescriptors(mt.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(o){this[n]=o}}});b.freezeMethods(mt);const be=mt;function wt(t,e){const n=this||Ht,o=e||n,s=be.from(o.headers);let i=o.data;return b.forEach(t,function(r){i=r.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Po(t){return!!(t&&t.__CANCEL__)}function Xe(t,e,n){M.call(this,t??"canceled",M.ERR_CANCELED,e,n),this.name="CanceledError"}b.inherits(Xe,M,{__CANCEL__:!0});function sr(t,e,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?t(n):e(new M("Request failed with status code "+n.status,[M.ERR_BAD_REQUEST,M.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const ir=re.isStandardBrowserEnv?function(){return{write:function(t,e,n,o,s,i){const r=[];r.push(t+"="+encodeURIComponent(e)),b.isNumber(n)&&r.push("expires="+new Date(n).toGMTString()),b.isString(o)&&r.push("path="+o),b.isString(s)&&r.push("domain="+s),i===!0&&r.push("secure"),document.cookie=r.join("; ")},read:function(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function rr(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ar(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Fo(t,e){return t&&!rr(e)?ar(t,e):e}const lr=re.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let n;function o(s){let i=s;return t&&(e.setAttribute("href",i),i=e.href),e.setAttribute("href",i),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return n=o(window.location.href),function(s){const i=b.isString(s)?o(s):s;return i.protocol===n.protocol&&i.host===n.host}}():function(){return function(){return!0}}();function cr(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ur(t,e){t=t||10;const n=new Array(t),o=new Array(t);let s=0,i=0,r;return e=e!==void 0?e:1e3,function(a){const l=Date.now(),c=o[i];r||(r=l),n[s]=a,o[s]=l;let u=i,m=0;for(;u!==s;)m+=n[u++],u=u%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),l-r<e)return;const g=c&&l-c;return g?Math.round(m*1e3/g):void 0}}function En(t,e){let n=0;const o=ur(50,250);return s=>{const i=s.loaded,r=s.lengthComputable?s.total:void 0,a=i-n,l=o(a),c=i<=r;n=i;const u={loaded:i,total:r,progress:r?i/r:void 0,bytes:a,rate:l||void 0,estimated:l&&r&&c?(r-i)/l:void 0,event:s};u[e?"download":"upload"]=!0,t(u)}}const fr=typeof XMLHttpRequest<"u",pr=fr&&function(t){return new Promise(function(e,n){let o=t.data;const s=be.from(t.headers).normalize(),i=t.responseType;let r;function a(){t.cancelToken&&t.cancelToken.unsubscribe(r),t.signal&&t.signal.removeEventListener("abort",r)}let l;b.isFormData(o)&&(re.isStandardBrowserEnv||re.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.getContentType(/^\s*multipart\/form-data/)?b.isString(l=s.getContentType())&&s.setContentType(l.replace(/^\s*(multipart\/form-data);+/,"$1")):s.setContentType("multipart/form-data"));let c=new XMLHttpRequest;if(t.auth){const f=t.auth.username||"",p=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(f+":"+p))}const u=Fo(t.baseURL,t.url);c.open(t.method.toUpperCase(),Bo(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function m(){if(!c)return;const f=be.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),p={data:!i||i==="text"||i==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:f,config:t,request:c};sr(function(d){e(d),a()},function(d){n(d),a()},p),c=null}if("onloadend"in c?c.onloadend=m:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(m)},c.onabort=function(){c&&(n(new M("Request aborted",M.ECONNABORTED,t,c)),c=null)},c.onerror=function(){n(new M("Network Error",M.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let f=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const p=t.transitional||Do;t.timeoutErrorMessage&&(f=t.timeoutErrorMessage),n(new M(f,p.clarifyTimeoutError?M.ETIMEDOUT:M.ECONNABORTED,t,c)),c=null},re.isStandardBrowserEnv){const f=(t.withCredentials||lr(u))&&t.xsrfCookieName&&ir.read(t.xsrfCookieName);f&&s.set(t.xsrfHeaderName,f)}o===void 0&&s.setContentType(null),"setRequestHeader"in c&&b.forEach(s.toJSON(),function(f,p){c.setRequestHeader(p,f)}),b.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),i&&i!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",En(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",En(t.onUploadProgress)),(t.cancelToken||t.signal)&&(r=f=>{c&&(n(!f||f.type?new Xe(null,t,c):f),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(r),t.signal&&(t.signal.aborted?r():t.signal.addEventListener("abort",r)));const g=cr(u);if(g&&re.protocols.indexOf(g)===-1){n(new M("Unsupported protocol "+g+":",M.ERR_BAD_REQUEST,t));return}c.send(o||null)})},Nt={http:Mi,xhr:pr};b.forEach(Nt,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const $n=t=>`- ${t}`,hr=t=>b.isFunction(t)||t===null||t===!1,Lo={getAdapter:t=>{t=b.isArray(t)?t:[t];const{length:e}=t;let n,o;const s={};for(let i=0;i<e;i++){n=t[i];let r;if(o=n,!hr(n)&&(o=Nt[(r=String(n)).toLowerCase()],o===void 0))throw new M(`Unknown adapter '${r}'`);if(o)break;s[r||"#"+i]=o}if(!o){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let r=e?i.length>1?`since :
`+i.map($n).join(`
`):" "+$n(i[0]):"as no adapter specified";throw new M("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return o},adapters:Nt};function St(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Xe(null,t)}function Tn(t){return St(t),t.headers=be.from(t.headers),t.data=wt.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Lo.getAdapter(t.adapter||Ht.adapter)(t).then(function(e){return St(t),e.data=wt.call(t,t.transformResponse,e),e.headers=be.from(e.headers),e},function(e){return Po(e)||(St(t),e&&e.response&&(e.response.data=wt.call(t,t.transformResponse,e.response),e.response.headers=be.from(e.response.headers))),Promise.reject(e)})}const On=t=>t instanceof be?t.toJSON():t;function Fe(t,e){e=e||{};const n={};function o(c,u,m){return b.isPlainObject(c)&&b.isPlainObject(u)?b.merge.call({caseless:m},c,u):b.isPlainObject(u)?b.merge({},u):b.isArray(u)?u.slice():u}function s(c,u,m){if(b.isUndefined(u)){if(!b.isUndefined(c))return o(void 0,c,m)}else return o(c,u,m)}function i(c,u){if(!b.isUndefined(u))return o(void 0,u)}function r(c,u){if(b.isUndefined(u)){if(!b.isUndefined(c))return o(void 0,c)}else return o(void 0,u)}function a(c,u,m){if(m in e)return o(c,u);if(m in t)return o(void 0,c)}const l={url:i,method:i,data:i,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:a,headers:(c,u)=>s(On(c),On(u),!0)};return b.forEach(Object.keys(Object.assign({},t,e)),function(c){const u=l[c]||s,m=u(t[c],e[c],c);b.isUndefined(m)&&u!==a||(n[c]=m)}),n}const Mo="1.5.1",Vt={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Vt[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const An={};Vt.transitional=function(t,e,n){function o(s,i){return"[Axios v"+Mo+"] Transitional option '"+s+"'"+i+(n?". "+n:"")}return(s,i,r)=>{if(t===!1)throw new M(o(i," has been removed"+(e?" in "+e:"")),M.ERR_DEPRECATED);return e&&!An[i]&&(An[i]=!0,console.warn(o(i," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(s,i,r):!0}};function mr(t,e,n){if(typeof t!="object")throw new M("options must be an object",M.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let s=o.length;for(;s-- >0;){const i=o[s],r=e[i];if(r){const a=t[i],l=a===void 0||r(a,i,t);if(l!==!0)throw new M("option "+i+" must be "+l,M.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new M("Unknown option "+i,M.ERR_BAD_OPTION)}}const Ct={assertOptions:mr,validators:Vt},ve=Ct.validators;let at=class{constructor(t){this.defaults=t,this.interceptors={request:new Sn,response:new Sn}}request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=Fe(this.defaults,e);const{transitional:n,paramsSerializer:o,headers:s}=e;n!==void 0&&Ct.assertOptions(n,{silentJSONParsing:ve.transitional(ve.boolean),forcedJSONParsing:ve.transitional(ve.boolean),clarifyTimeoutError:ve.transitional(ve.boolean)},!1),o!=null&&(b.isFunction(o)?e.paramsSerializer={serialize:o}:Ct.assertOptions(o,{encode:ve.function,serialize:ve.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let i=s&&b.merge(s.common,s[e.method]);s&&b.forEach(["delete","get","head","post","put","patch","common"],f=>{delete s[f]}),e.headers=be.concat(i,s);const r=[];let a=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(e)===!1||(a=a&&f.synchronous,r.unshift(f.fulfilled,f.rejected))});const l=[];this.interceptors.response.forEach(function(f){l.push(f.fulfilled,f.rejected)});let c,u=0,m;if(!a){const f=[Tn.bind(this),void 0];for(f.unshift.apply(f,r),f.push.apply(f,l),m=f.length,c=Promise.resolve(e);u<m;)c=c.then(f[u++],f[u++]);return c}m=r.length;let g=e;for(u=0;u<m;){const f=r[u++],p=r[u++];try{g=f(g)}catch(d){p.call(this,d);break}}try{c=Tn.call(this,g)}catch(f){return Promise.reject(f)}for(u=0,m=l.length;u<m;)c=c.then(l[u++],l[u++]);return c}getUri(t){t=Fe(this.defaults,t);const e=Fo(t.baseURL,t.url);return Bo(e,t.params,t.paramsSerializer)}};b.forEach(["delete","get","head","options"],function(t){at.prototype[t]=function(e,n){return this.request(Fe(n||{},{method:t,url:e,data:(n||{}).data}))}});b.forEach(["post","put","patch"],function(t){function e(n){return function(o,s,i){return this.request(Fe(i||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}at.prototype[t]=e(),at.prototype[t+"Form"]=e(!0)});const it=at;let dr=class qo{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const o=this;this.promise.then(s=>{if(!o._listeners)return;let i=o._listeners.length;for(;i-- >0;)o._listeners[i](s);o._listeners=null}),this.promise.then=s=>{let i;const r=new Promise(a=>{o.subscribe(a),i=a}).then(s);return r.cancel=function(){o.unsubscribe(i)},r},e(function(s,i,r){o.reason||(o.reason=new Xe(s,i,r),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new qo(function(n){e=n}),cancel:e}}};const gr=dr;function _r(t){return function(e){return t.apply(null,e)}}function br(t){return b.isObject(t)&&t.isAxiosError===!0}const jt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jt).forEach(([t,e])=>{jt[e]=t});const yr=jt;function Io(t){const e=new it(t),n=ko(it.prototype.request,e);return b.extend(n,it.prototype,e,{allOwnKeys:!0}),b.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return Io(Fe(t,o))},n}const W=Io(Ht);W.Axios=it;W.CanceledError=Xe;W.CancelToken=gr;W.isCancel=Po;W.VERSION=Mo;W.toFormData=ht;W.AxiosError=M;W.Cancel=W.CanceledError;W.all=function(t){return Promise.all(t)};W.spread=_r;W.isAxiosError=br;W.mergeConfig=Fe;W.AxiosHeaders=be;W.formToJSON=t=>Ro(b.isHTMLForm(t)?new FormData(t):t);W.getAdapter=Lo.getAdapter;W.HttpStatusCode=yr;W.default=W;const Uo=W,{Axios:cc,AxiosError:uc,CanceledError:fc,isCancel:pc,CancelToken:hc,VERSION:mc,all:dc,Cancel:gc,isAxiosError:_c,spread:bc,toFormData:yc,AxiosHeaders:kc,HttpStatusCode:et,formToJSON:wc,getAdapter:Sc,mergeConfig:vc}=Uo;var De=null;typeof WebSocket<"u"?De=WebSocket:typeof MozWebSocket<"u"?De=MozWebSocket:typeof global<"u"?De=global.WebSocket||global.MozWebSocket:typeof window<"u"?De=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(De=self.WebSocket||self.MozWebSocket);const kr=De,vt={SCHEMA_DIR_RELATIVE_PATH:"./../schemas/",SCHEMA_FILENAME_PAYLOAD:"payload.schema.json",SCHEMA_FILENAME_RESPONSE:"response.schema.json",SIYUAN_DEFAULT_BASE_URL:"http://localhost:6806/",SIYUAN_DEFAULT_TOKEN:"",REQUEST_TIMEOUT:6e4};var Nn,Cn,jn,Bn,Dn;const Bt=class h{constructor(e={},n="xhr"){ge(this,"_type","xhr"),ge(this,"_baseURL",((Cn=(Nn=globalThis.top)==null?void 0:Nn.document)==null?void 0:Cn.baseURI)??((Bn=(jn=globalThis.parent)==null?void 0:jn.document)==null?void 0:Bn.baseURI)??((Dn=globalThis.location)==null?void 0:Dn.origin)??vt.SIYUAN_DEFAULT_BASE_URL),ge(this,"_token",vt.SIYUAN_DEFAULT_TOKEN),ge(this,"_axios",Uo.create({baseURL:this._baseURL,timeout:vt.REQUEST_TIMEOUT,headers:{Authorization:`Token ${this._token}`}})),ge(this,"_fetch",ti.create({baseURL:this._baseURL,headers:{Authorization:`Token ${this._token}`}})),this._setClientType(n),this._updateOptions(e,n)}_setClientType(e){this._type=e}_updateOptions(e,n=this._type){switch(this._token=e.token??this._token,this._baseURL=e.baseURL??this._baseURL,n){case"fetch":const o=e;if(o.token){const s="Authorization",i=`Token ${e.token}`;Array.isArray(o.headers)?o.headers.push([s,i]):o.headers instanceof Headers?o.headers.set(s,i):typeof o.headers=="object"?o.headers[s]=i:o.headers={[s]:i},delete e.token}this._fetch=this._fetch.create(o);break;case"xhr":default:for(const[s,i]of Object.entries(e))switch(s){case"token":this._axios.defaults.headers.Authorization=`Token ${this._token}`;break;default:this._axios.defaults[s]=i;break}break}this._baseURL=e.baseURL??this._baseURL}broadcast(e,n,o){const s=(o==null?void 0:o.baseURL)??this._baseURL,i=(o==null?void 0:o.token)??this._token,r=new URLSearchParams(e);r.set("token",i);const a=new URL(s);return a.protocol=a.protocol.replace(/^http/,"ws"),a.pathname=a.pathname.endsWith("/")?`${a.pathname}${h.ws.broadcast.pathname.substring(1)}`:`${a.pathname}${h.ws.broadcast.pathname}`,a.search=r.toString(),new kr(a,n)}async upload(e,n){const o=new FormData;return o.append("assetsDirPath",e.assetsDirPath??"/assets/"),e.files.forEach(s=>o.append("file[]",s)),await this._request(h.api.asset.upload.pathname,h.api.asset.upload.method,o,n)}async getBlockAttrs(e,n){return await this._request(h.api.attr.getBlockAttrs.pathname,h.api.attr.getBlockAttrs.method,e,n)}async getBookmarkLabels(e){return await this._request(h.api.attr.getBookmarkLabels.pathname,h.api.attr.getBookmarkLabels.method,void 0,e)}async setBlockAttrs(e,n){return await this._request(h.api.attr.setBlockAttrs.pathname,h.api.attr.setBlockAttrs.method,e,n)}async appendBlock(e,n){return await this._request(h.api.block.appendBlock.pathname,h.api.block.appendBlock.method,e,n)}async deleteBlock(e,n){return await this._request(h.api.block.deleteBlock.pathname,h.api.block.deleteBlock.method,e,n)}async getBlockBreadcrumb(e,n){return await this._request(h.api.block.getBlockBreadcrumb.pathname,h.api.block.getBlockBreadcrumb.method,e,n)}async getBlockDOM(e,n){return await this._request(h.api.block.getBlockDOM.pathname,h.api.block.getBlockDOM.method,e,n)}async getBlockInfo(e,n){return await this._request(h.api.block.getBlockInfo.pathname,h.api.block.getBlockInfo.method,e,n)}async getBlockKramdown(e,n){return await this._request(h.api.block.getBlockKramdown.pathname,h.api.block.getBlockKramdown.method,e,n)}async getChildBlocks(e,n){return await this._request(h.api.block.getChildBlocks.pathname,h.api.block.getChildBlocks.method,e,n)}async getDocInfo(e,n){return await this._request(h.api.block.getDocInfo.pathname,h.api.block.getDocInfo.method,e,n)}async insertBlock(e,n){return await this._request(h.api.block.insertBlock.pathname,h.api.block.insertBlock.method,e,n)}async moveBlock(e,n){return await this._request(h.api.block.moveBlock.pathname,h.api.block.moveBlock.method,e,n)}async prependBlock(e,n){return await this._request(h.api.block.prependBlock.pathname,h.api.block.prependBlock.method,e,n)}async transferBlockRef(e,n){return await this._request(h.api.block.transferBlockRef.pathname,h.api.block.transferBlockRef.method,e,n)}async updateBlock(e,n){return await this._request(h.api.block.updateBlock.pathname,h.api.block.updateBlock.method,e,n)}async channels(e){return await this._request(h.api.broadcast.channels.pathname,h.api.broadcast.channels.method,void 0,e)}async getChannelInfo(e,n){return await this._request(h.api.broadcast.getChannelInfo.pathname,h.api.broadcast.getChannelInfo.method,e,n)}async postMessage(e,n){return await this._request(h.api.broadcast.postMessage.pathname,h.api.broadcast.postMessage.method,e,n)}async pandoc(e,n){return await this._request(h.api.convert.pandoc.pathname,h.api.convert.pandoc.method,e,n)}async exportResources(e,n){return await this._request(h.api.export.exportResources.pathname,h.api.export.exportResources.method,e,n)}async exportMdContent(e,n){return await this._request(h.api.export.exportMdContent.pathname,h.api.export.exportMdContent.method,e,n)}async getFile(e,n="text",o){return await this._request(h.api.file.getFile.pathname,h.api.file.getFile.method,e,o,!1,n)}async putFile(e,n){e.file!==void 0&&!(e.file instanceof File)&&(e.file=new File([e.file],e.path.split("/").pop()));const o=new FormData;for(const[s,i]of Object.entries(e))e.hasOwnProperty(s)&&(i instanceof Blob?o.append(s,i):o.append(s,String(i)));return await this._request(h.api.file.putFile.pathname,h.api.file.putFile.method,o,n)}async readDir(e,n){return await this._request(h.api.file.readDir.pathname,h.api.file.readDir.method,e,n)}async removeFile(e,n){return await this._request(h.api.file.removeFile.pathname,h.api.file.removeFile.method,e,n)}async renameFile(e,n){return await this._request(h.api.file.renameFile.pathname,h.api.file.renameFile.method,e,n)}async createDocWithMd(e,n){return await this._request(h.api.filetree.createDocWithMd.pathname,h.api.filetree.createDocWithMd.method,e,n)}async getDoc(e,n){return await this._request(h.api.filetree.getDoc.pathname,h.api.filetree.getDoc.method,e,n)}async getHPathByID(e,n){return await this._request(h.api.filetree.getHPathByID.pathname,h.api.filetree.getHPathByID.method,e,n)}async getHPathByPath(e,n){return await this._request(h.api.filetree.getHPathByPath.pathname,h.api.filetree.getHPathByPath.method,e,n)}async listDocsByPath(e,n){return await this._request(h.api.filetree.listDocsByPath.pathname,h.api.filetree.listDocsByPath.method,e,n)}async moveDocs(e,n){return await this._request(h.api.filetree.moveDocs.pathname,h.api.filetree.moveDocs.method,e,n)}async removeDoc(e,n){return await this._request(h.api.filetree.removeDoc.pathname,h.api.filetree.removeDoc.method,e,n)}async renameDoc(e,n){return await this._request(h.api.filetree.renameDoc.pathname,h.api.filetree.renameDoc.method,e,n)}async searchDocs(e,n){return await this._request(h.api.filetree.searchDocs.pathname,h.api.filetree.searchDocs.method,e,n)}async getDocHistoryContent(e,n){return await this._request(h.api.history.getDocHistoryContent.pathname,h.api.history.getDocHistoryContent.method,e,n)}async getHistoryItems(e,n){return await this._request(h.api.history.getHistoryItems.pathname,h.api.history.getHistoryItems.method,e,n)}async getShorthand(e,n){return await this._request(h.api.inbox.getShorthand.pathname,h.api.inbox.getShorthand.method,e,n)}async forwardProxy(e,n){return await this._request(h.api.network.forwardProxy.pathname,h.api.network.forwardProxy.method,e,n)}async closeNotebook(e,n){return await this._request(h.api.notebook.closeNotebook.pathname,h.api.notebook.closeNotebook.method,e,n)}async createNotebook(e,n){return await this._request(h.api.notebook.createNotebook.pathname,h.api.notebook.createNotebook.method,e,n)}async getNotebookConf(e,n){return await this._request(h.api.notebook.getNotebookConf.pathname,h.api.notebook.getNotebookConf.method,e,n)}async lsNotebooks(e){return await this._request(h.api.notebook.lsNotebooks.pathname,h.api.notebook.lsNotebooks.method,void 0,e)}async openNotebook(e,n){return await this._request(h.api.notebook.openNotebook.pathname,h.api.notebook.openNotebook.method,e,n)}async removeNotebook(e,n){return await this._request(h.api.notebook.removeNotebook.pathname,h.api.notebook.removeNotebook.method,e,n)}async renameNotebook(e,n){return await this._request(h.api.notebook.renameNotebook.pathname,h.api.notebook.renameNotebook.method,e,n)}async setNotebookConf(e,n){return await this._request(h.api.notebook.setNotebookConf.pathname,h.api.notebook.setNotebookConf.method,e,n)}async pushErrMsg(e,n){return await this._request(h.api.notification.pushErrMsg.pathname,h.api.notification.pushErrMsg.method,e,n)}async pushMsg(e,n){return await this._request(h.api.notification.pushMsg.pathname,h.api.notification.pushMsg.method,e,n)}async sql(e,n){return await this._request(h.api.query.sql.pathname,h.api.query.sql.method,e,n)}async openRepoSnapshotDoc(e,n){return await this._request(h.api.repo.openRepoSnapshotDoc.pathname,h.api.repo.openRepoSnapshotDoc.method,e,n)}async fullTextSearchBlock(e,n){return await this._request(h.api.search.fullTextSearchBlock.pathname,h.api.search.fullTextSearchBlock.method,e,n)}async getSnippet(e,n){return await this._request(h.api.snippet.getSnippet.pathname,h.api.snippet.getSnippet.method,e,n)}async setSnippet(e,n){return await this._request(h.api.snippet.setSnippet.pathname,h.api.snippet.setSnippet.method,e,n)}async getLocalStorage(e){return await this._request(h.api.storage.getLocalStorage.pathname,h.api.storage.getLocalStorage.method,void 0,e)}async getRecentDocs(e){return await this._request(h.api.storage.getRecentDocs.pathname,h.api.storage.getRecentDocs.method,void 0,e)}async setLocalStorage(e,n){return await this._request(h.api.storage.setLocalStorage.pathname,h.api.storage.setLocalStorage.method,e,n)}async bootProgress(e){return await this._request(h.api.system.bootProgress.pathname,h.api.system.bootProgress.method,void 0,e)}async getConf(e){return await this._request(h.api.system.getConf.pathname,h.api.system.getConf.method,void 0,e)}async currentTime(e){return await this._request(h.api.system.currentTime.pathname,h.api.system.currentTime.method,void 0,e)}async version(e){return await this._request(h.api.system.version.pathname,h.api.system.version.method,void 0,e)}async render(e,n){return await this._request(h.api.template.render.pathname,h.api.template.render.method,e,n)}async renderSprig(e,n){return await this._request(h.api.template.renderSprig.pathname,h.api.template.renderSprig.method,e,n)}async _request(e,n,o,s,i=!0,r="json"){try{switch((s==null?void 0:s.type)??this._type){case"fetch":{const a=s==null?void 0:s.options;r=(()=>{switch(r){case"arraybuffer":return"arrayBuffer";case"document":return"text";default:return r}})();const l=await this._fetch(e,{method:n,body:o,responseType:r,onResponse:async c=>{switch(c.response.status){case et.Ok:break;case et.Accepted:e===h.api.file.getFile.pathname&&this._parseFetchResponse(c.response._data);break;default:break}},...a});return i&&r==="json"&&typeof l=="object"?this._parseFetchResponse(l):l}case"xhr":default:{const a=s==null?void 0:s.options;r=(()=>{switch(r){case"arrayBuffer":return"arraybuffer";default:return r}})();const l=await this._axios.request({url:e,method:n,data:o,responseType:r,...a});switch(l.status){case et.Ok:return i&&r==="json"&&typeof l.data=="object"?this._parseAxiosResponse(l):l.data;case et.Accepted:return e===h.api.file.getFile.pathname?this._parseAxiosResponse(l):l.data;default:throw new ni(l)}}}}catch(a){throw a}}_parseFetchResponse(e){if(e.code===0)return e;throw new gn(e)}_parseAxiosResponse(e){if(e.data.code===0)return e.data;throw new gn(e.data,e)}};ge(Bt,"ws",{broadcast:{pathname:"/ws/broadcast"}}),ge(Bt,"api",{asset:{upload:{pathname:"/api/asset/upload",method:"POST"}},attr:{getBlockAttrs:{pathname:"/api/attr/getBlockAttrs",method:"POST"},getBookmarkLabels:{pathname:"/api/attr/getBookmarkLabels",method:"POST"},setBlockAttrs:{pathname:"/api/attr/setBlockAttrs",method:"POST"}},block:{appendBlock:{pathname:"/api/block/appendBlock",method:"POST"},deleteBlock:{pathname:"/api/block/deleteBlock",method:"POST"},getBlockBreadcrumb:{pathname:"/api/block/getBlockBreadcrumb",method:"POST"},getBlockDOM:{pathname:"/api/block/getBlockDOM",method:"POST"},getBlockInfo:{pathname:"/api/block/getBlockInfo",method:"POST"},getBlockKramdown:{pathname:"/api/block/getBlockKramdown",method:"POST"},getChildBlocks:{pathname:"/api/block/getChildBlocks",method:"POST"},getDocInfo:{pathname:"/api/block/getDocInfo",method:"POST"},insertBlock:{pathname:"/api/block/insertBlock",method:"POST"},moveBlock:{pathname:"/api/block/moveBlock",method:"POST"},prependBlock:{pathname:"/api/block/prependBlock",method:"POST"},transferBlockRef:{pathname:"/api/block/transferBlockRef",method:"POST"},updateBlock:{pathname:"/api/block/updateBlock",method:"POST"}},broadcast:{channels:{pathname:"/api/broadcast/channels",method:"GET"},getChannelInfo:{pathname:"/api/broadcast/getChannelInfo",method:"POST"},postMessage:{pathname:"/api/broadcast/postMessage",method:"POST"}},convert:{pandoc:{pathname:"/api/convert/pandoc",method:"POST"}},export:{exportMdContent:{pathname:"/api/export/exportMdContent",method:"POST"},exportResources:{pathname:"/api/export/exportResources",method:"POST"}},file:{getFile:{pathname:"/api/file/getFile",method:"POST"},putFile:{pathname:"/api/file/putFile",method:"POST"},readDir:{pathname:"/api/file/readDir",method:"POST"},removeFile:{pathname:"/api/file/removeFile",method:"POST"},renameFile:{pathname:"/api/file/renameFile",method:"POST"}},filetree:{createDocWithMd:{pathname:"/api/filetree/createDocWithMd",method:"POST"},getDoc:{pathname:"/api/filetree/getDoc",method:"POST"},getHPathByID:{pathname:"/api/filetree/getHPathByID",method:"POST"},getHPathByPath:{pathname:"/api/filetree/getHPathByPath",method:"POST"},listDocsByPath:{pathname:"/api/filetree/listDocsByPath",method:"POST"},moveDocs:{pathname:"/api/filetree/moveDocs",method:"POST"},removeDoc:{pathname:"/api/filetree/removeDoc",method:"POST"},renameDoc:{pathname:"/api/filetree/renameDoc",method:"POST"},searchDocs:{pathname:"/api/filetree/searchDocs",method:"POST"}},history:{getDocHistoryContent:{pathname:"/api/history/getDocHistoryContent",method:"POST"},getHistoryItems:{pathname:"/api/history/getHistoryItems",method:"POST"}},inbox:{getShorthand:{pathname:"/api/inbox/getShorthand",method:"POST"}},network:{forwardProxy:{pathname:"/api/network/forwardProxy",method:"POST"}},notebook:{closeNotebook:{pathname:"/api/notebook/closeNotebook",method:"POST"},createNotebook:{pathname:"/api/notebook/createNotebook",method:"POST"},getNotebookConf:{pathname:"/api/notebook/getNotebookConf",method:"POST"},lsNotebooks:{pathname:"/api/notebook/lsNotebooks",method:"POST"},openNotebook:{pathname:"/api/notebook/openNotebook",method:"POST"},removeNotebook:{pathname:"/api/notebook/removeNotebook",method:"POST"},renameNotebook:{pathname:"/api/notebook/renameNotebook",method:"POST"},setNotebookConf:{pathname:"/api/notebook/setNotebookConf",method:"POST"}},notification:{pushErrMsg:{pathname:"/api/notification/pushErrMsg",method:"POST"},pushMsg:{pathname:"/api/notification/pushMsg",method:"POST"}},query:{sql:{pathname:"/api/query/sql",method:"POST"}},repo:{openRepoSnapshotDoc:{pathname:"/api/repo/openRepoSnapshotDoc",method:"POST"}},search:{fullTextSearchBlock:{pathname:"/api/search/fullTextSearchBlock",method:"POST"}},snippet:{getSnippet:{pathname:"/api/snippet/getSnippet",method:"POST"},setSnippet:{pathname:"/api/snippet/setSnippet",method:"POST"}},storage:{getLocalStorage:{pathname:"/api/storage/getLocalStorage",method:"POST"},getRecentDocs:{pathname:"/api/storage/getRecentDocs",method:"POST"},setLocalStorage:{pathname:"/api/storage/setLocalStorage",method:"POST"}},system:{bootProgress:{pathname:"/api/system/bootProgress",method:"POST"},currentTime:{pathname:"/api/system/currentTime",method:"POST"},getConf:{pathname:"/api/system/getConf",method:"POST"},version:{pathname:"/api/system/version",method:"POST"}},template:{render:{pathname:"/api/template/render",method:"POST"},renderSprig:{pathname:"/api/template/renderSprig",method:"POST"}}});let wr=Bt;var Ho=(t=>(t.NodeNotebook="NodeNotebook",t.NodeFolder="NodeFolder",t.NodeDocument="NodeDocument",t.NodeSuperBlock="NodeSuperBlock",t.NodeBlockquote="NodeBlockquote",t.NodeList="NodeList",t.NodeListItem="NodeListItem",t.NodeHeading="NodeHeading",t.NodeParagraph="NodeParagraph",t.NodeMathBlock="NodeMathBlock",t.NodeTable="NodeTable",t.NodeCodeBlock="NodeCodeBlock",t.NodeHTMLBlock="NodeHTMLBlock",t.NodeBlockQueryEmbed="NodeBlockQueryEmbed",t.NodeAttributeView="NodeAttributeView",t.NodeThematicBreak="NodeThematicBreak",t.NodeAudio="NodeAudio",t.NodeVideo="NodeVideo",t.NodeIFrame="NodeIFrame",t.NodeWidget="NodeWidget",t))(Ho||{}),Vo=(t=>(t.d="d",t.s="s",t.b="b",t.l="l",t.i="i",t.h="h",t.p="p",t.m="m",t.t="t",t.c="c",t.html="html",t.query_embed="query_embed",t.tb="tb",t.audio="audio",t.video="video",t.iframe="iframe",t.widget="widget",t))(Vo||{}),zo=(t=>(t.d="d",t.s="s",t.b="b",t.l="l",t.i="i",t))(zo||{}),Go=(t=>(t.h="h",t.p="p",t.m="m",t.t="t",t.c="c",t.html="html",t.query_embed="query_embed",t.tb="tb",t.audio="audio",t.video="video",t.iframe="iframe",t.widget="widget",t))(Go||{}),Ko=(t=>(t.h1="h1",t.h2="h2",t.h3="h3",t.h4="h4",t.h5="h5",t.h6="h6",t.u="u",t.o="o",t.t="t",t.none="",t))(Ko||{}),Wo=(t=>(t.u="u",t.o="o",t.t="t",t))(Wo||{}),Jo=(t=>(t.h1="h1",t.h2="h2",t.h3="h3",t.h4="h4",t.h5="h5",t.h6="h6",t))(Jo||{}),Yo=(t=>(t[t.keyword=0]="keyword",t[t.querySyntax=1]="querySyntax",t[t.sql=2]="sql",t[t.regex=3]="regex",t))(Yo||{}),Qo=(t=>(t[t.noGroupBy=0]="noGroupBy",t[t.group=1]="group",t))(Qo||{}),Xo=(t=>(t[t.type=0]="type",t[t.createdASC=1]="createdASC",t[t.createdDESC=2]="createdDESC",t[t.modifiedASC=3]="modifiedASC",t[t.modifiedDESC=4]="modifiedDESC",t[t.sortByContent=5]="sortByContent",t[t.sortByRankAsc=6]="sortByRankAsc",t[t.sortByRankDesc=7]="sortByRankDesc",t))(Xo||{}),Zo=(t=>(t[t.SortModeNameASC=0]="SortModeNameASC",t[t.SortModeNameDESC=1]="SortModeNameDESC",t[t.SortModeUpdatedASC=2]="SortModeUpdatedASC",t[t.SortModeUpdatedDESC=3]="SortModeUpdatedDESC",t[t.SortModeAlphanumASC=4]="SortModeAlphanumASC",t[t.SortModeAlphanumDESC=5]="SortModeAlphanumDESC",t[t.SortModeCustom=6]="SortModeCustom",t[t.SortModeRefCountASC=7]="SortModeRefCountASC",t[t.SortModeRefCountDESC=8]="SortModeRefCountDESC",t[t.SortModeCreatedASC=9]="SortModeCreatedASC",t[t.SortModeCreatedDESC=10]="SortModeCreatedDESC",t[t.SortModeSizeASC=11]="SortModeSizeASC",t[t.SortModeSizeDESC=12]="SortModeSizeDESC",t[t.SortModeSubDocCountASC=13]="SortModeSubDocCountASC",t[t.SortModeSubDocCountDESC=14]="SortModeSubDocCountDESC",t))(Zo||{});const Sr=Object.freeze(Object.defineProperty({__proto__:null,BlockSubType:Ko,BlockType:Vo,Container:zo,GroupBy:Qo,Leaf:Go,Method:Yo,NodeHeadingSubType:Jo,NodeListSubType:Wo,NodeType:Ho,OrderBy:Xo,SortMode:Zo},Symbol.toStringTag,{value:"Module"}));vr();$r();const Rn=Er();function vr(){switch(ie.getFrontend()){case"desktop":case"desktop-window":case"browser-desktop":return!0;case"mobile":case"browser-mobile":return!1;default:return!1}}function Er(){switch(ie.getFrontend()){case"mobile":case"browser-mobile":return!0;case"desktop":case"desktop-window":case"browser-desktop":return!1;default:return!1}}function $r(){switch(ie.getFrontend()){case"browser-desktop":case"browser-mobile":return!0;case"desktop":case"desktop-window":case"mobile":return!1;default:return!1}}class Tr{constructor(e,n=!0){this.label=e,this.collapsed=n}stdout(e,n,...o){const s=`[\x1B[4m${this.label}\x1B[0m] - <\x1B[1m${e.name.toUpperCase()}\x1B[0m>`;if(this.collapsed?globalThis.console.groupCollapsed(s):globalThis.console.group(s),n)for(const i of o)Array.isArray(i)?e(...i):e(i);else e(...o);globalThis.console.trace(),globalThis.console.groupEnd()}dir(...e){this.stdout(globalThis.console.dir,!1,...e)}dirs(...e){this.stdout(globalThis.console.dir,!0,...e)}table(...e){this.stdout(globalThis.console.table,!1,...e)}tables(...e){this.stdout(globalThis.console.table,!0,...e)}debug(...e){this.stdout(globalThis.console.debug,!1,...e)}debugs(...e){this.stdout(globalThis.console.debug,!0,...e)}info(...e){this.stdout(globalThis.console.info,!1,...e)}infos(...e){this.stdout(globalThis.console.info,!0,...e)}log(...e){this.stdout(globalThis.console.log,!1,...e)}logs(...e){this.stdout(globalThis.console.log,!0,...e)}warn(...e){this.stdout(globalThis.console.warn,!1,...e)}warns(...e){this.stdout(globalThis.console.warn,!0,...e)}error(...e){this.stdout(globalThis.console.error,!1,...e)}errors(...e){this.stdout(globalThis.console.error,!0,...e)}}function xo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Or=function(e){return Ar(e)&&!Nr(e)};function Ar(t){return!!t&&typeof t=="object"}function Nr(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||Br(t)}var Cr=typeof Symbol=="function"&&Symbol.for,jr=Cr?Symbol.for("react.element"):60103;function Br(t){return t.$$typeof===jr}function Dr(t){return Array.isArray(t)?[]:{}}function We(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Le(Dr(t),t,e):t}function Rr(t,e,n){return t.concat(e).map(function(o){return We(o,n)})}function Pr(t,e){if(!e.customMerge)return Le;var n=e.customMerge(t);return typeof n=="function"?n:Le}function Fr(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function Pn(t){return Object.keys(t).concat(Fr(t))}function es(t,e){try{return e in t}catch{return!1}}function Lr(t,e){return es(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function Mr(t,e,n){var o={};return n.isMergeableObject(t)&&Pn(t).forEach(function(s){o[s]=We(t[s],n)}),Pn(e).forEach(function(s){Lr(t,s)||(es(t,s)&&n.isMergeableObject(e[s])?o[s]=Pr(s,n)(t[s],e[s],n):o[s]=We(e[s],n))}),o}function Le(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||Rr,n.isMergeableObject=n.isMergeableObject||Or,n.cloneUnlessOtherwiseSpecified=We;var o=Array.isArray(e),s=Array.isArray(t),i=o===s;return i?o?n.arrayMerge(t,e,n):Mr(t,e,n):We(e,n)}Le.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(o,s){return Le(o,s,n)},{})};var qr=Le,Ir=qr;const Ur=xo(Ir);function Fn(...t){return Ur.all(t,{arrayMerge:(e,n,o)=>n})}function Hr(t){const e={families:[],map:new Map};return t.forEach(n=>{const o=e.map.get(n.family);o?o.push(n):(e.families.push(n.family),e.map.set(n.family,[n]))}),e}function Y(){}function ts(t,e){for(const n in e)t[n]=e[n];return t}function ns(t){return t()}function Ln(){return Object.create(null)}function Q(t){t.forEach(ns)}function os(t){return typeof t=="function"}function ee(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let tt;function Mn(t,e){return tt||(tt=document.createElement("a")),tt.href=e,t===tt.href}function Vr(t){return Object.keys(t).length===0}function ye(t,e,n,o){if(t){const s=ss(t,e,n,o);return t[0](s)}}function ss(t,e,n,o){return t[1]&&o?ts(n.ctx.slice(),t[1](o(e))):n.ctx}function ke(t,e,n,o){if(t[2]&&o){const s=t[2](o(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const i=[],r=Math.max(e.dirty.length,s.length);for(let a=0;a<r;a+=1)i[a]=e.dirty[a]|s[a];return i}return e.dirty|s}return e.dirty}function we(t,e,n,o,s,i){if(s){const r=ss(e,n,o,i);t.p(r,s)}}function Se(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let o=0;o<n;o++)e[o]=-1;return e}return-1}function zr(t){const e={};for(const n in t)e[n]=!0;return e}function D(t,e){t.appendChild(e)}function j(t,e,n){t.insertBefore(e,n||null)}function N(t){t.parentNode&&t.parentNode.removeChild(t)}function P(t){return document.createElement(t)}function Je(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ee(t){return document.createTextNode(t)}function F(){return Ee(" ")}function Ne(){return Ee("")}function K(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function S(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function lt(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function Dt(t){return t===""?null:+t}function Gr(t){return Array.from(t.childNodes)}function zt(t,e){e=""+e,t.data!==e&&(t.data=e)}function ae(t,e){t.value=e??""}function _e(t,e,n,o){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function qn(t,e,n){for(let o=0;o<t.options.length;o+=1){const s=t.options[o];if(s.__value===e){s.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Kr(t){const e=t.querySelector(":checked");return e&&e.__value}function $(t,e,n){t.classList[n?"add":"remove"](e)}function Wr(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,o,e),s}class dt{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,o=null){this.e||(this.is_svg?this.e=Je(n.nodeName):this.e=P(n.nodeType===11?"TEMPLATE":n.nodeName),this.t=n.tagName!=="TEMPLATE"?n:n.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)j(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(N)}}let Ye;function ze(t){Ye=t}function Jr(){if(!Ye)throw new Error("Function called outside component initialization");return Ye}function Gt(){const t=Jr();return(e,n,{cancelable:o=!1}={})=>{const s=t.$$.callbacks[e];if(s){const i=Wr(e,n,{cancelable:o});return s.slice().forEach(r=>{r.call(t,i)}),!i.defaultPrevented}return!0}}const Re=[],In=[];let Pe=[];const Un=[],Yr=Promise.resolve();let Rt=!1;function Qr(){Rt||(Rt=!0,Yr.then(is))}function ct(t){Pe.push(t)}const Et=new Set;let Ce=0;function is(){if(Ce!==0)return;const t=Ye;do{try{for(;Ce<Re.length;){const e=Re[Ce];Ce++,ze(e),Xr(e.$$)}}catch(e){throw Re.length=0,Ce=0,e}for(ze(null),Re.length=0,Ce=0;In.length;)In.pop()();for(let e=0;e<Pe.length;e+=1){const n=Pe[e];Et.has(n)||(Et.add(n),n())}Pe.length=0}while(Re.length);for(;Un.length;)Un.pop()();Rt=!1,Et.clear(),ze(t)}function Xr(t){if(t.fragment!==null){t.update(),Q(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ct)}}function Zr(t){const e=[],n=[];Pe.forEach(o=>t.indexOf(o)===-1?e.push(o):n.push(o)),n.forEach(o=>o()),Pe=e}const rt=new Set;let Ae;function le(){Ae={r:0,c:[],p:Ae}}function ce(){Ae.r||Q(Ae.c),Ae=Ae.p}function y(t,e){t&&t.i&&(rt.delete(t),t.i(e))}function v(t,e,n,o){if(t&&t.o){if(rt.has(t))return;rt.add(t),Ae.c.push(()=>{rt.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}function xr(t,e){t.d(1),e.delete(t.key)}function Kt(t,e){v(t,1,1,()=>{e.delete(t.key)})}function gt(t,e,n,o,s,i,r,a,l,c,u,m){let g=t.length,f=i.length,p=g;const d={};for(;p--;)d[t[p].key]=p;const _=[],B=new Map,z=new Map,U=[];for(p=f;p--;){const C=m(s,i,p),J=n(C);let G=r.get(J);G?o&&U.push(()=>G.p(C,e)):(G=c(J,C),G.c()),B.set(J,_[p]=G),J in d&&z.set(J,Math.abs(p-d[J]))}const q=new Set,R=new Set;function L(C){y(C,1),C.m(a,u),r.set(C.key,C),u=C.first,f--}for(;g&&f;){const C=_[f-1],J=t[g-1],G=C.key,fe=J.key;C===J?(u=C.first,g--,f--):B.has(fe)?!r.has(G)||q.has(G)?L(C):R.has(fe)?g--:z.get(G)>z.get(fe)?(R.add(G),L(C)):(q.add(fe),g--):(l(J,r),g--)}for(;g--;){const C=t[g];B.has(C.key)||l(C,r)}for(;f;)L(_[f-1]);return Q(U),_}function ea(t,e){const n={},o={},s={$$scope:1};let i=t.length;for(;i--;){const r=t[i],a=e[i];if(a){for(const l in r)l in a||(o[l]=1);for(const l in a)s[l]||(n[l]=a[l],s[l]=1);t[i]=a}else for(const l in r)s[l]=1}for(const r in o)r in n||(n[r]=void 0);return n}function ta(t){return typeof t=="object"&&t!==null?t:{}}function A(t){t&&t.c()}function T(t,e,n,o){const{fragment:s,after_update:i}=t.$$;s&&s.m(e,n),o||ct(()=>{const r=t.$$.on_mount.map(ns).filter(os);t.$$.on_destroy?t.$$.on_destroy.push(...r):Q(r),t.$$.on_mount=[]}),i.forEach(ct)}function O(t,e){const n=t.$$;n.fragment!==null&&(Zr(n.after_update),Q(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function na(t,e){t.$$.dirty[0]===-1&&(Re.push(t),Qr(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function te(t,e,n,o,s,i,r,a=[-1]){const l=Ye;ze(t);const c=t.$$={fragment:null,ctx:[],props:i,update:Y,not_equal:s,bound:Ln(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Ln(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};r&&r(c.root);let u=!1;if(c.ctx=n?n(t,e.props||{},(m,g,...f)=>{const p=f.length?f[0]:g;return c.ctx&&s(c.ctx[m],c.ctx[m]=p)&&(!c.skip_bound&&c.bound[m]&&c.bound[m](p),u&&na(t,m)),g}):[],c.update(),u=!0,Q(c.before_update),c.fragment=o?o(c.ctx):!1,e.target){if(e.hydrate){const m=Gr(e.target);c.fragment&&c.fragment.l(m),m.forEach(N)}else c.fragment&&c.fragment.c();e.intro&&y(t.$$.fragment),T(t,e.target,e.anchor,e.customElement),is()}ze(l)}class ne{$destroy(){O(this,1),this.$destroy=Y}$on(e,n){if(!os(n))return Y;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const s=o.indexOf(n);s!==-1&&o.splice(s,1)}}$set(e){this.$$set&&!Vr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Hn={id:/^\d{14}-[0-9a-z]{7}$/,url:/^siyuan:\/\/blocks\/(\d{14}-[0-9a-z]{7})/,snippet:/^\d{14}-[0-9a-z]{7}$/,created:/^\d{10}$/,history:/[\/\\]history[\/\\]\d{4}-\d{2}-\d{2}-\d{6}-(clean|update|delete|format|sync|replace)([\/\\]\d{14}-[0-9a-z]{7})+\.sy$/,snapshot:/^[0-9a-f]{40}$/,shorthand:/^\d{13}$/};function oa(t){let e,n;return{c(){e=Je("svg"),n=Je("use"),lt(n,"xlink:href",t[0]),S(e,"style",t[3]),S(e,"data-id",t[1]),S(e,"class",t[2]),$(e,"popover__block",Hn.id.test(t[1]))},m(o,s){j(o,e,s),D(e,n)},p(o,[s]){s&1&&lt(n,"xlink:href",o[0]),s&8&&S(e,"style",o[3]),s&2&&S(e,"data-id",o[1]),s&4&&S(e,"class",o[2]),s&6&&$(e,"popover__block",Hn.id.test(o[1]))},i:Y,o:Y,d(o){o&&N(e)}}}function sa(t,e,n){let{icon:o}=e,{id:s=""}=e,{className:i=""}=e,{style:r=""}=e;return t.$$set=a=>{"icon"in a&&n(0,o=a.icon),"id"in a&&n(1,s=a.id),"className"in a&&n(2,i=a.className),"style"in a&&n(3,r=a.style)},[o,s,i,r]}class _t extends ne{constructor(e){super(),te(this,e,sa,oa,ee,{icon:0,id:1,className:2,style:3})}}function ia(t){let e,n;return{c(){e=Je("svg"),n=Je("use"),lt(n,"xlink:href",t[1]),S(e,"style",t[3]),S(e,"class",t[2]),$(e,"b3-list-item__arrow--open",t[0])},m(o,s){j(o,e,s),D(e,n)},p(o,[s]){s&2&&lt(n,"xlink:href",o[1]),s&8&&S(e,"style",o[3]),s&4&&S(e,"class",o[2]),s&5&&$(e,"b3-list-item__arrow--open",o[0])},i:Y,o:Y,d(o){o&&N(e)}}}function ra(t,e,n){let{open:o=!1}=e,{icon:s="#iconRight"}=e,{className:i="b3-list-item__arrow"}=e,{style:r=void 0}=e;return t.$$set=a=>{"open"in a&&n(0,o=a.open),"icon"in a&&n(1,s=a.icon),"className"in a&&n(2,i=a.className),"style"in a&&n(3,r=a.style)},[o,s,i,r]}class aa extends ne{constructor(e){super(),te(this,e,ra,ia,ee,{open:0,icon:1,className:2,style:3})}}function la(t){let e,n;return{c(){e=P("img"),S(e,"class","b3-list-item__graphic"),S(e,"alt","icon"),Mn(e.src,n=t[3])||S(e,"src",n)},m(o,s){j(o,e,s)},p(o,s){s&8&&!Mn(e.src,n=o[3])&&S(e,"src",n)},i:Y,o:Y,d(o){o&&N(e)}}}function ca(t){let e,n;return{c(){e=P("span"),n=Ee(t[2]),S(e,"class","b3-list-item__graphic")},m(o,s){j(o,e,s),D(e,n)},p(o,s){s&4&&zt(n,o[2])},i:Y,o:Y,d(o){o&&N(e)}}}function ua(t){let e,n;return e=new _t({props:{className:"b3-list-item__graphic",icon:t[2]}}),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s&4&&(i.icon=o[2]),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Vn(t){let e;return{c(){e=P("span"),S(e,"class","b3-list-item__meta")},m(n,o){j(n,e,o),e.innerHTML=t[4]},p(n,o){o&16&&(e.innerHTML=n[4])},d(n){n&&N(e)}}}function zn(t){let e,n;return e=new Pt({props:{items:t[8],border:t[7],fn__none:t[0],flex_1:!1,indent:t[9]}}),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s&256&&(i.items=o[8]),s&128&&(i.border=o[7]),s&1&&(i.fn__none=o[0]),s&512&&(i.indent=o[9]),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function fa(t){let e,n,o,s,i,r,a,l,c,u,m,g,f,p,d;o=new aa({props:{open:!t[0]}});const _=[ua,ca,la],B=[];function z(R,L){return L&4&&(i=null),i==null&&(i=!!R[2].startsWith("#")),i?0:R[2]?1:R[3]?2:-1}~(r=z(t,-1))&&(a=B[r]=_[r](t));let U=t[4]&&Vn(t),q=t[8].length>0&&zn(t);return{c(){e=P("li"),n=P("span"),A(o.$$.fragment),s=F(),a&&a.c(),l=F(),c=P("span"),u=F(),U&&U.c(),m=F(),q&&q.c(),g=Ne(),S(n,"class","b3-list-item__toggle svelte-cyyh2i"),$(n,"hidden",t[8].length===0),S(c,"class","b3-list-item__text"),S(c,"style",t[5]),S(e,"class","b3-list-item svelte-cyyh2i"),$(e,"toggle",t[8].length>0),$(e,"b3-list-item--narrow",t[6])},m(R,L){j(R,e,L),D(e,n),T(o,n,null),D(e,s),~r&&B[r].m(e,null),D(e,l),D(e,c),c.innerHTML=t[1],D(e,u),U&&U.m(e,null),j(R,m,L),q&&q.m(R,L),j(R,g,L),f=!0,p||(d=K(e,"click",t[10]),p=!0)},p(R,[L]){const C={};L&1&&(C.open=!R[0]),o.$set(C),(!f||L&256)&&$(n,"hidden",R[8].length===0);let J=r;r=z(R,L),r===J?~r&&B[r].p(R,L):(a&&(le(),v(B[J],1,1,()=>{B[J]=null}),ce()),~r?(a=B[r],a?a.p(R,L):(a=B[r]=_[r](R),a.c()),y(a,1),a.m(e,l)):a=null),(!f||L&2)&&(c.innerHTML=R[1]),(!f||L&32)&&S(c,"style",R[5]),R[4]?U?U.p(R,L):(U=Vn(R),U.c(),U.m(e,null)):U&&(U.d(1),U=null),(!f||L&256)&&$(e,"toggle",R[8].length>0),(!f||L&64)&&$(e,"b3-list-item--narrow",R[6]),R[8].length>0?q?(q.p(R,L),L&256&&y(q,1)):(q=zn(R),q.c(),y(q,1),q.m(g.parentNode,g)):q&&(le(),v(q,1,1,()=>{q=null}),ce())},i(R){f||(y(o.$$.fragment,R),y(a),y(q),f=!0)},o(R){v(o.$$.fragment,R),v(a),v(q),f=!1},d(R){R&&N(e),O(o),~r&&B[r].d(),U&&U.d(),R&&N(m),q&&q.d(R),R&&N(g),p=!1,d()}}}function pa(t,e,n){let{text:o}=e,{icon:s=""}=e,{src:i=""}=e,{meta:r=""}=e,{style:a=""}=e,{narrow:l=!1}=e,{border:c=!1}=e,{fold:u=!0}=e,{children:m=[]}=e,{indent:g=""}=e;function f(){n(0,u=!u)}return t.$$set=p=>{"text"in p&&n(1,o=p.text),"icon"in p&&n(2,s=p.icon),"src"in p&&n(3,i=p.src),"meta"in p&&n(4,r=p.meta),"style"in p&&n(5,a=p.style),"narrow"in p&&n(6,l=p.narrow),"border"in p&&n(7,c=p.border),"fold"in p&&n(0,u=p.fold),"children"in p&&n(8,m=p.children),"indent"in p&&n(9,g=p.indent)},[u,o,s,i,r,a,l,c,m,g,f]}class ha extends ne{constructor(e){super(),te(this,e,pa,fa,ee,{text:1,icon:2,src:3,meta:4,style:5,narrow:6,border:7,fold:0,children:8,indent:9})}}function Gn(t,e,n){const o=t.slice();return o[7]=e[n],o[9]=n,o}function Kn(t,e){let n,o,s;const i=[e[7]];let r={};for(let a=0;a<i.length;a+=1)r=ts(r,i[a]);return o=new ha({props:r}),{key:t,first:null,c(){n=Ne(),A(o.$$.fragment),this.first=n},m(a,l){j(a,n,l),T(o,a,l),s=!0},p(a,l){e=a;const c=l&1?ea(i,[ta(e[7])]):{};o.$set(c)},i(a){s||(y(o.$$.fragment,a),s=!0)},o(a){v(o.$$.fragment,a),s=!1},d(a){a&&N(n),O(o,a)}}}function ma(t){let e,n=[],o=new Map,s,i=t[0];const r=a=>a[9];for(let a=0;a<i.length;a+=1){let l=Gn(t,i,a),c=r(l);o.set(c,n[a]=Kn(c,l))}return{c(){e=P("ul");for(let a=0;a<n.length;a+=1)n[a].c();S(e,"class",t[1]),$(e,"b3-list--border",t[2]),$(e,"fn__none",t[3]),$(e,"fn__flex-1",t[4]),_e(e,"margin-left",t[6]),_e(e,"width",t[5]>0?`${t[5]}px`:void 0)},m(a,l){j(a,e,l);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);s=!0},p(a,[l]){l&1&&(i=a[0],le(),n=gt(n,l,r,1,a,i,o,e,Kt,Kn,null,Gn),ce()),(!s||l&2)&&S(e,"class",a[1]),(!s||l&6)&&$(e,"b3-list--border",a[2]),(!s||l&10)&&$(e,"fn__none",a[3]),(!s||l&18)&&$(e,"fn__flex-1",a[4]),l&64&&_e(e,"margin-left",a[6]),l&32&&_e(e,"width",a[5]>0?`${a[5]}px`:void 0)},i(a){if(!s){for(let l=0;l<i.length;l+=1)y(n[l]);s=!0}},o(a){for(let l=0;l<n.length;l+=1)v(n[l]);s=!1},d(a){a&&N(e);for(let l=0;l<n.length;l+=1)n[l].d()}}}function da(t,e,n){let{items:o=[]}=e,{className:s="b3-list b3-list--background"}=e,{border:i=!1}=e,{fn__none:r=!1}=e,{flex_1:a=!0}=e,{width:l=0}=e,{indent:c=""}=e;return t.$$set=u=>{"items"in u&&n(0,o=u.items),"className"in u&&n(1,s=u.className),"border"in u&&n(2,i=u.border),"fn__none"in u&&n(3,r=u.fn__none),"flex_1"in u&&n(4,a=u.flex_1),"width"in u&&n(5,l=u.width),"indent"in u&&n(6,c=u.indent)},[o,s,i,r,a,l,c]}class Pt extends ne{constructor(e){super(),te(this,e,da,ma,ee,{items:0,className:1,border:2,fn__none:3,flex_1:4,width:5,indent:6})}}var Wn={thin:100,hairline:100,"ultra-light":100,"extra-light":100,light:200,book:300,regular:400,normal:400,plain:400,roman:400,standard:400,medium:500,"semi-bold":600,"demi-bold":600,bold:700,heavy:800,black:800,"extra-bold":800,"ultra-black":900,"extra-black":900,"ultra-bold":900,"heavy-black":900,fat:900,poster:900},He=" ",Jn=/(italic|oblique)$/i,Yn={},ga=function(t,e,n){var o=Yn[t];if(!o){Array.isArray(t)||(t=[t]);for(var s=400,i="normal",r=[],a,l,c=0,u=t.length;c<u;++c){var m=t[c],g=m.split(" "),f=g[g.length-1].toLowerCase();f=="normal"||f=="italic"||f=="oblique"?(i=l?i:f,g.pop(),f=g[g.length-1].toLowerCase()):Jn.test(f)&&(f=f.replace(Jn,""),i=l?i:g[g.length-1].replace(f,""));for(var p in Wn){var d=g.length>1?g[g.length-2].toLowerCase():"";if(f==p||f==p.replace("-","")||d+"-"+f==p){s=a?s:Wn[p],g.pop(),d&&p.startsWith(d)&&g.pop();break}}!a&&typeof f=="number"&&(s=f);var _=g.join(He).replace("Klokantech Noto Sans","Noto Sans");_.indexOf(He)!==-1&&(_='"'+_+'"'),r.push(_)}o=Yn[t]=[i,s,r]}return o[0]+He+o[1]+He+e+"px"+(n?"/"+n:"")+He+o[2]};const _a=xo(ga);function ba(t,e=16){return _a(`${t.family} ${t.style}`,e)}function ya(t){const{protyle:e,data:n,blockElements:o}=t;if(n){const s={element:e.wysiwyg.element,id:n.id,type:Sr.NodeType.NodeDocument};return{...s,isDocumentBlock:!0,isMultiBlock:!1,blocks:[s],protyle:e,data:n}}else if(o&&o.length>0){const s=[];return o.forEach(i=>{s.push({element:i,id:i.dataset.nodeId,type:i.dataset.type,subtype:i.dataset.subtype})}),{...s[0],isDocumentBlock:!1,isMultiBlock:s.length>1,blocks:s,protyle:e}}return null}function ka(t){t.forEach(e=>{const n=`snippet${e.type==="css"?"CSS":"JS"}${e.id}`;let o=document.getElementById(n);if(!e.enabled){o&&o.remove();return}if(o){if(o.innerHTML===e.content)return;o.remove()}e.type==="css"?document.head.insertAdjacentHTML("beforeend",`<style id="${n}">${e.content}</style>`):e.type==="js"&&(o=document.createElement("script"),o.type="text/javascript",o.text=e.content,o.id=n,document.head.appendChild(o))})}const wa=t=>({focus:t&1}),Qn=t=>({focus:t[0]});function Xn(t,e,n){const o=t.slice();return o[13]=e[n],o}function Zn(t){let e,n,o,s,i,r,a;return n=new _t({props:{icon:"#iconSearch",className:"b3-form__icon-icon"}}),{c(){e=P("div"),A(n.$$.fragment),o=F(),s=P("input"),S(s,"placeholder",t[4]),S(s,"class","b3-text-field fn__block b3-form__icon-input"),S(e,"class","b3-form__icon")},m(l,c){j(l,e,c),T(n,e,null),D(e,o),D(e,s),ae(s,t[1]),i=!0,r||(a=[K(s,"input",t[9]),K(s,"change",t[5])],r=!0)},p(l,c){(!i||c&16)&&S(s,"placeholder",l[4]),c&2&&s.value!==l[1]&&ae(s,l[1])},i(l){i||(y(n.$$.fragment,l),i=!0)},o(l){v(n.$$.fragment,l),i=!1},d(l){l&&N(e),O(n),r=!1,Q(a)}}}function xn(t,e){let n,o,s,i,r=e[13].text+"",a,l,c,u,m;o=new _t({props:{icon:e[13].icon,className:"b3-list-item__graphic"}});function g(){return e[10](e[13])}function f(){return e[11](e[13])}return{key:t,first:null,c(){n=P("li"),A(o.$$.fragment),s=F(),i=P("span"),a=F(),S(i,"class","b3-list-item__text svelte-15drd7h"),S(n,"role","button"),S(n,"data-name",l=e[13].name),S(n,"class","b3-list-item"),$(n,"b3-list-item--focus",e[13].key===e[0]),this.first=n},m(p,d){j(p,n,d),T(o,n,null),D(n,s),D(n,i),i.innerHTML=r,D(n,a),c=!0,u||(m=[K(n,"click",g),K(n,"keyup",f)],u=!0)},p(p,d){e=p;const _={};d&4&&(_.icon=e[13].icon),o.$set(_),(!c||d&4)&&r!==(r=e[13].text+"")&&(i.innerHTML=r),(!c||d&4&&l!==(l=e[13].name))&&S(n,"data-name",l),(!c||d&5)&&$(n,"b3-list-item--focus",e[13].key===e[0])},i(p){c||(y(o.$$.fragment,p),c=!0)},o(p){v(o.$$.fragment,p),c=!1},d(p){p&&N(n),O(o),u=!1,Q(m)}}}function Sa(t){let e;return{c(){e=Ee("Container")},m(n,o){j(n,e,o)},d(n){n&&N(e)}}}function va(t){let e,n,o,s=[],i=new Map,r,a,l,c=t[3]&&Zn(t),u=t[2];const m=d=>d[13].key;for(let d=0;d<u.length;d+=1){let _=Xn(t,u,d),B=m(_);i.set(B,s[d]=xn(B,_))}const g=t[8].default,f=ye(g,t,t[7],Qn),p=f||Sa();return{c(){e=P("div"),n=P("ul"),c&&c.c(),o=F();for(let d=0;d<s.length;d+=1)s[d].c();r=F(),a=P("div"),p&&p.c(),S(n,"class","b3-tab-bar b3-list b3-list--background"),S(a,"class","config__tab-wrap"),S(e,"class","fn__flex-1 fn__flex config__panel")},m(d,_){j(d,e,_),D(e,n),c&&c.m(n,null),D(n,o);for(let B=0;B<s.length;B+=1)s[B]&&s[B].m(n,null);D(e,r),D(e,a),p&&p.m(a,null),l=!0},p(d,[_]){d[3]?c?(c.p(d,_),_&8&&y(c,1)):(c=Zn(d),c.c(),y(c,1),c.m(n,o)):c&&(le(),v(c,1,1,()=>{c=null}),ce()),_&69&&(u=d[2],le(),s=gt(s,_,m,1,d,u,i,n,Kt,xn,null,Xn),ce()),f&&f.p&&(!l||_&129)&&we(f,g,d,d[7],l?ke(g,d[7],_,wa):Se(d[7]),Qn)},i(d){if(!l){y(c);for(let _=0;_<u.length;_+=1)y(s[_]);y(p,d),l=!0}},o(d){v(c);for(let _=0;_<s.length;_+=1)v(s[_]);v(p,d),l=!1},d(d){d&&N(e),c&&c.d();for(let _=0;_<s.length;_+=1)s[_].d();p&&p.d(d)}}}function Ea(t,e,n){let{$$slots:o={},$$scope:s}=e,{panels:i}=e,{focus:r}=e,{searchEnable:a=!1}=e,{searchPlaceholder:l=""}=e,{searchValue:c=""}=e;const u=Gt();function m(){u("search-changed",{value:c})}function g(_){u("changed",{key:_}),n(0,r=_)}function f(){c=this.value,n(1,c)}const p=_=>g(_.key),d=_=>g(_.key);return t.$$set=_=>{"panels"in _&&n(2,i=_.panels),"focus"in _&&n(0,r=_.focus),"searchEnable"in _&&n(3,a=_.searchEnable),"searchPlaceholder"in _&&n(4,l=_.searchPlaceholder),"searchValue"in _&&n(1,c=_.searchValue),"$$scope"in _&&n(7,s=_.$$scope)},[r,c,i,a,l,m,g,s,o,f,p,d]}class $a extends ne{constructor(e){super(),te(this,e,Ea,va,ee,{panels:2,focus:0,searchEnable:3,searchPlaceholder:4,searchValue:1})}}function Ta(t){let e,n;const o=t[4].default,s=ye(o,t,t[3],null);return{c(){e=P("div"),s&&s.c(),S(e,"data-name",t[2]),S(e,"class","config__tab-container"),$(e,"fn__none",!t[0]),$(e,"config__tab-container--top",t[1])},m(i,r){j(i,e,r),s&&s.m(e,null),n=!0},p(i,[r]){s&&s.p&&(!n||r&8)&&we(s,o,i,i[3],n?ke(o,i[3],r,null):Se(i[3]),null),(!n||r&4)&&S(e,"data-name",i[2]),(!n||r&1)&&$(e,"fn__none",!i[0]),(!n||r&2)&&$(e,"config__tab-container--top",i[1])},i(i){n||(y(s,i),n=!0)},o(i){v(s,i),n=!1},d(i){i&&N(e),s&&s.d(i)}}}function Oa(t,e,n){let{$$slots:o={},$$scope:s}=e,{display:i=!0}=e,{top:r=!0}=e,{name:a=""}=e;return t.$$set=l=>{"display"in l&&n(0,i=l.display),"top"in l&&n(1,r=l.top),"name"in l&&n(2,a=l.name),"$$scope"in l&&n(3,s=l.$$scope)},[i,r,a,s,o]}class nt extends ne{constructor(e){super(),te(this,e,Oa,Ta,ee,{display:0,top:1,name:2})}}const Aa=t=>({}),eo=t=>({}),Na=t=>({}),to=t=>({});function no(t){let e,n;const o=t[7].icon,s=ye(o,t,t[6],to);return{c(){e=P("span"),s&&s.c(),S(e,"class","item__icon")},m(i,r){j(i,e,r),s&&s.m(e,null),n=!0},p(i,r){s&&s.p&&(!n||r&64)&&we(s,o,i,i[6],n?ke(o,i[6],r,Na):Se(i[6]),to)},i(i){n||(y(s,i),n=!0)},o(i){v(s,i),n=!1},d(i){i&&N(e),s&&s.d(i)}}}function Ca(t){let e;return{c(){e=Ee("text")},m(n,o){j(n,e,o)},d(n){n&&N(e)}}}function ja(t){let e,n,o,s,i,r,a,l,c,u,m=t[0]&&t[4].icon&&no(t);const g=t[7].text,f=ye(g,t,t[6],eo),p=f||Ca();return{c(){e=P("div"),n=P("span"),o=F(),m&&m.c(),s=F(),i=P("span"),p&&p.c(),r=F(),a=P("span"),S(n,"class","fn__flex-1"),S(i,"class","item__text"),S(a,"class","fn__flex-1"),S(e,"role","button"),S(e,"data-type",t[1]),S(e,"class","item item--full"),$(e,"item--focus",t[2])},m(d,_){j(d,e,_),D(e,n),D(e,o),m&&m.m(e,null),D(e,s),D(e,i),p&&p.m(i,null),D(e,r),D(e,a),l=!0,c||(u=K(e,"click",t[3]),c=!0)},p(d,[_]){d[0]&&d[4].icon?m?(m.p(d,_),_&17&&y(m,1)):(m=no(d),m.c(),y(m,1),m.m(e,s)):m&&(le(),v(m,1,1,()=>{m=null}),ce()),f&&f.p&&(!l||_&64)&&we(f,g,d,d[6],l?ke(g,d[6],_,Aa):Se(d[6]),eo),(!l||_&2)&&S(e,"data-type",d[1]),(!l||_&4)&&$(e,"item--focus",d[2])},i(d){l||(y(m),y(p,d),l=!0)},o(d){v(m),v(p,d),l=!1},d(d){d&&N(e),m&&m.d(),p&&p.d(d),c=!1,u()}}}function Ba(t,e,n){let{$$slots:o={},$$scope:s}=e;const i=zr(o);let{key:r}=e,{icon:a}=e,{name:l=""}=e,{focus:c=!1}=e;const u=Gt();function m(){c||u("changed",{key:r})}return t.$$set=g=>{"key"in g&&n(5,r=g.key),"icon"in g&&n(0,a=g.icon),"name"in g&&n(1,l=g.name),"focus"in g&&n(2,c=g.focus),"$$scope"in g&&n(6,s=g.$$scope)},[a,l,c,m,i,r,s,o]}class Da extends ne{constructor(e){super(),te(this,e,Ba,ja,ee,{key:5,icon:0,name:1,focus:2})}}const Ra=t=>({focus:t&1}),oo=t=>({focus:t[0]});function so(t,e,n){const o=t.slice();return o[5]=e[n],o}function Pa(t){let e,n=t[5].icon+"",o;return{c(){e=new dt(!1),o=Ne(),e.a=o},m(s,i){e.m(n,s,i),j(s,o,i)},p(s,i){i&2&&n!==(n=s[5].icon+"")&&e.p(n)},i:Y,o:Y,d(s){s&&N(o),s&&e.d()}}}function Fa(t){let e,n;return e=new _t({props:{icon:t[5].icon}}),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s&2&&(i.icon=o[5].icon),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function La(t){let e,n,o,s,i,r;const a=[Fa,Pa],l=[];function c(u,m){var g;return m&2&&(n=null),n==null&&(n=!!((g=u[5].icon)!=null&&g.startsWith("#"))),n?0:u[5].icon?1:-1}return~(o=c(t,-1))&&(s=l[o]=a[o](t)),{c(){e=P("span"),s&&s.c(),i=F(),S(e,"slot","icon")},m(u,m){j(u,e,m),~o&&l[o].m(e,null),D(e,i),r=!0},p(u,m){let g=o;o=c(u,m),o===g?~o&&l[o].p(u,m):(s&&(le(),v(l[g],1,1,()=>{l[g]=null}),ce()),~o?(s=l[o],s?s.p(u,m):(s=l[o]=a[o](u),s.c()),y(s,1),s.m(e,i)):s=null)},i(u){r||(y(s),r=!0)},o(u){v(s),r=!1},d(u){u&&N(e),~o&&l[o].d()}}}function Ma(t){let e,n,o=t[5].text+"",s;return{c(){e=P("span"),n=new dt(!1),s=F(),n.a=s,S(e,"slot","text")},m(i,r){j(i,e,r),n.m(o,e),D(e,s)},p(i,r){r&2&&o!==(o=i[5].text+"")&&n.p(o)},d(i){i&&N(e)}}}function io(t,e){let n,o,s;return o=new Da({props:{key:e[5].key,icon:!!e[5].icon,name:e[5].name,focus:e[5].key===e[0],$$slots:{text:[Ma],icon:[La]},$$scope:{ctx:e}}}),o.$on("changed",e[2]),{key:t,first:null,c(){n=Ne(),A(o.$$.fragment),this.first=n},m(i,r){j(i,n,r),T(o,i,r),s=!0},p(i,r){e=i;const a={};r&2&&(a.key=e[5].key),r&2&&(a.icon=!!e[5].icon),r&2&&(a.name=e[5].name),r&3&&(a.focus=e[5].key===e[0]),r&18&&(a.$$scope={dirty:r,ctx:e}),o.$set(a)},i(i){s||(y(o.$$.fragment,i),s=!0)},o(i){v(o.$$.fragment,i),s=!1},d(i){i&&N(n),O(o,i)}}}function qa(t){let e;return{c(){e=Ee("Container")},m(n,o){j(n,e,o)},d(n){n&&N(e)}}}function Ia(t){let e,n,o=[],s=new Map,i,r,a,l=t[1];const c=f=>f[5].key;for(let f=0;f<l.length;f+=1){let p=so(t,l,f),d=c(p);s.set(d,o[f]=io(d,p))}const u=t[3].default,m=ye(u,t,t[4],oo),g=m||qa();return{c(){e=P("div"),n=P("div");for(let f=0;f<o.length;f+=1)o[f].c();i=F(),r=P("div"),g&&g.c(),S(n,"class","layout-tab-bar fn__flex"),S(r,"class","fn__flex-1"),S(e,"class","fn__flex-column"),_e(e,"height","100%")},m(f,p){j(f,e,p),D(e,n);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(n,null);D(e,i),D(e,r),g&&g.m(r,null),a=!0},p(f,[p]){p&7&&(l=f[1],le(),o=gt(o,p,c,1,f,l,s,n,Kt,io,null,so),ce()),m&&m.p&&(!a||p&17)&&we(m,u,f,f[4],a?ke(u,f[4],p,Ra):Se(f[4]),oo)},i(f){if(!a){for(let p=0;p<l.length;p+=1)y(o[p]);y(g,f),a=!0}},o(f){for(let p=0;p<o.length;p+=1)v(o[p]);v(g,f),a=!1},d(f){f&&N(e);for(let p=0;p<o.length;p+=1)o[p].d();g&&g.d(f)}}}function Ua(t,e,n){let{$$slots:o={},$$scope:s}=e,{tabs:i}=e,{focus:r}=e;function a(l){n(0,r=l.detail.key)}return t.$$set=l=>{"tabs"in l&&n(1,i=l.tabs),"focus"in l&&n(0,r=l.focus),"$$scope"in l&&n(4,s=l.$$scope)},[r,i,a,o,s]}class Ha extends ne{constructor(e){super(),te(this,e,Ua,Ia,ee,{tabs:1,focus:0})}}const Va=t=>({}),ro=t=>({}),za=t=>({}),ao=t=>({}),Ga=t=>({}),lo=t=>({}),Ka=t=>({}),co=t=>({});function Wa(t){let e,n;return{c(){e=new dt(!1),n=Ne(),e.a=n},m(o,s){e.m(t[0],o,s),j(o,n,s)},p(o,s){s&1&&e.p(o[0])},d(o){o&&N(n),o&&e.d()}}}function Ja(t){let e,n;return{c(){e=new dt(!1),n=Ne(),e.a=n},m(o,s){e.m(t[1],o,s),j(o,n,s)},p(o,s){s&2&&e.p(o[1])},d(o){o&&N(n),o&&e.d()}}}function uo(t){let e,n,o;const s=t[4].input,i=ye(s,t,t[3],ao);return{c(){e=P("div"),n=F(),i&&i.c(),S(e,"class","fn__hr")},m(r,a){j(r,e,a),j(r,n,a),i&&i.m(r,a),o=!0},p(r,a){i&&i.p&&(!o||a&8)&&we(i,s,r,r[3],o?ke(s,r[3],a,za):Se(r[3]),ao)},i(r){o||(y(i,r),o=!0)},o(r){v(i,r),o=!1},d(r){r&&N(e),r&&N(n),i&&i.d(r)}}}function fo(t){let e,n,o;const s=t[4].input,i=ye(s,t,t[3],ro);return{c(){e=P("span"),n=F(),i&&i.c(),S(e,"class","fn__space")},m(r,a){j(r,e,a),j(r,n,a),i&&i.m(r,a),o=!0},p(r,a){i&&i.p&&(!o||a&8)&&we(i,s,r,r[3],o?ke(s,r[3],a,Va):Se(r[3]),ro)},i(r){o||(y(i,r),o=!0)},o(r){v(i,r),o=!1},d(r){r&&N(e),r&&N(n),i&&i.d(r)}}}function Ya(t){let e,n,o,s,i,r,a;const l=t[4].title,c=ye(l,t,t[3],co),u=c||Wa(t),m=t[4].text,g=ye(m,t,t[3],lo),f=g||Ja(t);let p=t[2]&&uo(t),d=!t[2]&&fo(t);return{c(){e=P("label"),n=P("div"),u&&u.c(),o=F(),s=P("div"),f&&f.c(),i=F(),p&&p.c(),r=F(),d&&d.c(),S(s,"class","b3-label__text"),S(n,"class","fn__flex-1 svelte-2m76cy"),$(n,"visible",t[2]),S(e,"class","fn__flex b3-label")},m(_,B){j(_,e,B),D(e,n),u&&u.m(n,null),D(n,o),D(n,s),f&&f.m(s,null),D(n,i),p&&p.m(n,null),D(e,r),d&&d.m(e,null),a=!0},p(_,[B]){c?c.p&&(!a||B&8)&&we(c,l,_,_[3],a?ke(l,_[3],B,Ka):Se(_[3]),co):u&&u.p&&(!a||B&1)&&u.p(_,a?B:-1),g?g.p&&(!a||B&8)&&we(g,m,_,_[3],a?ke(m,_[3],B,Ga):Se(_[3]),lo):f&&f.p&&(!a||B&2)&&f.p(_,a?B:-1),_[2]?p?(p.p(_,B),B&4&&y(p,1)):(p=uo(_),p.c(),y(p,1),p.m(n,null)):p&&(le(),v(p,1,1,()=>{p=null}),ce()),(!a||B&4)&&$(n,"visible",_[2]),_[2]?d&&(le(),v(d,1,1,()=>{d=null}),ce()):d?(d.p(_,B),B&4&&y(d,1)):(d=fo(_),d.c(),y(d,1),d.m(e,null))},i(_){a||(y(u,_),y(f,_),y(p),y(d),a=!0)},o(_){v(u,_),v(f,_),v(p),v(d),a=!1},d(_){_&&N(e),u&&u.d(_),f&&f.d(_),p&&p.d(),d&&d.d()}}}function Qa(t,e,n){let{$$slots:o={},$$scope:s}=e,{title:i=""}=e,{text:r=""}=e,{block:a=!1}=e;return t.$$set=l=>{"title"in l&&n(0,i=l.title),"text"in l&&n(1,r=l.text),"block"in l&&n(2,a=l.block),"$$scope"in l&&n(3,s=l.$$scope)},[i,r,a,s,o]}class H extends ne{constructor(e){super(),te(this,e,Qa,Ya,ee,{title:0,text:1,block:2})}}var I=(t=>(t[t.checkbox=0]="checkbox",t[t.text=1]="text",t[t.number=2]="number",t[t.slider=3]="slider",t[t.button=4]="button",t[t.select=5]="select",t[t.textarea=6]="textarea",t))(I||{});function po(t,e,n){const o=t.slice();return o[20]=e[n],o}function Xa(t){let e,n,o;return{c(){e=P("textarea"),e.disabled=t[2],S(e,"class","b3-text-field"),S(e,"placeholder",t[5]),$(e,"fn__block",t[3]),$(e,"fn__size200",!t[3]&&t[4]),_e(e,"height",t[8]>0?`${t[8]}px`:void 0),_e(e,"font-family",t[9]?t[9]:void 0)},m(s,i){j(s,e,i),ae(e,t[0]),n||(o=[K(e,"input",t[18]),K(e,"change",t[11])],n=!0)},p(s,i){i&4&&(e.disabled=s[2]),i&32&&S(e,"placeholder",s[5]),i&65&&ae(e,s[0]),i&8&&$(e,"fn__block",s[3]),i&24&&$(e,"fn__size200",!s[3]&&s[4]),i&256&&_e(e,"height",s[8]>0?`${s[8]}px`:void 0),i&512&&_e(e,"font-family",s[9]?s[9]:void 0)},d(s){s&&N(e),n=!1,Q(o)}}}function Za(t){let e,n=[],o=new Map,s,i,r=t[6];const a=l=>l[20].key;for(let l=0;l<r.length;l+=1){let c=po(t,r,l),u=a(c);o.set(u,n[l]=ho(u,c))}return{c(){e=P("select");for(let l=0;l<n.length;l+=1)n[l].c();e.disabled=t[2],S(e,"class","b3-select"),t[0]===void 0&&ct(()=>t[17].call(e)),$(e,"fn__block",t[3]),$(e,"fn__size200",!t[3]&&t[4]),$(e,"fn__flex-center",!t[3])},m(l,c){j(l,e,c);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);qn(e,t[0],!0),s||(i=[K(e,"change",t[17]),K(e,"change",t[11])],s=!0)},p(l,c){c&64&&(r=l[6],n=gt(n,c,a,1,l,r,o,e,xr,ho,null,po)),c&4&&(e.disabled=l[2]),c&65&&qn(e,l[0]),c&8&&$(e,"fn__block",l[3]),c&24&&$(e,"fn__size200",!l[3]&&l[4]),c&8&&$(e,"fn__flex-center",!l[3])},d(l){l&&N(e);for(let c=0;c<n.length;c+=1)n[c].d();s=!1,Q(i)}}}function xa(t){let e,n,o,s;return{c(){e=P("button"),n=Ee(t[0]),e.disabled=t[2],S(e,"class","b3-button b3-button--outline"),$(e,"fn__block",t[3]),$(e,"fn__size200",!t[3]&&t[4]),$(e,"fn__flex-center",!t[3])},m(i,r){j(i,e,r),D(e,n),o||(s=K(e,"click",t[10]),o=!0)},p(i,r){r&1&&zt(n,i[0]),r&4&&(e.disabled=i[2]),r&8&&$(e,"fn__block",i[3]),r&24&&$(e,"fn__size200",!i[3]&&i[4]),r&8&&$(e,"fn__flex-center",!i[3])},d(i){i&&N(e),o=!1,s()}}}function el(t){let e,n,o,s,i,r;return{c(){e=P("input"),e.disabled=t[2],S(e,"class","b3-slider svelte-edt8og"),S(e,"type","range"),S(e,"min",n=t[7].min),S(e,"max",o=t[7].max),S(e,"step",s=t[7].step),$(e,"fn__block",t[3]),$(e,"fn__size200",!t[3]&&t[4])},m(a,l){j(a,e,l),ae(e,t[0]),i||(r=[K(e,"change",t[16]),K(e,"input",t[16]),K(e,"change",t[11])],i=!0)},p(a,l){l&4&&(e.disabled=a[2]),l&128&&n!==(n=a[7].min)&&S(e,"min",n),l&128&&o!==(o=a[7].max)&&S(e,"max",o),l&128&&s!==(s=a[7].step)&&S(e,"step",s),l&65&&ae(e,a[0]),l&8&&$(e,"fn__block",a[3]),l&24&&$(e,"fn__size200",!a[3]&&a[4])},d(a){a&&N(e),i=!1,Q(r)}}}function tl(t){let e,n,o,s,i,r;return{c(){e=P("input"),e.disabled=t[2],S(e,"class","b3-text-field"),S(e,"type","number"),S(e,"placeholder",t[5]),S(e,"min",n=t[7].min),S(e,"max",o=t[7].max),S(e,"step",s=t[7].step),$(e,"fn__block",t[3]),$(e,"fn__size200",!t[3]&&t[4]),$(e,"fn__flex-center",!t[3])},m(a,l){j(a,e,l),ae(e,t[0]),i||(r=[K(e,"input",t[15]),K(e,"change",t[11])],i=!0)},p(a,l){l&4&&(e.disabled=a[2]),l&32&&S(e,"placeholder",a[5]),l&128&&n!==(n=a[7].min)&&S(e,"min",n),l&128&&o!==(o=a[7].max)&&S(e,"max",o),l&128&&s!==(s=a[7].step)&&S(e,"step",s),l&65&&Dt(e.value)!==a[0]&&ae(e,a[0]),l&8&&$(e,"fn__block",a[3]),l&24&&$(e,"fn__size200",!a[3]&&a[4]),l&8&&$(e,"fn__flex-center",!a[3])},d(a){a&&N(e),i=!1,Q(r)}}}function nl(t){let e,n,o;return{c(){e=P("input"),e.disabled=t[2],S(e,"class","b3-text-field"),S(e,"placeholder",t[5]),$(e,"fn__block",t[3]),$(e,"fn__size200",!t[3]&&t[4]),$(e,"fn__flex-center",!t[3])},m(s,i){j(s,e,i),ae(e,t[0]),n||(o=[K(e,"input",t[14]),K(e,"change",t[11])],n=!0)},p(s,i){i&4&&(e.disabled=s[2]),i&32&&S(e,"placeholder",s[5]),i&65&&e.value!==s[0]&&ae(e,s[0]),i&8&&$(e,"fn__block",s[3]),i&24&&$(e,"fn__size200",!s[3]&&s[4]),i&8&&$(e,"fn__flex-center",!s[3])},d(s){s&&N(e),n=!1,Q(o)}}}function ol(t){let e,n,o;return{c(){e=P("input"),e.disabled=t[2],S(e,"class","b3-switch svelte-edt8og"),S(e,"type","checkbox"),$(e,"fn__block",t[3]),$(e,"fn__flex-center",!t[3])},m(s,i){j(s,e,i),e.checked=t[0],n||(o=[K(e,"change",t[13]),K(e,"change",t[11])],n=!0)},p(s,i){i&4&&(e.disabled=s[2]),i&65&&(e.checked=s[0]),i&8&&$(e,"fn__block",s[3]),i&8&&$(e,"fn__flex-center",!s[3])},d(s){s&&N(e),n=!1,Q(o)}}}function ho(t,e){let n,o=e[20].text+"",s,i;return{key:t,first:null,c(){n=P("option"),s=Ee(o),n.__value=i=e[20].key,n.value=n.__value,this.first=n},m(r,a){j(r,n,a),D(n,s)},p(r,a){e=r,a&64&&o!==(o=e[20].text+"")&&zt(s,o),a&64&&i!==(i=e[20].key)&&(n.__value=i,n.value=n.__value)},d(r){r&&N(n)}}}function sl(t){let e;function n(i,r){if(i[1]===I.checkbox)return ol;if(i[1]===I.text)return nl;if(i[1]===I.number)return tl;if(i[1]===I.slider)return el;if(i[1]===I.button)return xa;if(i[1]===I.select)return Za;if(i[1]===I.textarea)return Xa}let o=n(t),s=o&&o(t);return{c(){s&&s.c(),e=Ne()},m(i,r){s&&s.m(i,r),j(i,e,r)},p(i,[r]){o===(o=n(i))&&s?s.p(i,r):(s&&s.d(1),s=o&&o(i),s&&(s.c(),s.m(e.parentNode,e)))},i:Y,o:Y,d(i){s&&s.d(i),i&&N(e)}}}function il(t,e,n){let{type:o}=e,{settingKey:s}=e,{settingValue:i}=e,{disabled:r=!1}=e,{block:a=!1}=e,{normal:l=!0}=e,{placeholder:c=""}=e,{options:u=[]}=e,{limits:m={min:0,max:100,step:1}}=e,{height:g=0}=e,{fontFamily:f=""}=e;const p=Gt();function d(C){p("clicked",{event:C})}function _(C){p("changed",{key:s,value:i,event:C})}function B(){i=this.checked,n(0,i),n(6,u)}function z(){i=this.value,n(0,i),n(6,u)}function U(){i=Dt(this.value),n(0,i),n(6,u)}function q(){i=Dt(this.value),n(0,i),n(6,u)}function R(){i=Kr(this),n(0,i),n(6,u)}function L(){i=this.value,n(0,i),n(6,u)}return t.$$set=C=>{"type"in C&&n(1,o=C.type),"settingKey"in C&&n(12,s=C.settingKey),"settingValue"in C&&n(0,i=C.settingValue),"disabled"in C&&n(2,r=C.disabled),"block"in C&&n(3,a=C.block),"normal"in C&&n(4,l=C.normal),"placeholder"in C&&n(5,c=C.placeholder),"options"in C&&n(6,u=C.options),"limits"in C&&n(7,m=C.limits),"height"in C&&n(8,g=C.height),"fontFamily"in C&&n(9,f=C.fontFamily)},[i,o,r,a,l,c,u,m,g,f,d,_,s,B,z,U,q,R,L]}class V extends ne{constructor(e){super(),te(this,e,il,sl,ee,{type:1,settingKey:12,settingValue:0,disabled:2,block:3,normal:4,placeholder:5,options:6,limits:7,height:8,fontFamily:9})}}function rl(t){let e,n;return e=new V({props:{slot:"input",type:I.button,settingKey:"Reset",settingValue:t[3].settings.generalSettings.reset.text}}),e.$on("clicked",t[5]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p:Y,i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function al(t){let e,n;return e=new V({props:{slot:"input",type:I.button,settingKey:"showSystemFonts",settingValue:t[3].settings.generalSettings.showSystemFonts.text}}),e.$on("clicked",t[8]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p:Y,i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function ll(t){let e,n;return e=new V({props:{slot:"input",type:I.button,settingKey:"showSystemFonts",settingValue:t[3].settings.generalSettings.showUsableFonts.text}}),e.$on("clicked",t[9]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p:Y,i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function cl(t){let e,n,o,s,i,r;return e=new H({props:{title:t[3].settings.generalSettings.reset.title,text:t[3].settings.generalSettings.reset.description,$$slots:{input:[rl]},$$scope:{ctx:t}}}),o=new H({props:{title:t[3].settings.generalSettings.showSystemFonts.title,text:t[3].settings.generalSettings.showSystemFonts.description,$$slots:{input:[al]},$$scope:{ctx:t}}}),i=new H({props:{title:t[3].settings.generalSettings.showUsableFonts.title,text:t[3].settings.generalSettings.showUsableFonts.description,$$slots:{input:[ll]},$$scope:{ctx:t}}}),{c(){A(e.$$.fragment),n=F(),A(o.$$.fragment),s=F(),A(i.$$.fragment)},m(a,l){T(e,a,l),j(a,n,l),T(o,a,l),j(a,s,l),T(i,a,l),r=!0},p(a,l){const c={};l[1]&16&&(c.$$scope={dirty:l,ctx:a}),e.$set(c);const u={};l[0]&2|l[1]&16&&(u.$$scope={dirty:l,ctx:a}),o.$set(u);const m={};l[0]&2|l[1]&16&&(m.$$scope={dirty:l,ctx:a}),i.$set(m)},i(a){r||(y(e.$$.fragment,a),y(o.$$.fragment,a),y(i.$$.fragment,a),r=!0)},o(a){v(e.$$.fragment,a),v(o.$$.fragment,a),v(i.$$.fragment,a),r=!1},d(a){O(e,a),a&&N(n),O(o,a),a&&N(s),O(i,a)}}}function ul(t){let e,n;return e=new V({props:{slot:"input",type:I.checkbox,settingKey:"enable",settingValue:t[0].css.enable}}),e.$on("changed",t[10]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&1&&(i.settingValue=o[0].css.enable),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function fl(t){let e,n;return e=new V({props:{slot:"input",block:!0,type:I.textarea,height:t[2],settingKey:"code",settingValue:t[0].css.code,placeholder:t[3].settings.cssSettings.snippet.placeholder}}),e.$on("changed",t[11]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&4&&(i.height=o[2]),s[0]&1&&(i.settingValue=o[0].css.code),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function pl(t){let e,n,o,s;return e=new H({props:{title:t[3].settings.cssSettings.enable.title,text:t[3].settings.cssSettings.enable.description,$$slots:{input:[ul]},$$scope:{ctx:t}}}),o=new H({props:{block:!0,title:t[3].settings.cssSettings.snippet.title,text:t[3].settings.cssSettings.snippet.description,$$slots:{input:[fl]},$$scope:{ctx:t}}}),{c(){A(e.$$.fragment),n=F(),A(o.$$.fragment)},m(i,r){T(e,i,r),j(i,n,r),T(o,i,r),s=!0},p(i,r){const a={};r[0]&1|r[1]&16&&(a.$$scope={dirty:r,ctx:i}),e.$set(a);const l={};r[0]&5|r[1]&16&&(l.$$scope={dirty:r,ctx:i}),o.$set(l)},i(i){s||(y(e.$$.fragment,i),y(o.$$.fragment,i),s=!0)},o(i){v(e.$$.fragment,i),v(o.$$.fragment,i),s=!1},d(i){O(e,i),i&&N(n),O(o,i)}}}function hl(t){let e,n;return e=new V({props:{slot:"input",type:I.checkbox,settingKey:"enable",settingValue:t[0].fonts.base.enable}}),e.$on("changed",t[12]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&1&&(i.settingValue=o[0].fonts.base.enable),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function ml(t){let e,n;return e=new V({props:{slot:"input",block:!0,type:I.textarea,fontFamily:Ll,settingKey:"preview",settingValue:t[0].fonts.base.preview,placeholder:t[3].settings.fontsSettings.preview.placeholder}}),e.$on("changed",t[13]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&1&&(i.settingValue=o[0].fonts.base.preview),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function dl(t){let e,n;return e=new V({props:{slot:"input",block:!0,type:I.textarea,height:t[2],settingKey:"list",settingValue:t[0].fonts.base.list.join(`
`),placeholder:t[3].settings.fontsSettings.base.fontsList.placeholder}}),e.$on("changed",t[14]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&4&&(i.height=o[2]),s[0]&1&&(i.settingValue=o[0].fonts.base.list.join(`
`)),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function gl(t){let e,n;return e=new V({props:{slot:"input",type:I.checkbox,settingKey:"enable",settingValue:t[0].fonts.editor.enable}}),e.$on("changed",t[15]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&1&&(i.settingValue=o[0].fonts.editor.enable),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function _l(t){let e,n;return e=new V({props:{slot:"input",block:!0,type:I.textarea,fontFamily:Ml,settingKey:"preview",settingValue:t[0].fonts.editor.preview,placeholder:t[3].settings.fontsSettings.preview.placeholder}}),e.$on("changed",t[16]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&1&&(i.settingValue=o[0].fonts.editor.preview),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function bl(t){let e,n;return e=new V({props:{slot:"input",block:!0,type:I.textarea,height:t[2],settingKey:"list",settingValue:t[0].fonts.editor.list.join(`
`),placeholder:t[3].settings.fontsSettings.editor.fontsList.placeholder}}),e.$on("changed",t[17]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&4&&(i.height=o[2]),s[0]&1&&(i.settingValue=o[0].fonts.editor.list.join(`
`)),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function yl(t){let e,n;return e=new V({props:{slot:"input",type:I.checkbox,settingKey:"enable",settingValue:t[0].fonts.code.enable}}),e.$on("changed",t[18]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&1&&(i.settingValue=o[0].fonts.code.enable),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function kl(t){let e,n;return e=new V({props:{slot:"input",block:!0,type:I.textarea,fontFamily:ql,settingKey:"preview",settingValue:t[0].fonts.code.preview,placeholder:t[3].settings.fontsSettings.preview.placeholder}}),e.$on("changed",t[19]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&1&&(i.settingValue=o[0].fonts.code.preview),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function wl(t){let e,n;return e=new V({props:{slot:"input",block:!0,type:I.textarea,height:t[2],settingKey:"list",settingValue:t[0].fonts.code.list.join(`
`),placeholder:t[3].settings.fontsSettings.code.fontsList.placeholder}}),e.$on("changed",t[20]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&4&&(i.height=o[2]),s[0]&1&&(i.settingValue=o[0].fonts.code.list.join(`
`)),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Sl(t){let e,n;return e=new V({props:{slot:"input",type:I.checkbox,settingKey:"enable",settingValue:t[0].fonts.graph.enable}}),e.$on("changed",t[21]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&1&&(i.settingValue=o[0].fonts.graph.enable),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function vl(t){let e,n;return e=new V({props:{slot:"input",block:!0,type:I.textarea,fontFamily:Il,settingKey:"preview",settingValue:t[0].fonts.graph.preview,placeholder:t[3].settings.fontsSettings.preview.placeholder}}),e.$on("changed",t[22]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&1&&(i.settingValue=o[0].fonts.graph.preview),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function El(t){let e,n;return e=new V({props:{slot:"input",block:!0,type:I.textarea,height:t[2],settingKey:"list",settingValue:t[0].fonts.graph.list.join(`
`),placeholder:t[3].settings.fontsSettings.graph.fontsList.placeholder}}),e.$on("changed",t[23]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&4&&(i.height=o[2]),s[0]&1&&(i.settingValue=o[0].fonts.graph.list.join(`
`)),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function $l(t){let e,n;return e=new V({props:{slot:"input",type:I.checkbox,settingKey:"enable",settingValue:t[0].fonts.math.enable}}),e.$on("changed",t[24]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&1&&(i.settingValue=o[0].fonts.math.enable),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Tl(t){let e,n;return e=new V({props:{slot:"input",block:!0,type:I.textarea,fontFamily:Ul,settingKey:"preview",settingValue:t[0].fonts.math.preview,placeholder:t[3].settings.fontsSettings.preview.placeholder}}),e.$on("changed",t[25]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&1&&(i.settingValue=o[0].fonts.math.preview),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Ol(t){let e,n;return e=new V({props:{slot:"input",block:!0,type:I.textarea,height:t[2],settingKey:"list",settingValue:t[0].fonts.math.list.join(`
`),placeholder:t[3].settings.fontsSettings.math.fontsList.placeholder}}),e.$on("changed",t[26]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&4&&(i.height=o[2]),s[0]&1&&(i.settingValue=o[0].fonts.math.list.join(`
`)),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Al(t){let e,n;return e=new V({props:{slot:"input",type:I.checkbox,settingKey:"enable",settingValue:t[0].fonts.emoji.enable}}),e.$on("changed",t[27]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&1&&(i.settingValue=o[0].fonts.emoji.enable),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Nl(t){let e,n;return e=new V({props:{slot:"input",block:!0,type:I.textarea,fontFamily:Hl,settingKey:"preview",settingValue:t[0].fonts.emoji.preview,placeholder:t[3].settings.fontsSettings.preview.placeholder}}),e.$on("changed",t[28]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&1&&(i.settingValue=o[0].fonts.emoji.preview),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Cl(t){let e,n;return e=new V({props:{slot:"input",block:!0,type:I.textarea,height:t[2],settingKey:"list",settingValue:t[0].fonts.emoji.list.join(`
`),placeholder:t[3].settings.fontsSettings.emoji.fontsList.placeholder}}),e.$on("changed",t[29]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&4&&(i.height=o[2]),s[0]&1&&(i.settingValue=o[0].fonts.emoji.list.join(`
`)),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function jl(t){let e,n,o,s,i,r,a,l,c,u,m,g,f,p,d,_,B,z,U,q,R,L,C,J,G,fe,pe,qe,X,he,Ze,me,xe,de,Ie,w,$e,Wt,Te,Jt,Oe,oe;return n=new H({props:{title:t[3].settings.fontsSettings.base.enable.title,text:t[3].settings.fontsSettings.base.enable.description,$$slots:{input:[hl]},$$scope:{ctx:t}}}),s=new H({props:{block:!0,title:t[3].settings.fontsSettings.preview.title,text:t[3].settings.fontsSettings.preview.description,$$slots:{input:[ml]},$$scope:{ctx:t}}}),r=new H({props:{block:!0,title:t[3].settings.fontsSettings.base.fontsList.title,text:t[3].settings.fontsSettings.base.fontsList.description,$$slots:{input:[dl]},$$scope:{ctx:t}}}),c=new H({props:{title:t[3].settings.fontsSettings.editor.enable.title,text:t[3].settings.fontsSettings.editor.enable.description,$$slots:{input:[gl]},$$scope:{ctx:t}}}),m=new H({props:{block:!0,title:t[3].settings.fontsSettings.preview.title,text:t[3].settings.fontsSettings.preview.description,$$slots:{input:[_l]},$$scope:{ctx:t}}}),f=new H({props:{block:!0,title:t[3].settings.fontsSettings.editor.fontsList.title,text:t[3].settings.fontsSettings.editor.fontsList.description,$$slots:{input:[bl]},$$scope:{ctx:t}}}),_=new H({props:{title:t[3].settings.fontsSettings.code.enable.title,text:t[3].settings.fontsSettings.code.enable.description,$$slots:{input:[yl]},$$scope:{ctx:t}}}),z=new H({props:{block:!0,title:t[3].settings.fontsSettings.preview.title,text:t[3].settings.fontsSettings.preview.description,$$slots:{input:[kl]},$$scope:{ctx:t}}}),q=new H({props:{block:!0,title:t[3].settings.fontsSettings.code.fontsList.title,text:t[3].settings.fontsSettings.code.fontsList.description,$$slots:{input:[wl]},$$scope:{ctx:t}}}),C=new H({props:{title:t[3].settings.fontsSettings.graph.enable.title,text:t[3].settings.fontsSettings.graph.enable.description,$$slots:{input:[Sl]},$$scope:{ctx:t}}}),G=new H({props:{block:!0,title:t[3].settings.fontsSettings.preview.title,text:t[3].settings.fontsSettings.preview.description,$$slots:{input:[vl]},$$scope:{ctx:t}}}),pe=new H({props:{block:!0,title:t[3].settings.fontsSettings.graph.fontsList.title,text:t[3].settings.fontsSettings.graph.fontsList.description,$$slots:{input:[El]},$$scope:{ctx:t}}}),he=new H({props:{title:t[3].settings.fontsSettings.math.enable.title,text:t[3].settings.fontsSettings.math.enable.description,$$slots:{input:[$l]},$$scope:{ctx:t}}}),me=new H({props:{block:!0,title:t[3].settings.fontsSettings.preview.title,text:t[3].settings.fontsSettings.preview.description,$$slots:{input:[Tl]},$$scope:{ctx:t}}}),de=new H({props:{block:!0,title:t[3].settings.fontsSettings.math.fontsList.title,text:t[3].settings.fontsSettings.math.fontsList.description,$$slots:{input:[Ol]},$$scope:{ctx:t}}}),$e=new H({props:{title:t[3].settings.fontsSettings.emoji.enable.title,text:t[3].settings.fontsSettings.emoji.enable.description,$$slots:{input:[Al]},$$scope:{ctx:t}}}),Te=new H({props:{block:!0,title:t[3].settings.fontsSettings.preview.title,text:t[3].settings.fontsSettings.preview.description,$$slots:{input:[Nl]},$$scope:{ctx:t}}}),Oe=new H({props:{block:!0,title:t[3].settings.fontsSettings.emoji.fontsList.title,text:t[3].settings.fontsSettings.emoji.fontsList.description,$$slots:{input:[Cl]},$$scope:{ctx:t}}}),{c(){e=P("div"),A(n.$$.fragment),o=F(),A(s.$$.fragment),i=F(),A(r.$$.fragment),a=F(),l=P("div"),A(c.$$.fragment),u=F(),A(m.$$.fragment),g=F(),A(f.$$.fragment),p=F(),d=P("div"),A(_.$$.fragment),B=F(),A(z.$$.fragment),U=F(),A(q.$$.fragment),R=F(),L=P("div"),A(C.$$.fragment),J=F(),A(G.$$.fragment),fe=F(),A(pe.$$.fragment),qe=F(),X=P("div"),A(he.$$.fragment),Ze=F(),A(me.$$.fragment),xe=F(),A(de.$$.fragment),Ie=F(),w=P("div"),A($e.$$.fragment),Wt=F(),A(Te.$$.fragment),Jt=F(),A(Oe.$$.fragment),S(e,"data-type",t[7].fonts[0].name),$(e,"fn__none",t[7].fonts[0].key!==t[34]),S(l,"data-type",t[7].fonts[1].name),$(l,"fn__none",t[7].fonts[1].key!==t[34]),S(d,"data-type",t[7].fonts[2].name),$(d,"fn__none",t[7].fonts[2].key!==t[34]),S(L,"data-type",t[7].fonts[3].name),$(L,"fn__none",t[7].fonts[3].key!==t[34]),S(X,"data-type",t[7].fonts[4].name),$(X,"fn__none",t[7].fonts[4].key!==t[34]),S(w,"data-type",t[7].fonts[5].name),$(w,"fn__none",t[7].fonts[5].key!==t[34])},m(k,E){j(k,e,E),T(n,e,null),D(e,o),T(s,e,null),D(e,i),T(r,e,null),j(k,a,E),j(k,l,E),T(c,l,null),D(l,u),T(m,l,null),D(l,g),T(f,l,null),j(k,p,E),j(k,d,E),T(_,d,null),D(d,B),T(z,d,null),D(d,U),T(q,d,null),j(k,R,E),j(k,L,E),T(C,L,null),D(L,J),T(G,L,null),D(L,fe),T(pe,L,null),j(k,qe,E),j(k,X,E),T(he,X,null),D(X,Ze),T(me,X,null),D(X,xe),T(de,X,null),j(k,Ie,E),j(k,w,E),T($e,w,null),D(w,Wt),T(Te,w,null),D(w,Jt),T(Oe,w,null),oe=!0},p(k,E){const Yt={};E[0]&1|E[1]&16&&(Yt.$$scope={dirty:E,ctx:k}),n.$set(Yt);const Qt={};E[0]&1|E[1]&16&&(Qt.$$scope={dirty:E,ctx:k}),s.$set(Qt);const Xt={};E[0]&5|E[1]&16&&(Xt.$$scope={dirty:E,ctx:k}),r.$set(Xt),(!oe||E[0]&128|E[1]&8)&&$(e,"fn__none",k[7].fonts[0].key!==k[34]);const Zt={};E[0]&1|E[1]&16&&(Zt.$$scope={dirty:E,ctx:k}),c.$set(Zt);const xt={};E[0]&1|E[1]&16&&(xt.$$scope={dirty:E,ctx:k}),m.$set(xt);const en={};E[0]&5|E[1]&16&&(en.$$scope={dirty:E,ctx:k}),f.$set(en),(!oe||E[0]&128|E[1]&8)&&$(l,"fn__none",k[7].fonts[1].key!==k[34]);const tn={};E[0]&1|E[1]&16&&(tn.$$scope={dirty:E,ctx:k}),_.$set(tn);const nn={};E[0]&1|E[1]&16&&(nn.$$scope={dirty:E,ctx:k}),z.$set(nn);const on={};E[0]&5|E[1]&16&&(on.$$scope={dirty:E,ctx:k}),q.$set(on),(!oe||E[0]&128|E[1]&8)&&$(d,"fn__none",k[7].fonts[2].key!==k[34]);const sn={};E[0]&1|E[1]&16&&(sn.$$scope={dirty:E,ctx:k}),C.$set(sn);const rn={};E[0]&1|E[1]&16&&(rn.$$scope={dirty:E,ctx:k}),G.$set(rn);const an={};E[0]&5|E[1]&16&&(an.$$scope={dirty:E,ctx:k}),pe.$set(an),(!oe||E[0]&128|E[1]&8)&&$(L,"fn__none",k[7].fonts[3].key!==k[34]);const ln={};E[0]&1|E[1]&16&&(ln.$$scope={dirty:E,ctx:k}),he.$set(ln);const cn={};E[0]&1|E[1]&16&&(cn.$$scope={dirty:E,ctx:k}),me.$set(cn);const un={};E[0]&5|E[1]&16&&(un.$$scope={dirty:E,ctx:k}),de.$set(un),(!oe||E[0]&128|E[1]&8)&&$(X,"fn__none",k[7].fonts[4].key!==k[34]);const fn={};E[0]&1|E[1]&16&&(fn.$$scope={dirty:E,ctx:k}),$e.$set(fn);const pn={};E[0]&1|E[1]&16&&(pn.$$scope={dirty:E,ctx:k}),Te.$set(pn);const hn={};E[0]&5|E[1]&16&&(hn.$$scope={dirty:E,ctx:k}),Oe.$set(hn),(!oe||E[0]&128|E[1]&8)&&$(w,"fn__none",k[7].fonts[5].key!==k[34])},i(k){oe||(y(n.$$.fragment,k),y(s.$$.fragment,k),y(r.$$.fragment,k),y(c.$$.fragment,k),y(m.$$.fragment,k),y(f.$$.fragment,k),y(_.$$.fragment,k),y(z.$$.fragment,k),y(q.$$.fragment,k),y(C.$$.fragment,k),y(G.$$.fragment,k),y(pe.$$.fragment,k),y(he.$$.fragment,k),y(me.$$.fragment,k),y(de.$$.fragment,k),y($e.$$.fragment,k),y(Te.$$.fragment,k),y(Oe.$$.fragment,k),oe=!0)},o(k){v(n.$$.fragment,k),v(s.$$.fragment,k),v(r.$$.fragment,k),v(c.$$.fragment,k),v(m.$$.fragment,k),v(f.$$.fragment,k),v(_.$$.fragment,k),v(z.$$.fragment,k),v(q.$$.fragment,k),v(C.$$.fragment,k),v(G.$$.fragment,k),v(pe.$$.fragment,k),v(he.$$.fragment,k),v(me.$$.fragment,k),v(de.$$.fragment,k),v($e.$$.fragment,k),v(Te.$$.fragment,k),v(Oe.$$.fragment,k),oe=!1},d(k){k&&N(e),O(n),O(s),O(r),k&&N(a),k&&N(l),O(c),O(m),O(f),k&&N(p),k&&N(d),O(_),O(z),O(q),k&&N(R),k&&N(L),O(C),O(G),O(pe),k&&N(qe),k&&N(X),O(he),O(me),O(de),k&&N(Ie),k&&N(w),O($e),O(Te),O(Oe)}}}function Bl(t){let e,n;return e=new Ha({props:{focus:zl,tabs:t[7].fonts,$$slots:{default:[jl,({focus:o})=>({34:o}),({focus:o})=>[0,o?8:0]]},$$scope:{ctx:t}}}),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&5|s[1]&24&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Dl(t){let e,n;return e=new V({props:{slot:"input",block:!0,type:I.textarea,height:t[2],settingKey:"list",settingValue:t[0].menu.block.list.join(`
`),placeholder:t[3].settings.menuSettings.blockFontList.placeholder}}),e.$on("changed",t[30]),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&4&&(i.height=o[2]),s[0]&1&&(i.settingValue=o[0].menu.block.list.join(`
`)),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Rl(t){let e,n;return e=new H({props:{block:!0,title:t[3].settings.menuSettings.blockFontList.title,text:t[3].settings.menuSettings.blockFontList.description,$$slots:{input:[Dl]},$$scope:{ctx:t}}}),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&5|s[1]&16&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}function Pl(t){let e,n,o,s,i,r,a,l;return e=new nt({props:{display:t[6][0].key===t[33],$$slots:{default:[cl]},$$scope:{ctx:t}}}),o=new nt({props:{display:t[6][1].key===t[33],$$slots:{default:[pl]},$$scope:{ctx:t}}}),i=new nt({props:{display:t[6][2].key===t[33],$$slots:{default:[Bl]},$$scope:{ctx:t}}}),a=new nt({props:{display:t[6][3].key===t[33],$$slots:{default:[Rl]},$$scope:{ctx:t}}}),{c(){A(e.$$.fragment),n=F(),A(o.$$.fragment),s=F(),A(i.$$.fragment),r=F(),A(a.$$.fragment)},m(c,u){T(e,c,u),j(c,n,u),T(o,c,u),j(c,s,u),T(i,c,u),j(c,r,u),T(a,c,u),l=!0},p(c,u){const m={};u[1]&4&&(m.display=c[6][0].key===c[33]),u[0]&2|u[1]&16&&(m.$$scope={dirty:u,ctx:c}),e.$set(m);const g={};u[1]&4&&(g.display=c[6][1].key===c[33]),u[0]&5|u[1]&16&&(g.$$scope={dirty:u,ctx:c}),o.$set(g);const f={};u[1]&4&&(f.display=c[6][2].key===c[33]),u[0]&5|u[1]&16&&(f.$$scope={dirty:u,ctx:c}),i.$set(f);const p={};u[1]&4&&(p.display=c[6][3].key===c[33]),u[0]&5|u[1]&16&&(p.$$scope={dirty:u,ctx:c}),a.$set(p)},i(c){l||(y(e.$$.fragment,c),y(o.$$.fragment,c),y(i.$$.fragment,c),y(a.$$.fragment,c),l=!0)},o(c){v(e.$$.fragment,c),v(o.$$.fragment,c),v(i.$$.fragment,c),v(a.$$.fragment,c),l=!1},d(c){O(e,c),c&&N(n),O(o,c),c&&N(s),O(i,c),c&&N(r),O(a,c)}}}function Fl(t){let e,n;return e=new $a({props:{panels:t[6],focus:Vl,$$slots:{default:[Pl,({focus:o})=>({33:o}),({focus:o})=>[0,o?4:0]]},$$scope:{ctx:t}}}),{c(){A(e.$$.fragment)},m(o,s){T(e,o,s),n=!0},p(o,s){const i={};s[0]&7|s[1]&20&&(i.$$scope={dirty:s,ctx:o}),e.$set(i)},i(o){n||(y(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){O(e,o)}}}const Ll="var(--b3-font-family)",Ml="var(--b3-font-family-protyle)",ql="var(--b3-font-family-code)",Il="var(--b3-font-family-graph)",Ul="var(--b3-font-family-math)",Hl="var(--b3-font-family-emoji)";let Vl=0,zl=0;function Gl(t,e,n){let{config:o}=e,{plugin:s}=e,{textareaHeight:i=0}=e;const r=s.i18n;function a(){s.updateConfig(o)}function l(){s.siyuan.confirm(r.settings.generalSettings.reset.title,r.settings.generalSettings.reset.description,async()=>{await s.resetConfig(),globalThis.location.reload()})}var c=(w=>(w[w.general=0]="general",w[w.snippet=1]="snippet",w[w.fonts=2]="fonts",w[w.menu=3]="menu",w))(c||{}),u=(w=>(w[w.base=0]="base",w[w.editor=1]="editor",w[w.code=2]="code",w[w.graph=3]="graph",w[w.math=4]="math",w[w.emoji=5]="emoji",w))(u||{});const m=[{key:0,text:r.settings.generalSettings.title,name:r.settings.generalSettings.title,icon:"#iconSettings"},{key:1,text:r.settings.cssSettings.title,name:r.settings.cssSettings.title,icon:"#iconCode"},{key:2,text:r.settings.fontsSettings.title,name:r.settings.fontsSettings.title,icon:"#iconFont"},{key:3,text:r.settings.menuSettings.title,name:r.settings.menuSettings.title,icon:"#iconMenu"}],g={fonts:[{key:0,text:r.settings.fontsSettings.base.title,name:r.settings.fontsSettings.base.title,icon:"🗛"},{key:1,text:r.settings.fontsSettings.editor.title,name:r.settings.fontsSettings.editor.title,icon:"🖺"},{key:2,text:r.settings.fontsSettings.code.title,name:r.settings.fontsSettings.code.title,icon:"💻"},{key:3,text:r.settings.fontsSettings.graph.title,name:r.settings.fontsSettings.graph.title,icon:"📊"},{key:4,text:r.settings.fontsSettings.math.title,name:r.settings.fontsSettings.math.title,icon:"🔢"},{key:5,text:r.settings.fontsSettings.emoji.title,name:r.settings.fontsSettings.emoji.title,icon:"🙂"}]},f=()=>s.showSystemFonts(),p=()=>s.showUsableFonts(),d=w=>{n(0,o.css.enable=w.detail.value,o),a()},_=w=>{n(0,o.css.code=w.detail.value,o),a()},B=w=>{n(0,o.fonts.base.enable=w.detail.value,o),a()},z=w=>{n(0,o.fonts.base.preview=w.detail.value,o),a()},U=w=>{w.detail.value===""?n(0,o.fonts.base.list=[],o):n(0,o.fonts.base.list=w.detail.value.split(`
`),o),a()},q=w=>{n(0,o.fonts.editor.enable=w.detail.value,o),a()},R=w=>{n(0,o.fonts.editor.preview=w.detail.value,o),a()},L=w=>{w.detail.value===""?n(0,o.fonts.editor.list=[],o):n(0,o.fonts.editor.list=w.detail.value.split(`
`),o),a()},C=w=>{n(0,o.fonts.code.enable=w.detail.value,o),a()},J=w=>{n(0,o.fonts.code.preview=w.detail.value,o),a()},G=w=>{w.detail.value===""?n(0,o.fonts.code.list=[],o):n(0,o.fonts.code.list=w.detail.value.split(`
`),o),a()},fe=w=>{n(0,o.fonts.graph.enable=w.detail.value,o),a()},pe=w=>{n(0,o.fonts.graph.preview=w.detail.value,o),a()},qe=w=>{w.detail.value===""?n(0,o.fonts.graph.list=[],o):n(0,o.fonts.graph.list=w.detail.value.split(`
`),o),a()},X=w=>{n(0,o.fonts.math.enable=w.detail.value,o),a()},he=w=>{n(0,o.fonts.math.preview=w.detail.value,o),a()},Ze=w=>{w.detail.value===""?n(0,o.fonts.math.list=[],o):n(0,o.fonts.math.list=w.detail.value.split(`
`),o),a()},me=w=>{n(0,o.fonts.emoji.enable=w.detail.value,o),a()},xe=w=>{n(0,o.fonts.emoji.preview=w.detail.value,o),a()},de=w=>{w.detail.value===""?n(0,o.fonts.emoji.list=[],o):n(0,o.fonts.emoji.list=w.detail.value.split(`
`),o),a()},Ie=w=>{w.detail.value===""?n(0,o.menu.block.list=[],o):n(0,o.menu.block.list=w.detail.value.split(`
`),o),a()};return t.$$set=w=>{"config"in w&&n(0,o=w.config),"plugin"in w&&n(1,s=w.plugin),"textareaHeight"in w&&n(2,i=w.textareaHeight)},[o,s,i,r,a,l,m,g,f,p,d,_,B,z,U,q,R,L,C,J,G,fe,pe,qe,X,he,Ze,me,xe,de,Ie]}class Kl extends ne{constructor(e){super(),te(this,e,Gl,Fl,ee,{config:0,plugin:1,textareaHeight:2},null,[-1,-1])}}function Wl(t){switch(t=t.trim(),!0){case(t.startsWith('"')&&t.endsWith('"')):case(t.startsWith("'")&&t.endsWith("'")):return t;default:return`"${t}"`}}function je(t){return t.filter(e=>!/^\s*$/.test(e)).map(Wl)}function Jl(t){var n,o,s,i,r,a;const e=[];if(e.push(":root {"),((n=t.base)==null?void 0:n.length)>0){const l=je(t.base);e.push(`    --b3-font-family: ${l.join(", ")};`)}if(((o=t.editor)==null?void 0:o.length)>0){const l=je(t.editor);e.push(`    --b3-font-family-protyle: ${l.join(", ")};`)}if(((s=t.code)==null?void 0:s.length)>0){const l=je(t.code);e.push(`    --b3-font-family-code: ${l.join(", ")};`)}if(((i=t.graph)==null?void 0:i.length)>0){const l=je(t.graph);e.push(`    --b3-font-family-graph: ${l.join(", ")};`)}if(((r=t.math)==null?void 0:r.length)>0){const l=je(t.math);e.push(`    --b3-font-family-math: ${l.join(", ")};`)}if(((a=t.emoji)==null?void 0:a.length)>0){const l=je(t.emoji);e.push(`    --b3-font-family-emoji: ${l.join(", ")};`)}return e.push("}"),e.join(`
`)}const Yl="custom-fonts",Ql="Zuoqiu Yingyi",Xl="https://github.com/Zuoqiu-Yingyi/siyuan-plugin-custom-fonts",Zl="1.2.0",xl="2.10.13",ec=["字体","字體","字型","font","字族","font family","字体列表","字體列表","字型列表","font list","块字体","塊字體","塊字型","block font"],tc=["all"],nc=["all"],oc={default:"Custom Fonts",zh_CN:"自定义字体",zh_CHT:"自定義字型"},sc={default:"Customize the fonts of various elements in the SiYuan interface.",zh_CN:"自定义思源界面中各种元素的字体。",zh_CHT:"自定義思源介面中各種元素的字型。"},ic={default:"README.md",zh_CN:"README_zh_CN.md",zh_CHT:"README_zh_CN.md"},rc={openCollective:"",patreon:"",github:"",custom:["https://afdian.net/a/zuoqiu","https://ko-fi.com/zuoqiu"]},ac={name:Yl,author:Ql,url:Xl,version:Zl,minAppVersion:xl,keywords:ec,backends:tc,frontends:nc,displayName:oc,description:sc,readme:ic,funding:rc},Be=`
|\`\`--==[[]]\\\\;;'',,..//~~!!@@##$$%%^^&&**(())__++{{}}||::""<<>>??|
|｀－＝［］＼；＇，．／￣！＠＃＄％＾＆＊（）＿＋｛｝｜：＂＜＞？|
|0011223344556677889900112233445566778899001122334455667788990011|
|０１２３４５６７８９０１２３４５６７８９０１２３４５６７８９０１|
|aabbccddeeffgghhiijjkkllmmnnooppqqrrssttuuvvwwxxyyzzaabbccddeeff|
|ａｂｃｄｅｆｇｈｉｊｋｌｍｎｏｐｑｒｓｔｕｖｗｘｙｚａｂｃｄｅｆ|
|AABBCCDDEEFFGGHHIIJJKKLLMMNNOOPPQQRRSSTTUUVVWWXXYYZZAABBCCDDEEFF|
|ＡＢＣＤＥＦＧＨＩＪＫＬＭＮＯＰＱＲＳＴＵＶＷＸＹＺＡＢＣＤＥＦ|
|零一二三四五六七八九零一二三四五六七八九零一二三四五六七八九零一|
|                                                                |
|　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　　|
`.trim(),mo={css:{enable:!0,code:`/* Twemoji Mozilla: https://github.com/mozilla/twemoji-colr */
@font-face {
    font-family: "Twemoji Mozilla";
    font-style: normal;
    src: url("plugins/${ac.name}/static/fonts/Twemoji.Mozilla/Twemoji.Mozilla-0.7.0.ttf");
}
`},fonts:{base:{enable:!1,preview:Be,list:["Helvetica Neue","Luxi Sans","DejaVu Sans","Hiragino Sans GB","Microsoft Yahei","sans-serif","Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji","Segoe UI Symbol","Android Emoji","EmojiSymbols"]},editor:{enable:!0,preview:Be,list:[]},code:{enable:!1,preview:Be,list:["JetBrainsMono-Regular","mononoki","Consolas","Liberation Mono","Menlo","Courier","monospace","Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji","Segoe UI Symbol","Android Emoji","EmojiSymbols"]},graph:{enable:!1,preview:Be,list:["mononoki"]},math:{enable:!1,preview:Be,list:["KaTeX_Math","KaTeX_Main"]},emoji:{enable:!0,preview:Be,list:["Twemoji Mozilla","Segoe UI Emoji","Segoe UI Symbol","Segoe UI","Apple Color Emoji","Noto Color Emoji","Android Emoji"]}},menu:{block:{enable:!0,list:["等线","方正舒体","方正姚体","仿宋","黑体","华文彩云","华文仿宋","华文琥珀","华文楷体","华文隶书","华文宋体","华文细黑","华文新魏","华文行楷","华文中宋","楷体","隶书","宋体","微软雅黑","新宋体","幼圆"]}}},Ge=class Ge extends ie.Plugin{constructor(n){super(n);x(this,"siyuan",ie);x(this,"logger");x(this,"client");x(this,"STYLE_SNIPPET_NAME");x(this,"SETTINGS_DIALOG_ID");x(this,"SYSTEM_FONTS_DIALOG_ID");x(this,"USABLE_FONTS_DIALOG_ID");x(this,"config");x(this,"blockMenuEventListener",n=>{const o=n.detail,s=ya(n.detail);if(s){const i=[];i.push({icon:"iconClear",label:this.i18n.menu.clearFontStyle.label,click:()=>{s.blocks.forEach(async r=>{r.element.style.fontFamily=null;const a=r.element.getAttribute("style");this.client.setBlockAttrs({id:r.id,attrs:{style:a}})})}}),i.push({type:"separator"}),this.config.menu.block.list.forEach(r=>{/^\s*$/.test(r)||(r=r.trim(),i.push({icon:"iconFont",label:r,accelerator:`font-family: ${r}`,click:()=>{s.blocks.forEach(async a=>{a.element.style.fontFamily=r;const l=a.element.getAttribute("style");this.client.setBlockAttrs({id:a.id,attrs:{style:l}})})},bind:a=>{const l=a.querySelector(".b3-menu__label");l&&(l.style.fontFamily=r)}}))}),o.menu.addItem({icon:"iconFont",label:this.i18n.menu.customBlockFont.label,submenu:i})}});this.logger=new Tr(this.name),this.client=new wr,this.STYLE_SNIPPET_NAME=`plugin-${this.name}-style`,this.SETTINGS_DIALOG_ID=`plugin-${this.name}-settings-dialog`,this.SYSTEM_FONTS_DIALOG_ID=`plugin-${this.name}-system-fonts-dialog`,this.USABLE_FONTS_DIALOG_ID=`plugin-${this.name}-usable-fonts-dialog`}onload(){this.addCommand({langKey:"show-system-fonts",langText:this.i18n.settings.generalSettings.showSystemFonts.title,hotkey:"",callback:()=>this.showSystemFonts()}),this.addCommand({langKey:"show-usable-fonts",langText:this.i18n.settings.generalSettings.showUsableFonts.title,hotkey:"",callback:()=>this.showUsableFonts()}),this.loadData(Ge.GLOBAL_CONFIG_NAME).then(n=>{this.config=Fn(mo,n||{})}).catch(n=>this.logger.error(n)).finally(async()=>{await this.updateStyle(),this.eventBus.on("click-blockicon",this.blockMenuEventListener)})}onLayoutReady(){}onunload(){this.eventBus.off("click-blockicon",this.blockMenuEventListener),this.client.getSnippet({type:"all",enabled:2}).then(n=>{const o=n.data.snippets,s=o.find(i=>i.name===this.STYLE_SNIPPET_NAME&&i.type==="css");s&&(s.enabled=!1,this.client.setSnippet({snippets:o}))})}openSetting(){const n=this,o=new ie.Dialog({title:`${this.i18n.displayName} <code class="fn__code">${this.name}</code>`,content:`<div id="${n.SETTINGS_DIALOG_ID}" class="fn__flex-column" />`,width:Rn?"92vw":"960px",height:Rn?void 0:"720px"});new Kl({target:o.element.querySelector(`#${n.SETTINGS_DIALOG_ID}`),props:{config:this.config,plugin:this,textareaHeight:320}})}async updateStyle(){const o=(await this.client.getSnippet({type:"all",enabled:2})).data.snippets;var s=o.find(r=>r.name===this.STYLE_SNIPPET_NAME&&r.type==="css");const i=[this.config.css.enable?this.config.css.code:void 0,Jl({base:this.config.fonts.base.enable?this.config.fonts.base.list:void 0,editor:this.config.fonts.editor.enable?this.config.fonts.editor.list:void 0,code:this.config.fonts.code.enable?this.config.fonts.code.list:void 0,graph:this.config.fonts.graph.enable?this.config.fonts.graph.list:void 0,math:this.config.fonts.math.enable?this.config.fonts.math.list:void 0,emoji:this.config.fonts.emoji.enable?this.config.fonts.emoji.list:void 0})].join(`

`);s?(s.enabled=!0,s.content=i):(s={id:globalThis.Lute.NewNodeID(),type:"css",name:this.STYLE_SNIPPET_NAME,memo:"",content:i,enabled:!0},o.push(s)),await this.client.setSnippet({snippets:o}),ka([s])}async resetConfig(){return this.updateConfig(Fn(mo))}async updateConfig(n){return n&&n!==this.config&&(this.config=n),this.updateStyle(),this.saveData(Ge.GLOBAL_CONFIG_NAME,this.config)}async showSystemFonts(){const n=new ie.Dialog({title:this.i18n.settings.generalSettings.showSystemFonts.title,content:`<div id="${this.SYSTEM_FONTS_DIALOG_ID}" class="fn__flex-column">${this.i18n.message.loading}</div>`,height:"92vh"});ie.fetchPost("/api/system/getSysFonts",void 0,o=>{const s=n.element.querySelector(`#${this.SYSTEM_FONTS_DIALOG_ID}`);if(o.code===0){const i=o.data.map(r=>({icon:"#iconFont",text:r,meta:r,style:`font-family: "${r}"`}));s.innerHTML="",new Pt({target:s,props:{items:i}})}else s.textContent=o.msg})}async showUsableFonts(){if(globalThis.queryLocalFonts){const n=await globalThis.queryLocalFonts(),o=[],s=Hr(n);s.families.forEach(r=>{const a=s.map.get(r),l=a.find(c=>c.style==="Regular")??a[0];o.push({icon:"#iconFont",text:l.fullName,meta:l.family,style:`font-family: "${l.family}"`,fold:!0,indent:"18px",children:a.map(c=>({icon:"#iconFont",text:c.fullName,meta:c.style,style:`font: ${ba(c,14)};`}))})});const i=new ie.Dialog({title:this.i18n.settings.generalSettings.showUsableFonts.title,content:`<div id="${this.USABLE_FONTS_DIALOG_ID}" class="fn__flex-column" />`,height:"92vh"});new Pt({target:i.element.querySelector(`#${this.USABLE_FONTS_DIALOG_ID}`),props:{items:o}})}else ie.showMessage(`${this.i18n.message.notSupportQueryLocalFonts}<br />[${this.i18n.displayName} <code class="fn__code">${this.name}</code>]`,void 0,"error")}};x(Ge,"GLOBAL_CONFIG_NAME","global-config");let Ft=Ge;module.exports=Ft;
